function CP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ST(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},Vc={},Mm={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function RP(){if(Lx)return $e;Lx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function C(H,ee,ye){this.props=H,this.context=ee,this.refs=I,this.updater=ye||b}C.prototype.isReactComponent={},C.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=C.prototype;function L(H,ee,ye){this.props=H,this.context=ee,this.refs=I,this.updater=ye||b}var O=L.prototype=new D;O.constructor=L,R(O,C.prototype),O.isPureReactComponent=!0;var B=Array.isArray,q=Object.prototype.hasOwnProperty,X={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(H,ee,ye){var ge,Ve={},Me=null,ie=null;if(ee!=null)for(ge in ee.ref!==void 0&&(ie=ee.ref),ee.key!==void 0&&(Me=""+ee.key),ee)q.call(ee,ge)&&!N.hasOwnProperty(ge)&&(Ve[ge]=ee[ge]);var be=arguments.length-2;if(be===1)Ve.children=ye;else if(1<be){for(var ke=Array(be),je=0;je<be;je++)ke[je]=arguments[je+2];Ve.children=ke}if(H&&H.defaultProps)for(ge in be=H.defaultProps,be)Ve[ge]===void 0&&(Ve[ge]=be[ge]);return{$$typeof:t,type:H,key:Me,ref:ie,props:Ve,_owner:X.current}}function A(H,ee){return{$$typeof:t,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ee[ye]})}var M=/\/+/g;function V(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ee.toString(36)}function he(H,ee,ye,ge,Ve){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var ie=!1;if(H===null)ie=!0;else switch(Me){case"string":case"number":ie=!0;break;case"object":switch(H.$$typeof){case t:case e:ie=!0}}if(ie)return ie=H,Ve=Ve(ie),H=ge===""?"."+V(ie,0):ge,B(Ve)?(ye="",H!=null&&(ye=H.replace(M,"$&/")+"/"),he(Ve,ee,ye,"",function(je){return je})):Ve!=null&&(j(Ve)&&(Ve=A(Ve,ye+(!Ve.key||ie&&ie.key===Ve.key?"":(""+Ve.key).replace(M,"$&/")+"/")+H)),ee.push(Ve)),1;if(ie=0,ge=ge===""?".":ge+":",B(H))for(var be=0;be<H.length;be++){Me=H[be];var ke=ge+V(Me,be);ie+=he(Me,ee,ye,ke,Ve)}else if(ke=w(H),typeof ke=="function")for(H=ke.call(H),be=0;!(Me=H.next()).done;)Me=Me.value,ke=ge+V(Me,be++),ie+=he(Me,ee,ye,ke,Ve);else if(Me==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ie}function Ie(H,ee,ye){if(H==null)return H;var ge=[],Ve=0;return he(H,ge,"","",function(Me){return ee.call(ye,Me,Ve++)}),ge}function Ee(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var ue={current:null},W={transition:null},ae={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:W,ReactCurrentOwner:X};function oe(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ie,forEach:function(H,ee,ye){Ie(H,function(){ee.apply(this,arguments)},ye)},count:function(H){var ee=0;return Ie(H,function(){ee++}),ee},toArray:function(H){return Ie(H,function(ee){return ee})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},$e.Component=C,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=L,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,$e.act=oe,$e.cloneElement=function(H,ee,ye){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ge=R({},H.props),Ve=H.key,Me=H.ref,ie=H._owner;if(ee!=null){if(ee.ref!==void 0&&(Me=ee.ref,ie=X.current),ee.key!==void 0&&(Ve=""+ee.key),H.type&&H.type.defaultProps)var be=H.type.defaultProps;for(ke in ee)q.call(ee,ke)&&!N.hasOwnProperty(ke)&&(ge[ke]=ee[ke]===void 0&&be!==void 0?be[ke]:ee[ke])}var ke=arguments.length-2;if(ke===1)ge.children=ye;else if(1<ke){be=Array(ke);for(var je=0;je<ke;je++)be[je]=arguments[je+2];ge.children=be}return{$$typeof:t,type:H.type,key:Ve,ref:Me,props:ge,_owner:ie}},$e.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},$e.createElement=T,$e.createFactory=function(H){var ee=T.bind(null,H);return ee.type=H,ee},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:u,render:H}},$e.isValidElement=j,$e.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Ee}},$e.memo=function(H,ee){return{$$typeof:p,type:H,compare:ee===void 0?null:ee}},$e.startTransition=function(H){var ee=W.transition;W.transition={};try{H()}finally{W.transition=ee}},$e.unstable_act=oe,$e.useCallback=function(H,ee){return ue.current.useCallback(H,ee)},$e.useContext=function(H){return ue.current.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H){return ue.current.useDeferredValue(H)},$e.useEffect=function(H,ee){return ue.current.useEffect(H,ee)},$e.useId=function(){return ue.current.useId()},$e.useImperativeHandle=function(H,ee,ye){return ue.current.useImperativeHandle(H,ee,ye)},$e.useInsertionEffect=function(H,ee){return ue.current.useInsertionEffect(H,ee)},$e.useLayoutEffect=function(H,ee){return ue.current.useLayoutEffect(H,ee)},$e.useMemo=function(H,ee){return ue.current.useMemo(H,ee)},$e.useReducer=function(H,ee,ye){return ue.current.useReducer(H,ee,ye)},$e.useRef=function(H){return ue.current.useRef(H)},$e.useState=function(H){return ue.current.useState(H)},$e.useSyncExternalStore=function(H,ee,ye){return ue.current.useSyncExternalStore(H,ee,ye)},$e.useTransition=function(){return ue.current.useTransition()},$e.version="18.3.1",$e}var Fx;function My(){return Fx||(Fx=1,Mm.exports=RP()),Mm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function PP(){if(Ux)return Vc;Ux=1;var t=My(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,v={},w=null,b=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:b,props:v,_owner:s.current}}return Vc.Fragment=n,Vc.jsx=l,Vc.jsxs=l,Vc}var Bx;function kP(){return Bx||(Bx=1,Vm.exports=PP()),Vm.exports}var m=kP(),dh={},jm={exports:{}},Sn={},Om={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function NP(){return zx||(zx=1,(function(t){function e(W,ae){var oe=W.length;W.push(ae);e:for(;0<oe;){var H=oe-1>>>1,ee=W[H];if(0<s(ee,ae))W[H]=ae,W[oe]=ee,oe=H;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],oe=W.pop();if(oe!==ae){W[0]=oe;e:for(var H=0,ee=W.length,ye=ee>>>1;H<ye;){var ge=2*(H+1)-1,Ve=W[ge],Me=ge+1,ie=W[Me];if(0>s(Ve,oe))Me<ee&&0>s(ie,Ve)?(W[H]=ie,W[Me]=oe,H=Me):(W[H]=Ve,W[ge]=oe,H=ge);else if(Me<ee&&0>s(ie,oe))W[H]=ie,W[Me]=oe,H=Me;else break e}}return ae}function s(W,ae){var oe=W.sortIndex-ae.sortIndex;return oe!==0?oe:W.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,v=null,w=3,b=!1,R=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=W)r(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(p)}}function B(W){if(I=!1,O(W),!R)if(n(h)!==null)R=!0,Ee(q);else{var ae=n(p);ae!==null&&ue(B,ae.startTime-W)}}function q(W,ae){R=!1,I&&(I=!1,D(T),T=-1),b=!0;var oe=w;try{for(O(ae),v=n(h);v!==null&&(!(v.expirationTime>ae)||W&&!U());){var H=v.callback;if(typeof H=="function"){v.callback=null,w=v.priorityLevel;var ee=H(v.expirationTime<=ae);ae=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(h)&&r(h),O(ae)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var ge=n(p);ge!==null&&ue(B,ge.startTime-ae),ye=!1}return ye}finally{v=null,w=oe,b=!1}}var X=!1,N=null,T=-1,A=5,j=-1;function U(){return!(t.unstable_now()-j<A)}function M(){if(N!==null){var W=t.unstable_now();j=W;var ae=!0;try{ae=N(!0,W)}finally{ae?V():(X=!1,N=null)}}else X=!1}var V;if(typeof L=="function")V=function(){L(M)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ie=he.port2;he.port1.onmessage=M,V=function(){Ie.postMessage(null)}}else V=function(){C(M,0)};function Ee(W){N=W,X||(X=!0,V())}function ue(W,ae){T=C(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){R||b||(R=!0,Ee(q))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var oe=w;w=ae;try{return W()}finally{w=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=w;w=W;try{return ae()}finally{w=oe}},t.unstable_scheduleCallback=function(W,ae,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,W){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,W={id:g++,callback:ae,priorityLevel:W,startTime:oe,expirationTime:ee,sortIndex:-1},oe>H?(W.sortIndex=oe,e(p,W),n(h)===null&&W===n(p)&&(I?(D(T),T=-1):I=!0,ue(B,oe-H))):(W.sortIndex=ee,e(h,W),R||b||(R=!0,Ee(q))),W},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(W){var ae=w;return function(){var oe=w;w=ae;try{return W.apply(this,arguments)}finally{w=oe}}}})(Lm)),Lm}var $x;function DP(){return $x||($x=1,Om.exports=NP()),Om.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function VP(){if(Hx)return Sn;Hx=1;var t=My(),e=DP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function b(i,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,c,f){if(o===null||typeof o>"u"||b(i,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(i,o,c,f,y,x,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new I(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,L);C[o]=new I(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,L);C[o]=new I(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,L);C[o]=new I(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,o,c,f){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,c,y,f)&&(c=null),f||y===null?w(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,f=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?i.setAttributeNS(f,o,c):i.setAttribute(o,c))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),X=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),W=Symbol.iterator;function ae(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,H;function ee(i){if(H===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+i}var ye=!1;function ge(i,o){if(!i||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){f=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}i()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=f.stack.split(`
`),S=y.length-1,F=x.length-1;1<=S&&0<=F&&y[S]!==x[F];)F--;for(;1<=S&&0<=F;S--,F--)if(y[S]!==x[F]){if(S!==1||F!==1)do if(S--,F--,0>F||y[S]!==x[F]){var z=`
`+y[S].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=S&&0<=F);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ve(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case X:return"Portal";case A:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ie:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Ee:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function ie(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function je(i){var o=ke(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ue(i){i._valueTracker||(i._valueTracker=je(i))}function Be(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=ke(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Wt(i,o){var c=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Cr(i,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=be(o.value!=null?o.value:c),i._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wn(i,o){o=o.checked,o!=null&&O(i,"checked",o,!1)}function Cn(i,o){Wn(i,o);var c=be(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?it(i,o.type,c):o.hasOwnProperty("defaultValue")&&it(i,o.type,be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ao(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function it(i,o,c){(o!=="number"||vt(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var bt=Array.isArray;function ar(i,o,c,f){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+be(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function zl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function $l(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(bt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:be(c)}}function Xu(i,o){var c=be(o.value),f=be(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),f!=null&&(i.defaultValue=""+f)}function Gs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Hl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Hl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ks,Ju=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,f,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ks.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function lo(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zu=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(i){Zu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Qs[o]=Qs[i]})});function Ys(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Qs.hasOwnProperty(i)&&Qs[i]?(""+o).trim():o+"px"}function ua(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=Ys(c,o[c],f);c==="float"&&(c="cssFloat"),f?i.setProperty(c,y):i[c]=y}}var Wl=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(i,o){if(o){if(Wl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function da(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function ha(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,us=null,wt=null;function ql(i){if(i=wc(i)){if(typeof cs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Id(o),cs(i.stateNode,i.type,o))}}function Js(i){us?wt?wt.push(i):wt=[i]:us=i}function Zs(){if(us){var i=us,o=wt;if(wt=us=null,ql(i),o)for(i=0;i<o.length;i++)ql(o[i])}}function ed(i,o){return i(o)}function td(){}var Rr=!1;function nd(i,o,c){if(Rr)return i(o,c);Rr=!0;try{return ed(i,o,c)}finally{Rr=!1,(us!==null||wt!==null)&&(td(),Zs())}}function co(i,o){var c=i.stateNode;if(c===null)return null;var f=Id(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var ei=!1;if(u)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){ei=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{ei=!1}function rd(i,o,c,f,y,x,S,F,z){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(re){this.onError(re)}}var ds=!1,Pr=null,fa=!1,qn=null,sd={onError:function(i){ds=!0,Pr=i}};function id(i,o,c,f,y,x,S,F,z){ds=!1,Pr=null,rd.apply(sd,arguments)}function Gl(i,o,c,f,y,x,S,F,z){if(id.apply(this,arguments),ds){if(ds){var Y=Pr;ds=!1,Pr=null}else throw Error(n(198));fa||(fa=!0,qn=Y)}}function cr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Kl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function od(i){if(cr(i)!==i)throw Error(n(188))}function ad(i){var o=i.alternate;if(!o){if(o=cr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return od(y),i;if(x===f)return od(y),o;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=y,f=x;else{for(var S=!1,F=y.child;F;){if(F===c){S=!0,c=y,f=x;break}if(F===f){S=!0,f=y,c=x;break}F=F.sibling}if(!S){for(F=x.child;F;){if(F===c){S=!0,c=x,f=y;break}if(F===f){S=!0,f=x,c=y;break}F=F.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function ld(i){return i=ad(i),i!==null?uo(i):null}function uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=uo(i);if(o!==null)return o;i=i.sibling}return null}var Ql=e.unstable_scheduleCallback,pa=e.unstable_cancelCallback,ho=e.unstable_shouldYield,hs=e.unstable_requestPaint,ot=e.unstable_now,dp=e.unstable_getCurrentPriorityLevel,ma=e.unstable_ImmediatePriority,Yl=e.unstable_UserBlockingPriority,fo=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,ga=e.unstable_IdlePriority,po=null,Rn=null;function cd(i){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(po,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:mo,kr=Math.log,Gn=Math.LN2;function mo(i){return i>>>=0,i===0?32:31-(kr(i)/Gn|0)|0}var Nr=64,ni=4194304;function et(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function fs(i,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,y=i.suspendedLanes,x=i.pingedLanes,S=c&268435455;if(S!==0){var F=S&~y;F!==0?f=et(F):(x&=S,x!==0&&(f=et(x)))}else S=c&~y,S!==0?f=et(S):x!==0&&(f=et(x));if(f===0)return 0;if(o!==0&&o!==f&&(o&y)===0&&(y=f&-f,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)c=31-Pn(o),y=1<<c,f|=i[c],o&=~y;return f}function go(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes;0<x;){var S=31-Pn(x),F=1<<S,z=y[S];z===-1?((F&c)===0||(F&f)!==0)&&(y[S]=go(F,o)):z<=o&&(i.expiredLanes|=F),x&=~F}}function Jl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Zl(){var i=Nr;return Nr<<=1,(Nr&4194240)===0&&(Nr=64),i}function ec(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function vo(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Pn(o),i[o]=c}function hp(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-Pn(c),x=1<<y;o[y]=0,f[y]=-1,i[y]=-1,c&=~x}}function tc(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-Pn(c),y=1<<f;y&o|i[f]&o&&(i[f]|=o),c&=~y}}var Ke=0;function Dr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var nc,ya,rc,sc,ic,Vr=!1,va=[],Mr=null,jr=null,qt=null,wo=new Map,ps=new Map,kn=[],ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ri(i,o){switch(i){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":wo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(o.pointerId)}}function ur(i,o,c,f,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=wc(o),o!==null&&ya(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function dd(i,o,c,f,y){switch(o){case"focusin":return Mr=ur(Mr,i,o,c,f,y),!0;case"dragenter":return jr=ur(jr,i,o,c,f,y),!0;case"mouseover":return qt=ur(qt,i,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return wo.set(x,ur(wo.get(x)||null,i,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,ps.set(x,ur(ps.get(x)||null,i,o,c,f,y)),!0}return!1}function wa(i){var o=bo(i.target);if(o!==null){var c=cr(o);if(c!==null){if(o=c.tag,o===13){if(o=Kl(c),o!==null){i.blockedOn=o,ic(i.priority,function(){rc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=xa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Xs=f,c.target.dispatchEvent(f),Xs=null}else return o=wc(c),o!==null&&ya(o),i.blockedOn=c,!1;o.shift()}return!0}function hd(i,o,c){rt(i)&&c.delete(o)}function fp(){Vr=!1,Mr!==null&&rt(Mr)&&(Mr=null),jr!==null&&rt(jr)&&(jr=null),qt!==null&&rt(qt)&&(qt=null),wo.forEach(hd),ps.forEach(hd)}function si(i,o){i.blockedOn===o&&(i.blockedOn=null,Vr||(Vr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fp)))}function ii(i){function o(y){return si(y,i)}if(0<va.length){si(va[0],i);for(var c=1;c<va.length;c++){var f=va[c];f.blockedOn===i&&(f.blockedOn=null)}}for(Mr!==null&&si(Mr,i),jr!==null&&si(jr,i),qt!==null&&si(qt,i),wo.forEach(o),ps.forEach(o),c=0;c<kn.length;c++)f=kn[c],f.blockedOn===i&&(f.blockedOn=null);for(;0<kn.length&&(c=kn[0],c.blockedOn===null);)wa(c),c.blockedOn===null&&kn.shift()}var ms=B.ReactCurrentBatchConfig,gs=!0;function Or(i,o,c,f){var y=Ke,x=ms.transition;ms.transition=null;try{Ke=1,oc(i,o,c,f)}finally{Ke=y,ms.transition=x}}function fd(i,o,c,f){var y=Ke,x=ms.transition;ms.transition=null;try{Ke=4,oc(i,o,c,f)}finally{Ke=y,ms.transition=x}}function oc(i,o,c,f){if(gs){var y=xa(i,o,c,f);if(y===null)Tp(i,o,f,Lr,c),ri(i,f);else if(dd(y,i,o,c,f))f.stopPropagation();else if(ri(i,f),o&4&&-1<ud.indexOf(i)){for(;y!==null;){var x=wc(y);if(x!==null&&nc(x),x=xa(i,o,c,f),x===null&&Tp(i,o,f,Lr,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else Tp(i,o,f,null,c)}}var Lr=null;function xa(i,o,c,f){if(Lr=null,i=ha(f),i=bo(i),i!==null)if(o=cr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Kl(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Lr=i,null}function _a(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dp()){case ma:return 1;case Yl:return 4;case fo:case Xl:return 16;case ga:return 536870912;default:return 16}default:return 16}}var Nn=null,Ea=null,ys=null;function pd(){if(ys)return ys;var i,o=Ea,c=o.length,f,y="value"in Nn?Nn.value:Nn.textContent,x=y.length;for(i=0;i<c&&o[i]===y[i];i++);var S=c-i;for(f=1;f<=S&&o[c-f]===y[x-f];f++);return ys=y.slice(i,1<f?1-f:void 0)}function xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Fr(){return!0}function ac(){return!1}function sn(i){function o(c,f,y,x,S){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(c=i[F],this[F]=c?c(x):x[F]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Fr:ac,this.isPropagationStopped=ac,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),o}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=sn(Ur),oi=oe({},Ur,{view:0,detail:0}),ba=sn(oi),Ta,Sa,Dn,Eo=oe({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Dn&&(Dn&&i.type==="mousemove"?(Ta=i.screenX-Dn.screenX,Sa=i.screenY-Dn.screenY):Sa=Ta=0,Dn=i),Ta)},movementY:function(i){return"movementY"in i?i.movementY:Sa}}),lc=sn(Eo),md=oe({},Eo,{dataTransfer:0}),gd=sn(md),Ia=oe({},oi,{relatedTarget:0}),Gt=sn(Ia),yd=oe({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),vd=sn(yd),ai=oe({},Ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),d=sn(ai),_=oe({},Ur,{data:0}),E=sn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J[i])?!!o[i]:!1}function Fe(){return ce}var Tt=oe({},oi,{key:function(i){if(i.key){var o=k[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=sn(Tt),Ct=oe({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vn=sn(Ct),vs=oe({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),Br=sn(vs),zr=oe({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aa=sn(zr),cc=oe({},Eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ER=sn(cc),bR=[9,13,27,32],pp=u&&"CompositionEvent"in window,uc=null;u&&"documentMode"in document&&(uc=document.documentMode);var TR=u&&"TextEvent"in window&&!uc,P0=u&&(!pp||uc&&8<uc&&11>=uc),k0=" ",N0=!1;function D0(i,o){switch(i){case"keyup":return bR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ca=!1;function SR(i,o){switch(i){case"compositionend":return V0(o);case"keypress":return o.which!==32?null:(N0=!0,k0);case"textInput":return i=o.data,i===k0&&N0?null:i;default:return null}}function IR(i,o){if(Ca)return i==="compositionend"||!pp&&D0(i,o)?(i=pd(),ys=Ea=Nn=null,Ca=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return P0&&o.locale!=="ko"?null:o.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!AR[i.type]:o==="textarea"}function j0(i,o,c,f){Js(f),o=bd(o,"onChange"),0<o.length&&(c=new _o("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var dc=null,hc=null;function CR(i){ew(i,0)}function wd(i){var o=Da(i);if(Be(o))return i}function RR(i,o){if(i==="change")return o}var O0=!1;if(u){var mp;if(u){var gp="oninput"in document;if(!gp){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),gp=typeof L0.oninput=="function"}mp=gp}else mp=!1;O0=mp&&(!document.documentMode||9<document.documentMode)}function F0(){dc&&(dc.detachEvent("onpropertychange",U0),hc=dc=null)}function U0(i){if(i.propertyName==="value"&&wd(hc)){var o=[];j0(o,hc,i,ha(i)),nd(CR,o)}}function PR(i,o,c){i==="focusin"?(F0(),dc=o,hc=c,dc.attachEvent("onpropertychange",U0)):i==="focusout"&&F0()}function kR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wd(hc)}function NR(i,o){if(i==="click")return wd(o)}function DR(i,o){if(i==="input"||i==="change")return wd(o)}function VR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var dr=typeof Object.is=="function"?Object.is:VR;function fc(i,o){if(dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(o,y)||!dr(i[y],o[y]))return!1}return!0}function B0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function z0(i,o){var c=B0(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=B0(c)}}function $0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?$0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function H0(){for(var i=window,o=vt();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=vt(i.document)}return o}function yp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function MR(i){var o=H0(),c=i.focusedElem,f=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&$0(c.ownerDocument.documentElement,c)){if(f!==null&&yp(c)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,x=Math.min(f.start,y);f=f.end===void 0?x:Math.min(f.end,y),!i.extend&&x>f&&(y=f,f=x,x=y),y=z0(c,x);var S=z0(c,f);y&&S&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),x>f?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jR=u&&"documentMode"in document&&11>=document.documentMode,Ra=null,vp=null,pc=null,wp=!1;function W0(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wp||Ra==null||Ra!==vt(f)||(f=Ra,"selectionStart"in f&&yp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),pc&&fc(pc,f)||(pc=f,f=bd(vp,"onSelect"),0<f.length&&(o=new _o("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=Ra)))}function xd(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Pa={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},xp={},q0={};u&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function _d(i){if(xp[i])return xp[i];if(!Pa[i])return i;var o=Pa[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in q0)return xp[i]=o[c];return i}var G0=_d("animationend"),K0=_d("animationiteration"),Q0=_d("animationstart"),Y0=_d("transitionend"),X0=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(i,o){X0.set(i,o),a(o,[i])}for(var _p=0;_p<J0.length;_p++){var Ep=J0[_p],OR=Ep.toLowerCase(),LR=Ep[0].toUpperCase()+Ep.slice(1);li(OR,"on"+LR)}li(G0,"onAnimationEnd"),li(K0,"onAnimationIteration"),li(Q0,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Y0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Z0(i,o,c){var f=i.type||"unknown-event";i.currentTarget=c,Gl(f,o,void 0,i),i.currentTarget=null}function ew(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var S=f.length-1;0<=S;S--){var F=f[S],z=F.instance,Y=F.currentTarget;if(F=F.listener,z!==x&&y.isPropagationStopped())break e;Z0(y,F,Y),x=z}else for(S=0;S<f.length;S++){if(F=f[S],z=F.instance,Y=F.currentTarget,F=F.listener,z!==x&&y.isPropagationStopped())break e;Z0(y,F,Y),x=z}}}if(fa)throw i=qn,fa=!1,qn=null,i}function at(i,o){var c=o[Pp];c===void 0&&(c=o[Pp]=new Set);var f=i+"__bubble";c.has(f)||(tw(o,i,2,!1),c.add(f))}function bp(i,o,c){var f=0;o&&(f|=4),tw(c,i,f,o)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function gc(i){if(!i[Ed]){i[Ed]=!0,r.forEach(function(c){c!=="selectionchange"&&(FR.has(c)||bp(c,!1,i),bp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ed]||(o[Ed]=!0,bp("selectionchange",!1,o))}}function tw(i,o,c,f){switch(_a(o)){case 1:var y=Or;break;case 4:y=fd;break;default:y=oc}c=y.bind(null,o,c,i),y=void 0,!ei||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function Tp(i,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var F=f.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(S===4)for(S=f.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;S=S.return}for(;F!==null;){if(S=bo(F),S===null)return;if(z=S.tag,z===5||z===6){f=x=S;continue e}F=F.parentNode}}f=f.return}nd(function(){var Y=x,re=ha(c),se=[];e:{var ne=X0.get(i);if(ne!==void 0){var fe=_o,ve=i;switch(i){case"keypress":if(xo(c)===0)break e;case"keydown":case"keyup":fe=tt;break;case"focusin":ve="focus",fe=Gt;break;case"focusout":ve="blur",fe=Gt;break;case"beforeblur":case"afterblur":fe=Gt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Br;break;case G0:case K0:case Q0:fe=vd;break;case Y0:fe=Aa;break;case"scroll":fe=ba;break;case"wheel":fe=ER;break;case"copy":case"cut":case"paste":fe=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Vn}var Te=(o&4)!==0,St=!Te&&i==="scroll",G=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var $=Y,Q;$!==null;){Q=$;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,G!==null&&(le=co($,G),le!=null&&Te.push(yc($,le,Q)))),St)break;$=$.return}0<Te.length&&(ne=new fe(ne,ve,null,c,re),se.push({event:ne,listeners:Te}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ne&&c!==Xs&&(ve=c.relatedTarget||c.fromElement)&&(bo(ve)||ve[ws]))break e;if((fe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(ve=c.relatedTarget||c.toElement,fe=Y,ve=ve?bo(ve):null,ve!==null&&(St=cr(ve),ve!==St||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Y),fe!==ve)){if(Te=lc,le="onMouseLeave",G="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Vn,le="onPointerLeave",G="onPointerEnter",$="pointer"),St=fe==null?ne:Da(fe),Q=ve==null?ne:Da(ve),ne=new Te(le,$+"leave",fe,c,re),ne.target=St,ne.relatedTarget=Q,le=null,bo(re)===Y&&(Te=new Te(G,$+"enter",ve,c,re),Te.target=Q,Te.relatedTarget=St,le=Te),St=le,fe&&ve)t:{for(Te=fe,G=ve,$=0,Q=Te;Q;Q=ka(Q))$++;for(Q=0,le=G;le;le=ka(le))Q++;for(;0<$-Q;)Te=ka(Te),$--;for(;0<Q-$;)G=ka(G),Q--;for(;$--;){if(Te===G||G!==null&&Te===G.alternate)break t;Te=ka(Te),G=ka(G)}Te=null}else Te=null;fe!==null&&nw(se,ne,fe,Te,!1),ve!==null&&St!==null&&nw(se,St,ve,Te,!0)}}e:{if(ne=Y?Da(Y):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var Se=RR;else if(M0(ne))if(O0)Se=DR;else{Se=kR;var Re=PR}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=NR);if(Se&&(Se=Se(i,Y))){j0(se,Se,c,re);break e}Re&&Re(i,ne,Y),i==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&it(ne,"number",ne.value)}switch(Re=Y?Da(Y):window,i){case"focusin":(M0(Re)||Re.contentEditable==="true")&&(Ra=Re,vp=Y,pc=null);break;case"focusout":pc=vp=Ra=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,W0(se,c,re);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":W0(se,c,re)}var Pe;if(pp)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ca?D0(i,c)&&(Oe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&(P0&&c.locale!=="ko"&&(Ca||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ca&&(Pe=pd()):(Nn=re,Ea="value"in Nn?Nn.value:Nn.textContent,Ca=!0)),Re=bd(Y,Oe),0<Re.length&&(Oe=new E(Oe,i,null,c,re),se.push({event:Oe,listeners:Re}),Pe?Oe.data=Pe:(Pe=V0(c),Pe!==null&&(Oe.data=Pe)))),(Pe=TR?SR(i,c):IR(i,c))&&(Y=bd(Y,"onBeforeInput"),0<Y.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),se.push({event:re,listeners:Y}),re.data=Pe))}ew(se,o)})}function yc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function bd(i,o){for(var c=o+"Capture",f=[];i!==null;){var y=i,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=co(i,c),x!=null&&f.unshift(yc(i,x,y)),x=co(i,o),x!=null&&f.push(yc(i,x,y))),i=i.return}return f}function ka(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nw(i,o,c,f,y){for(var x=o._reactName,S=[];c!==null&&c!==f;){var F=c,z=F.alternate,Y=F.stateNode;if(z!==null&&z===f)break;F.tag===5&&Y!==null&&(F=Y,y?(z=co(c,x),z!=null&&S.unshift(yc(c,z,F))):y||(z=co(c,x),z!=null&&S.push(yc(c,z,F)))),c=c.return}S.length!==0&&i.push({event:o,listeners:S})}var UR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function rw(i){return(typeof i=="string"?i:""+i).replace(UR,`
`).replace(BR,"")}function Td(i,o,c){if(o=rw(o),rw(i)!==o&&c)throw Error(n(425))}function Sd(){}var Sp=null,Ip=null;function Ap(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(i){return sw.resolve(null).then(i).catch(HR)}:Cp;function HR(i){setTimeout(function(){throw i})}function Rp(i,o){var c=o,f=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){i.removeChild(y),ii(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);ii(o)}function ci(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function iw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Na=Math.random().toString(36).slice(2),$r="__reactFiber$"+Na,vc="__reactProps$"+Na,ws="__reactContainer$"+Na,Pp="__reactEvents$"+Na,WR="__reactListeners$"+Na,qR="__reactHandles$"+Na;function bo(i){var o=i[$r];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ws]||c[$r]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=iw(i);i!==null;){if(c=i[$r])return c;i=iw(i)}return o}i=c,c=i.parentNode}return null}function wc(i){return i=i[$r]||i[ws],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Da(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Id(i){return i[vc]||null}var kp=[],Va=-1;function ui(i){return{current:i}}function lt(i){0>Va||(i.current=kp[Va],kp[Va]=null,Va--)}function st(i,o){Va++,kp[Va]=i.current,i.current=o}var di={},on=ui(di),xn=ui(!1),To=di;function Ma(i,o){var c=i.type.contextTypes;if(!c)return di;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function _n(i){return i=i.childContextTypes,i!=null}function Ad(){lt(xn),lt(on)}function ow(i,o,c){if(on.current!==di)throw Error(n(168));st(on,o),st(xn,c)}function aw(i,o,c){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(n(108,ie(i)||"Unknown",y));return oe({},c,f)}function Cd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||di,To=on.current,st(on,i),st(xn,xn.current),!0}function lw(i,o,c){var f=i.stateNode;if(!f)throw Error(n(169));c?(i=aw(i,o,To),f.__reactInternalMemoizedMergedChildContext=i,lt(xn),lt(on),st(on,i)):lt(xn),st(xn,c)}var xs=null,Rd=!1,Np=!1;function cw(i){xs===null?xs=[i]:xs.push(i)}function GR(i){Rd=!0,cw(i)}function hi(){if(!Np&&xs!==null){Np=!0;var i=0,o=Ke;try{var c=xs;for(Ke=1;i<c.length;i++){var f=c[i];do f=f(!0);while(f!==null)}xs=null,Rd=!1}catch(y){throw xs!==null&&(xs=xs.slice(i+1)),Ql(ma,hi),y}finally{Ke=o,Np=!1}}return null}var ja=[],Oa=0,Pd=null,kd=0,Kn=[],Qn=0,So=null,_s=1,Es="";function Io(i,o){ja[Oa++]=kd,ja[Oa++]=Pd,Pd=i,kd=o}function uw(i,o,c){Kn[Qn++]=_s,Kn[Qn++]=Es,Kn[Qn++]=So,So=i;var f=_s;i=Es;var y=32-Pn(f)-1;f&=~(1<<y),c+=1;var x=32-Pn(o)+y;if(30<x){var S=y-y%5;x=(f&(1<<S)-1).toString(32),f>>=S,y-=S,_s=1<<32-Pn(o)+y|c<<y|f,Es=x+i}else _s=1<<x|c<<y|f,Es=i}function Dp(i){i.return!==null&&(Io(i,1),uw(i,1,0))}function Vp(i){for(;i===Pd;)Pd=ja[--Oa],ja[Oa]=null,kd=ja[--Oa],ja[Oa]=null;for(;i===So;)So=Kn[--Qn],Kn[Qn]=null,Es=Kn[--Qn],Kn[Qn]=null,_s=Kn[--Qn],Kn[Qn]=null}var Mn=null,jn=null,dt=!1,hr=null;function dw(i,o){var c=Zn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function hw(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Mn=i,jn=ci(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Mn=i,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=So!==null?{id:_s,overflow:Es}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Zn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Mn=i,jn=null,!0):!1;default:return!1}}function Mp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jp(i){if(dt){var o=jn;if(o){var c=o;if(!hw(i,o)){if(Mp(i))throw Error(n(418));o=ci(c.nextSibling);var f=Mn;o&&hw(i,o)?dw(f,c):(i.flags=i.flags&-4097|2,dt=!1,Mn=i)}}else{if(Mp(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,Mn=i}}}function fw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Mn=i}function Nd(i){if(i!==Mn)return!1;if(!dt)return fw(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ap(i.type,i.memoizedProps)),o&&(o=jn)){if(Mp(i))throw pw(),Error(n(418));for(;o;)dw(i,o),o=ci(o.nextSibling)}if(fw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){jn=ci(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}jn=null}}else jn=Mn?ci(i.stateNode.nextSibling):null;return!0}function pw(){for(var i=jn;i;)i=ci(i.nextSibling)}function La(){jn=Mn=null,dt=!1}function Op(i){hr===null?hr=[i]:hr.push(i)}var KR=B.ReactCurrentBatchConfig;function xc(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,i));var y=f,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(S){var F=y.refs;S===null?delete F[x]:F[x]=S},o._stringRef=x,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function Dd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function mw(i){var o=i._init;return o(i._payload)}function gw(i){function o(G,$){if(i){var Q=G.deletions;Q===null?(G.deletions=[$],G.flags|=16):Q.push($)}}function c(G,$){if(!i)return null;for(;$!==null;)o(G,$),$=$.sibling;return null}function f(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function y(G,$){return G=xi(G,$),G.index=0,G.sibling=null,G}function x(G,$,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<$?(G.flags|=2,$):Q):(G.flags|=2,$)):(G.flags|=1048576,$)}function S(G){return i&&G.alternate===null&&(G.flags|=2),G}function F(G,$,Q,le){return $===null||$.tag!==6?($=Cm(Q,G.mode,le),$.return=G,$):($=y($,Q),$.return=G,$)}function z(G,$,Q,le){var Se=Q.type;return Se===N?re(G,$,Q.props.children,le,Q.key):$!==null&&($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ee&&mw(Se)===$.type)?(le=y($,Q.props),le.ref=xc(G,$,Q),le.return=G,le):(le=rh(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=xc(G,$,Q),le.return=G,le)}function Y(G,$,Q,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Rm(Q,G.mode,le),$.return=G,$):($=y($,Q.children||[]),$.return=G,$)}function re(G,$,Q,le,Se){return $===null||$.tag!==7?($=Vo(Q,G.mode,le,Se),$.return=G,$):($=y($,Q),$.return=G,$)}function se(G,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Cm(""+$,G.mode,Q),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return Q=rh($.type,$.key,$.props,null,G.mode,Q),Q.ref=xc(G,null,$),Q.return=G,Q;case X:return $=Rm($,G.mode,Q),$.return=G,$;case Ee:var le=$._init;return se(G,le($._payload),Q)}if(bt($)||ae($))return $=Vo($,G.mode,Q,null),$.return=G,$;Dd(G,$)}return null}function ne(G,$,Q,le){var Se=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Se!==null?null:F(G,$,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return Q.key===Se?z(G,$,Q,le):null;case X:return Q.key===Se?Y(G,$,Q,le):null;case Ee:return Se=Q._init,ne(G,$,Se(Q._payload),le)}if(bt(Q)||ae(Q))return Se!==null?null:re(G,$,Q,le,null);Dd(G,Q)}return null}function fe(G,$,Q,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(Q)||null,F($,G,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case q:return G=G.get(le.key===null?Q:le.key)||null,z($,G,le,Se);case X:return G=G.get(le.key===null?Q:le.key)||null,Y($,G,le,Se);case Ee:var Re=le._init;return fe(G,$,Q,Re(le._payload),Se)}if(bt(le)||ae(le))return G=G.get(Q)||null,re($,G,le,Se,null);Dd($,le)}return null}function ve(G,$,Q,le){for(var Se=null,Re=null,Pe=$,Oe=$=0,zt=null;Pe!==null&&Oe<Q.length;Oe++){Pe.index>Oe?(zt=Pe,Pe=null):zt=Pe.sibling;var Ze=ne(G,Pe,Q[Oe],le);if(Ze===null){Pe===null&&(Pe=zt);break}i&&Pe&&Ze.alternate===null&&o(G,Pe),$=x(Ze,$,Oe),Re===null?Se=Ze:Re.sibling=Ze,Re=Ze,Pe=zt}if(Oe===Q.length)return c(G,Pe),dt&&Io(G,Oe),Se;if(Pe===null){for(;Oe<Q.length;Oe++)Pe=se(G,Q[Oe],le),Pe!==null&&($=x(Pe,$,Oe),Re===null?Se=Pe:Re.sibling=Pe,Re=Pe);return dt&&Io(G,Oe),Se}for(Pe=f(G,Pe);Oe<Q.length;Oe++)zt=fe(Pe,G,Oe,Q[Oe],le),zt!==null&&(i&&zt.alternate!==null&&Pe.delete(zt.key===null?Oe:zt.key),$=x(zt,$,Oe),Re===null?Se=zt:Re.sibling=zt,Re=zt);return i&&Pe.forEach(function(_i){return o(G,_i)}),dt&&Io(G,Oe),Se}function Te(G,$,Q,le){var Se=ae(Q);if(typeof Se!="function")throw Error(n(150));if(Q=Se.call(Q),Q==null)throw Error(n(151));for(var Re=Se=null,Pe=$,Oe=$=0,zt=null,Ze=Q.next();Pe!==null&&!Ze.done;Oe++,Ze=Q.next()){Pe.index>Oe?(zt=Pe,Pe=null):zt=Pe.sibling;var _i=ne(G,Pe,Ze.value,le);if(_i===null){Pe===null&&(Pe=zt);break}i&&Pe&&_i.alternate===null&&o(G,Pe),$=x(_i,$,Oe),Re===null?Se=_i:Re.sibling=_i,Re=_i,Pe=zt}if(Ze.done)return c(G,Pe),dt&&Io(G,Oe),Se;if(Pe===null){for(;!Ze.done;Oe++,Ze=Q.next())Ze=se(G,Ze.value,le),Ze!==null&&($=x(Ze,$,Oe),Re===null?Se=Ze:Re.sibling=Ze,Re=Ze);return dt&&Io(G,Oe),Se}for(Pe=f(G,Pe);!Ze.done;Oe++,Ze=Q.next())Ze=fe(Pe,G,Oe,Ze.value,le),Ze!==null&&(i&&Ze.alternate!==null&&Pe.delete(Ze.key===null?Oe:Ze.key),$=x(Ze,$,Oe),Re===null?Se=Ze:Re.sibling=Ze,Re=Ze);return i&&Pe.forEach(function(AP){return o(G,AP)}),dt&&Io(G,Oe),Se}function St(G,$,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:e:{for(var Se=Q.key,Re=$;Re!==null;){if(Re.key===Se){if(Se=Q.type,Se===N){if(Re.tag===7){c(G,Re.sibling),$=y(Re,Q.props.children),$.return=G,G=$;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ee&&mw(Se)===Re.type){c(G,Re.sibling),$=y(Re,Q.props),$.ref=xc(G,Re,Q),$.return=G,G=$;break e}c(G,Re);break}else o(G,Re);Re=Re.sibling}Q.type===N?($=Vo(Q.props.children,G.mode,le,Q.key),$.return=G,G=$):(le=rh(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=xc(G,$,Q),le.return=G,G=le)}return S(G);case X:e:{for(Re=Q.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){c(G,$.sibling),$=y($,Q.children||[]),$.return=G,G=$;break e}else{c(G,$);break}else o(G,$);$=$.sibling}$=Rm(Q,G.mode,le),$.return=G,G=$}return S(G);case Ee:return Re=Q._init,St(G,$,Re(Q._payload),le)}if(bt(Q))return ve(G,$,Q,le);if(ae(Q))return Te(G,$,Q,le);Dd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(c(G,$.sibling),$=y($,Q),$.return=G,G=$):(c(G,$),$=Cm(Q,G.mode,le),$.return=G,G=$),S(G)):c(G,$)}return St}var Fa=gw(!0),yw=gw(!1),Vd=ui(null),Md=null,Ua=null,Lp=null;function Fp(){Lp=Ua=Md=null}function Up(i){var o=Vd.current;lt(Vd),i._currentValue=o}function Bp(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function Ba(i,o){Md=i,Lp=Ua=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(En=!0),i.firstContext=null)}function Yn(i){var o=i._currentValue;if(Lp!==i)if(i={context:i,memoizedValue:o,next:null},Ua===null){if(Md===null)throw Error(n(308));Ua=i,Md.dependencies={lanes:0,firstContext:i}}else Ua=Ua.next=i;return o}var Ao=null;function zp(i){Ao===null?Ao=[i]:Ao.push(i)}function vw(i,o,c,f){var y=o.interleaved;return y===null?(c.next=c,zp(o)):(c.next=y.next,y.next=c),o.interleaved=c,bs(i,f)}function bs(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var fi=!1;function $p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ts(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function pi(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,bs(i,c)}return y=f.interleaved,y===null?(o.next=o,zp(f)):(o.next=y.next,y.next=o),f.interleaved=o,bs(i,c)}function jd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,tc(i,c)}}function xw(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,effects:f.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Od(i,o,c,f){var y=i.updateQueue;fi=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Y=z.next;z.next=null,S===null?x=Y:S.next=Y,S=z;var re=i.alternate;re!==null&&(re=re.updateQueue,F=re.lastBaseUpdate,F!==S&&(F===null?re.firstBaseUpdate=Y:F.next=Y,re.lastBaseUpdate=z))}if(x!==null){var se=y.baseState;S=0,re=Y=z=null,F=x;do{var ne=F.lane,fe=F.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ve=i,Te=F;switch(ne=o,fe=c,Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){se=ve.call(fe,se,ne);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,ne=typeof ve=="function"?ve.call(fe,se,ne):ve,ne==null)break e;se=oe({},se,ne);break e;case 2:fi=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[F]:ne.push(F))}else fe={eventTime:fe,lane:ne,tag:F.tag,payload:F.payload,callback:F.callback,next:null},re===null?(Y=re=fe,z=se):re=re.next=fe,S|=ne;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ne=F,F=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(z=se),y.baseState=z,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,o=y.shared.interleaved,o!==null){y=o;do S|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);Po|=S,i.lanes=S,i.memoizedState=se}}function _w(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var _c={},Hr=ui(_c),Ec=ui(_c),bc=ui(_c);function Co(i){if(i===_c)throw Error(n(174));return i}function Hp(i,o){switch(st(bc,o),st(Ec,i),st(Hr,_c),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ca(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ca(o,i)}lt(Hr),st(Hr,o)}function za(){lt(Hr),lt(Ec),lt(bc)}function Ew(i){Co(bc.current);var o=Co(Hr.current),c=ca(o,i.type);o!==c&&(st(Ec,i),st(Hr,c))}function Wp(i){Ec.current===i&&(lt(Hr),lt(Ec))}var ft=ui(0);function Ld(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qp=[];function Gp(){for(var i=0;i<qp.length;i++)qp[i]._workInProgressVersionPrimary=null;qp.length=0}var Fd=B.ReactCurrentDispatcher,Kp=B.ReactCurrentBatchConfig,Ro=0,pt=null,Mt=null,Ut=null,Ud=!1,Tc=!1,Sc=0,QR=0;function an(){throw Error(n(321))}function Qp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!dr(i[c],o[c]))return!1;return!0}function Yp(i,o,c,f,y,x){if(Ro=x,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fd.current=i===null||i.memoizedState===null?ZR:eP,i=c(f,y),Tc){x=0;do{if(Tc=!1,Sc=0,25<=x)throw Error(n(301));x+=1,Ut=Mt=null,o.updateQueue=null,Fd.current=tP,i=c(f,y)}while(Tc)}if(Fd.current=$d,o=Mt!==null&&Mt.next!==null,Ro=0,Ut=Mt=pt=null,Ud=!1,o)throw Error(n(300));return i}function Xp(){var i=Sc!==0;return Sc=0,i}function Wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?pt.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Xn(){if(Mt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var o=Ut===null?pt.memoizedState:Ut.next;if(o!==null)Ut=o,Mt=i;else{if(i===null)throw Error(n(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ut===null?pt.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Ic(i,o){return typeof o=="function"?o(i):o}function Jp(i){var o=Xn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var f=Mt,y=f.baseQueue,x=c.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}f.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,f=f.baseState;var F=S=null,z=null,Y=x;do{var re=Y.lane;if((Ro&re)===re)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:i(f,Y.action);else{var se={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(F=z=se,S=f):z=z.next=se,pt.lanes|=re,Po|=re}Y=Y.next}while(Y!==null&&Y!==x);z===null?S=f:z.next=F,dr(f,o.memoizedState)||(En=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=z,c.lastRenderedState=f}if(i=c.interleaved,i!==null){y=i;do x=y.lane,pt.lanes|=x,Po|=x,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Zp(i){var o=Xn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do x=i(x,S.action),S=S.next;while(S!==y);dr(x,o.memoizedState)||(En=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function bw(){}function Tw(i,o){var c=pt,f=Xn(),y=o(),x=!dr(f.memoizedState,y);if(x&&(f.memoizedState=y,En=!0),f=f.queue,em(Aw.bind(null,c,f,i),[i]),f.getSnapshot!==o||x||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Ac(9,Iw.bind(null,c,f,y,o),void 0,null),Bt===null)throw Error(n(349));(Ro&30)!==0||Sw(c,o,y)}return y}function Sw(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Iw(i,o,c,f){o.value=c,o.getSnapshot=f,Cw(o)&&Rw(i)}function Aw(i,o,c){return c(function(){Cw(o)&&Rw(i)})}function Cw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!dr(i,c)}catch{return!0}}function Rw(i){var o=bs(i,1);o!==null&&gr(o,i,1,-1)}function Pw(i){var o=Wr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:i},o.queue=i,i=i.dispatch=JR.bind(null,pt,i),[o.memoizedState,i]}function Ac(i,o,c,f){return i={tag:i,create:o,destroy:c,deps:f,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i)),i}function kw(){return Xn().memoizedState}function Bd(i,o,c,f){var y=Wr();pt.flags|=i,y.memoizedState=Ac(1|o,c,void 0,f===void 0?null:f)}function zd(i,o,c,f){var y=Xn();f=f===void 0?null:f;var x=void 0;if(Mt!==null){var S=Mt.memoizedState;if(x=S.destroy,f!==null&&Qp(f,S.deps)){y.memoizedState=Ac(o,c,x,f);return}}pt.flags|=i,y.memoizedState=Ac(1|o,c,x,f)}function Nw(i,o){return Bd(8390656,8,i,o)}function em(i,o){return zd(2048,8,i,o)}function Dw(i,o){return zd(4,2,i,o)}function Vw(i,o){return zd(4,4,i,o)}function Mw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function jw(i,o,c){return c=c!=null?c.concat([i]):null,zd(4,4,Mw.bind(null,o,i),c)}function tm(){}function Ow(i,o){var c=Xn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Qp(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function Lw(i,o){var c=Xn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Qp(o,f[1])?f[0]:(i=i(),c.memoizedState=[i,o],i)}function Fw(i,o,c){return(Ro&21)===0?(i.baseState&&(i.baseState=!1,En=!0),i.memoizedState=c):(dr(c,o)||(c=Zl(),pt.lanes|=c,Po|=c,i.baseState=!0),o)}function YR(i,o){var c=Ke;Ke=c!==0&&4>c?c:4,i(!0);var f=Kp.transition;Kp.transition={};try{i(!1),o()}finally{Ke=c,Kp.transition=f}}function Uw(){return Xn().memoizedState}function XR(i,o,c){var f=vi(i);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Bw(i))zw(o,c);else if(c=vw(i,o,c,f),c!==null){var y=gn();gr(c,i,f,y),$w(c,o,f)}}function JR(i,o,c){var f=vi(i),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Bw(i))zw(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var S=o.lastRenderedState,F=x(S,c);if(y.hasEagerState=!0,y.eagerState=F,dr(F,S)){var z=o.interleaved;z===null?(y.next=y,zp(o)):(y.next=z.next,z.next=y),o.interleaved=y;return}}catch{}finally{}c=vw(i,o,y,f),c!==null&&(y=gn(),gr(c,i,f,y),$w(c,o,f))}}function Bw(i){var o=i.alternate;return i===pt||o!==null&&o===pt}function zw(i,o){Tc=Ud=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function $w(i,o,c){if((c&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,tc(i,c)}}var $d={readContext:Yn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},ZR={readContext:Yn,useCallback:function(i,o){return Wr().memoizedState=[i,o===void 0?null:o],i},useContext:Yn,useEffect:Nw,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Bd(4194308,4,Mw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Bd(4194308,4,i,o)},useInsertionEffect:function(i,o){return Bd(4,2,i,o)},useMemo:function(i,o){var c=Wr();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var f=Wr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=XR.bind(null,pt,i),[f.memoizedState,i]},useRef:function(i){var o=Wr();return i={current:i},o.memoizedState=i},useState:Pw,useDebugValue:tm,useDeferredValue:function(i){return Wr().memoizedState=i},useTransition:function(){var i=Pw(!1),o=i[0];return i=YR.bind(null,i[1]),Wr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var f=pt,y=Wr();if(dt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Bt===null)throw Error(n(349));(Ro&30)!==0||Sw(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,Nw(Aw.bind(null,f,x,i),[i]),f.flags|=2048,Ac(9,Iw.bind(null,f,x,c,o),void 0,null),c},useId:function(){var i=Wr(),o=Bt.identifierPrefix;if(dt){var c=Es,f=_s;c=(f&~(1<<32-Pn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Sc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=QR++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},eP={readContext:Yn,useCallback:Ow,useContext:Yn,useEffect:em,useImperativeHandle:jw,useInsertionEffect:Dw,useLayoutEffect:Vw,useMemo:Lw,useReducer:Jp,useRef:kw,useState:function(){return Jp(Ic)},useDebugValue:tm,useDeferredValue:function(i){var o=Xn();return Fw(o,Mt.memoizedState,i)},useTransition:function(){var i=Jp(Ic)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:bw,useSyncExternalStore:Tw,useId:Uw,unstable_isNewReconciler:!1},tP={readContext:Yn,useCallback:Ow,useContext:Yn,useEffect:em,useImperativeHandle:jw,useInsertionEffect:Dw,useLayoutEffect:Vw,useMemo:Lw,useReducer:Zp,useRef:kw,useState:function(){return Zp(Ic)},useDebugValue:tm,useDeferredValue:function(i){var o=Xn();return Mt===null?o.memoizedState=i:Fw(o,Mt.memoizedState,i)},useTransition:function(){var i=Zp(Ic)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:bw,useSyncExternalStore:Tw,useId:Uw,unstable_isNewReconciler:!1};function fr(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function nm(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:oe({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Hd={isMounted:function(i){return(i=i._reactInternals)?cr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var f=gn(),y=vi(i),x=Ts(f,y);x.payload=o,c!=null&&(x.callback=c),o=pi(i,x,y),o!==null&&(gr(o,i,y,f),jd(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=gn(),y=vi(i),x=Ts(f,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=pi(i,x,y),o!==null&&(gr(o,i,y,f),jd(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=gn(),f=vi(i),y=Ts(c,f);y.tag=2,o!=null&&(y.callback=o),o=pi(i,y,f),o!==null&&(gr(o,i,f,c),jd(o,i,f))}};function Hw(i,o,c,f,y,x,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,x,S):o.prototype&&o.prototype.isPureReactComponent?!fc(c,f)||!fc(y,x):!0}function Ww(i,o,c){var f=!1,y=di,x=o.contextType;return typeof x=="object"&&x!==null?x=Yn(x):(y=_n(o)?To:on.current,f=o.contextTypes,x=(f=f!=null)?Ma(i,y):di),o=new o(c,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hd,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=x),o}function qw(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&Hd.enqueueReplaceState(o,o.state,null)}function rm(i,o,c,f){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},$p(i);var x=o.contextType;typeof x=="object"&&x!==null?y.context=Yn(x):(x=_n(o)?To:on.current,y.context=Ma(i,x)),y.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(nm(i,o,x,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Hd.enqueueReplaceState(y,y.state,null),Od(i,c,y,f),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function $a(i,o){try{var c="",f=o;do c+=Ve(f),f=f.return;while(f);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:y,digest:null}}function sm(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function im(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var nP=typeof WeakMap=="function"?WeakMap:Map;function Gw(i,o,c){c=Ts(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Xd||(Xd=!0,xm=f),im(i,o)},c}function Kw(i,o,c){c=Ts(-1,c),c.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;c.payload=function(){return f(y)},c.callback=function(){im(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){im(i,o),typeof f!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function Qw(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new nP;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(y.add(c),i=gP.bind(null,i,o,c),o.then(i,i))}function Yw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Xw(i,o,c,f,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ts(-1,1),o.tag=2,pi(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var rP=B.ReactCurrentOwner,En=!1;function mn(i,o,c,f){o.child=i===null?yw(o,null,c,f):Fa(o,i.child,c,f)}function Jw(i,o,c,f,y){c=c.render;var x=o.ref;return Ba(o,y),f=Yp(i,o,c,f,x,y),c=Xp(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Ss(i,o,y)):(dt&&c&&Dp(o),o.flags|=1,mn(i,o,f,y),o.child)}function Zw(i,o,c,f,y){if(i===null){var x=c.type;return typeof x=="function"&&!Am(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,ex(i,o,x,f,y)):(i=rh(c.type,null,f,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&y)===0){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:fc,c(S,f)&&i.ref===o.ref)return Ss(i,o,y)}return o.flags|=1,i=xi(x,f),i.ref=o.ref,i.return=o,o.child=i}function ex(i,o,c,f,y){if(i!==null){var x=i.memoizedProps;if(fc(x,f)&&i.ref===o.ref)if(En=!1,o.pendingProps=f=x,(i.lanes&y)!==0)(i.flags&131072)!==0&&(En=!0);else return o.lanes=i.lanes,Ss(i,o,y)}return om(i,o,c,f,y)}function tx(i,o,c){var f=o.pendingProps,y=f.children,x=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Wa,On),On|=c;else{if((c&1073741824)===0)return i=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,st(Wa,On),On|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,st(Wa,On),On|=f}else x!==null?(f=x.baseLanes|c,o.memoizedState=null):f=c,st(Wa,On),On|=f;return mn(i,o,y,c),o.child}function nx(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function om(i,o,c,f,y){var x=_n(c)?To:on.current;return x=Ma(o,x),Ba(o,y),c=Yp(i,o,c,f,x,y),f=Xp(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Ss(i,o,y)):(dt&&f&&Dp(o),o.flags|=1,mn(i,o,c,y),o.child)}function rx(i,o,c,f,y){if(_n(c)){var x=!0;Cd(o)}else x=!1;if(Ba(o,y),o.stateNode===null)qd(i,o),Ww(o,c,f),rm(o,c,f,y),f=!0;else if(i===null){var S=o.stateNode,F=o.memoizedProps;S.props=F;var z=S.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Yn(Y):(Y=_n(c)?To:on.current,Y=Ma(o,Y));var re=c.getDerivedStateFromProps,se=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==f||z!==Y)&&qw(o,S,f,Y),fi=!1;var ne=o.memoizedState;S.state=ne,Od(o,f,S,y),z=o.memoizedState,F!==f||ne!==z||xn.current||fi?(typeof re=="function"&&(nm(o,c,re,f),z=o.memoizedState),(F=fi||Hw(o,c,F,f,ne,z,Y))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=z),S.props=f,S.state=z,S.context=Y,f=F):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,ww(i,o),F=o.memoizedProps,Y=o.type===o.elementType?F:fr(o.type,F),S.props=Y,se=o.pendingProps,ne=S.context,z=c.contextType,typeof z=="object"&&z!==null?z=Yn(z):(z=_n(c)?To:on.current,z=Ma(o,z));var fe=c.getDerivedStateFromProps;(re=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==se||ne!==z)&&qw(o,S,f,z),fi=!1,ne=o.memoizedState,S.state=ne,Od(o,f,S,y);var ve=o.memoizedState;F!==se||ne!==ve||xn.current||fi?(typeof fe=="function"&&(nm(o,c,fe,f),ve=o.memoizedState),(Y=fi||Hw(o,c,Y,f,ne,ve,z)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ve,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ve,z)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ve),S.props=f,S.state=ve,S.context=z,f=Y):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),f=!1)}return am(i,o,c,f,x,y)}function am(i,o,c,f,y,x){nx(i,o);var S=(o.flags&128)!==0;if(!f&&!S)return y&&lw(o,c,!1),Ss(i,o,x);f=o.stateNode,rP.current=o;var F=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&S?(o.child=Fa(o,i.child,null,x),o.child=Fa(o,null,F,x)):mn(i,o,F,x),o.memoizedState=f.state,y&&lw(o,c,!0),o.child}function sx(i){var o=i.stateNode;o.pendingContext?ow(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ow(i,o.context,!1),Hp(i,o.containerInfo)}function ix(i,o,c,f,y){return La(),Op(y),o.flags|=256,mn(i,o,c,f),o.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(i){return{baseLanes:i,cachePool:null,transitions:null}}function ox(i,o,c){var f=o.pendingProps,y=ft.current,x=!1,S=(o.flags&128)!==0,F;if((F=S)||(F=i!==null&&i.memoizedState===null?!1:(y&2)!==0),F?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),st(ft,y&1),i===null)return jp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,i=f.fallback,x?(f=o.mode,x=o.child,S={mode:"hidden",children:S},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=sh(S,f,0,null),i=Vo(i,f,c,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=cm(c),o.memoizedState=lm,i):um(o,S));if(y=i.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return sP(i,o,S,f,F,y,c);if(x){x=f.fallback,S=o.mode,y=i.child,F=y.sibling;var z={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=z,o.deletions=null):(f=xi(y,z),f.subtreeFlags=y.subtreeFlags&14680064),F!==null?x=xi(F,x):(x=Vo(x,S,c,null),x.flags|=2),x.return=o,f.return=o,f.sibling=x,o.child=f,f=x,x=o.child,S=i.child.memoizedState,S=S===null?cm(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=i.childLanes&~c,o.memoizedState=lm,f}return x=i.child,i=x.sibling,f=xi(x,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=f,o.memoizedState=null,f}function um(i,o){return o=sh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Wd(i,o,c,f){return f!==null&&Op(f),Fa(o,i.child,null,c),i=um(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sP(i,o,c,f,y,x,S){if(c)return o.flags&256?(o.flags&=-257,f=sm(Error(n(422))),Wd(i,o,S,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=f.fallback,y=o.mode,f=sh({mode:"visible",children:f.children},y,0,null),x=Vo(x,y,S,null),x.flags|=2,f.return=o,x.return=o,f.sibling=x,o.child=f,(o.mode&1)!==0&&Fa(o,i.child,null,S),o.child.memoizedState=cm(S),o.memoizedState=lm,x);if((o.mode&1)===0)return Wd(i,o,S,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var F=f.dgst;return f=F,x=Error(n(419)),f=sm(x,f,void 0),Wd(i,o,S,f)}if(F=(S&i.childLanes)!==0,En||F){if(f=Bt,f!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|S))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,bs(i,y),gr(f,i,y,-1))}return Im(),f=sm(Error(n(421))),Wd(i,o,S,f)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=yP.bind(null,i),y._reactRetry=o,null):(i=x.treeContext,jn=ci(y.nextSibling),Mn=o,dt=!0,hr=null,i!==null&&(Kn[Qn++]=_s,Kn[Qn++]=Es,Kn[Qn++]=So,_s=i.id,Es=i.overflow,So=o),o=um(o,f.children),o.flags|=4096,o)}function ax(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Bp(i.return,o,c)}function dm(i,o,c,f,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=y)}function lx(i,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;if(mn(i,o,f.children,c),f=ft.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ax(i,c,o);else if(i.tag===19)ax(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(st(ft,f),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Ld(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),dm(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Ld(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}dm(o,!0,c,null,x);break;case"together":dm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ss(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Po|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=xi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=xi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function iP(i,o,c){switch(o.tag){case 3:sx(o),La();break;case 5:Ew(o);break;case 1:_n(o.type)&&Cd(o);break;case 4:Hp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;st(Vd,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(st(ft,ft.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ox(i,o,c):(st(ft,ft.current&1),i=Ss(i,o,c),i!==null?i.sibling:null);st(ft,ft.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(i.flags&128)!==0){if(f)return lx(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),st(ft,ft.current),f)break;return null;case 22:case 23:return o.lanes=0,tx(i,o,c)}return Ss(i,o,c)}var cx,hm,ux,dx;cx=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hm=function(){},ux=function(i,o,c,f){var y=i.memoizedProps;if(y!==f){i=o.stateNode,Co(Hr.current);var x=null;switch(c){case"input":y=Wt(i,y),f=Wt(i,f),x=[];break;case"select":y=oe({},y,{value:void 0}),f=oe({},f,{value:void 0}),x=[];break;case"textarea":y=zl(i,y),f=zl(i,f),x=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Sd)}lr(c,f);var S;c=null;for(Y in y)if(!f.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var F=y[Y];for(S in F)F.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in f){var z=f[Y];if(F=y!=null?y[Y]:void 0,f.hasOwnProperty(Y)&&z!==F&&(z!=null||F!=null))if(Y==="style")if(F){for(S in F)!F.hasOwnProperty(S)||z&&z.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in z)z.hasOwnProperty(S)&&F[S]!==z[S]&&(c||(c={}),c[S]=z[S])}else c||(x||(x=[]),x.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(x=x||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(x=x||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&at("scroll",i),x||F===z||(x=[])):(x=x||[]).push(Y,z))}c&&(x=x||[]).push("style",c);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},dx=function(i,o,c,f){c!==f&&(o.flags|=4)};function Cc(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ln(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function oP(i,o,c){var f=o.pendingProps;switch(Vp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return _n(o.type)&&Ad(),ln(o),null;case 3:return f=o.stateNode,za(),lt(xn),lt(on),Gp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Nd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(bm(hr),hr=null))),hm(i,o),ln(o),null;case 5:Wp(o);var y=Co(bc.current);if(c=o.type,i!==null&&o.stateNode!=null)ux(i,o,c,f,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return ln(o),null}if(i=Co(Hr.current),Nd(o)){f=o.stateNode,c=o.type;var x=o.memoizedProps;switch(f[$r]=o,f[vc]=x,i=(o.mode&1)!==0,c){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(y=0;y<mc.length;y++)at(mc[y],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Cr(f,x),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},at("invalid",f);break;case"textarea":$l(f,x),at("invalid",f)}lr(c,x),y=null;for(var S in x)if(x.hasOwnProperty(S)){var F=x[S];S==="children"?typeof F=="string"?f.textContent!==F&&(x.suppressHydrationWarning!==!0&&Td(f.textContent,F,i),y=["children",F]):typeof F=="number"&&f.textContent!==""+F&&(x.suppressHydrationWarning!==!0&&Td(f.textContent,F,i),y=["children",""+F]):s.hasOwnProperty(S)&&F!=null&&S==="onScroll"&&at("scroll",f)}switch(c){case"input":Ue(f),ao(f,x,!0);break;case"textarea":Ue(f),Gs(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Sd)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Hl(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(c,{is:f.is}):(i=S.createElement(c),c==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,c),i[$r]=o,i[vc]=f,cx(i,o,!1,!1),o.stateNode=i;e:{switch(S=da(c,f),c){case"dialog":at("cancel",i),at("close",i),y=f;break;case"iframe":case"object":case"embed":at("load",i),y=f;break;case"video":case"audio":for(y=0;y<mc.length;y++)at(mc[y],i);y=f;break;case"source":at("error",i),y=f;break;case"img":case"image":case"link":at("error",i),at("load",i),y=f;break;case"details":at("toggle",i),y=f;break;case"input":Cr(i,f),y=Wt(i,f),at("invalid",i);break;case"option":y=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},y=oe({},f,{value:void 0}),at("invalid",i);break;case"textarea":$l(i,f),y=zl(i,f),at("invalid",i);break;default:y=f}lr(c,y),F=y;for(x in F)if(F.hasOwnProperty(x)){var z=F[x];x==="style"?ua(i,z):x==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ju(i,z)):x==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&lo(i,z):typeof z=="number"&&lo(i,""+z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?z!=null&&x==="onScroll"&&at("scroll",i):z!=null&&O(i,x,z,S))}switch(c){case"input":Ue(i),ao(i,f,!1);break;case"textarea":Ue(i),Gs(i);break;case"option":f.value!=null&&i.setAttribute("value",""+be(f.value));break;case"select":i.multiple=!!f.multiple,x=f.value,x!=null?ar(i,!!f.multiple,x,!1):f.defaultValue!=null&&ar(i,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Sd)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(i&&o.stateNode!=null)dx(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Co(bc.current),Co(Hr.current),Nd(o)){if(f=o.stateNode,c=o.memoizedProps,f[$r]=o,(x=f.nodeValue!==c)&&(i=Mn,i!==null))switch(i.tag){case 3:Td(f.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Td(f.nodeValue,c,(i.mode&1)!==0)}x&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[$r]=o,o.stateNode=f}return ln(o),null;case 13:if(lt(ft),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)pw(),La(),o.flags|=98560,x=!1;else if(x=Nd(o),f!==null&&f.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[$r]=o}else La(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ln(o),x=!1}else hr!==null&&(bm(hr),hr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ft.current&1)!==0?jt===0&&(jt=3):Im())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return za(),hm(i,o),i===null&&gc(o.stateNode.containerInfo),ln(o),null;case 10:return Up(o.type._context),ln(o),null;case 17:return _n(o.type)&&Ad(),ln(o),null;case 19:if(lt(ft),x=o.memoizedState,x===null)return ln(o),null;if(f=(o.flags&128)!==0,S=x.rendering,S===null)if(f)Cc(x,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Ld(i),S!==null){for(o.flags|=128,Cc(x,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)x=c,i=f,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,i=S.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return st(ft,ft.current&1|2),o.child}i=i.sibling}x.tail!==null&&ot()>qa&&(o.flags|=128,f=!0,Cc(x,!1),o.lanes=4194304)}else{if(!f)if(i=Ld(S),i!==null){if(o.flags|=128,f=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Cc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!dt)return ln(o),null}else 2*ot()-x.renderingStartTime>qa&&c!==1073741824&&(o.flags|=128,f=!0,Cc(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(c=x.last,c!==null?c.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=ot(),o.sibling=null,c=ft.current,st(ft,f?c&1|2:c&1),o):(ln(o),null);case 22:case 23:return Sm(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(On&1073741824)!==0&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function aP(i,o){switch(Vp(o),o.tag){case 1:return _n(o.type)&&Ad(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return za(),lt(xn),lt(on),Gp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Wp(o),null;case 13:if(lt(ft),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));La()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(ft),null;case 4:return za(),null;case 10:return Up(o.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var Gd=!1,cn=!1,lP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ha(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){xt(i,o,f)}else c.current=null}function fm(i,o,c){try{c()}catch(f){xt(i,o,f)}}var hx=!1;function cP(i,o){if(Sp=gs,i=H0(),yp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,F=-1,z=-1,Y=0,re=0,se=i,ne=null;t:for(;;){for(var fe;se!==c||y!==0&&se.nodeType!==3||(F=S+y),se!==x||f!==0&&se.nodeType!==3||(z=S+f),se.nodeType===3&&(S+=se.nodeValue.length),(fe=se.firstChild)!==null;)ne=se,se=fe;for(;;){if(se===i)break t;if(ne===c&&++Y===y&&(F=S),ne===x&&++re===f&&(z=S),(fe=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=fe}c=F===-1||z===-1?null:{start:F,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ip={focusedElem:i,selectionRange:c},gs=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Te=ve.memoizedProps,St=ve.memoizedState,G=o.stateNode,$=G.getSnapshotBeforeUpdate(o.elementType===o.type?Te:fr(o.type,Te),St);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){xt(o,o.return,le)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ve=hx,hx=!1,ve}function Rc(i,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&i)===i){var x=y.destroy;y.destroy=void 0,x!==void 0&&fm(o,c,x)}y=y.next}while(y!==f)}}function Kd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function pm(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function fx(i){var o=i.alternate;o!==null&&(i.alternate=null,fx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[$r],delete o[vc],delete o[Pp],delete o[WR],delete o[qR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function px(i){return i.tag===5||i.tag===3||i.tag===4}function mx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||px(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mm(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Sd));else if(f!==4&&(i=i.child,i!==null))for(mm(i,o,c),i=i.sibling;i!==null;)mm(i,o,c),i=i.sibling}function gm(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(gm(i,o,c),i=i.sibling;i!==null;)gm(i,o,c),i=i.sibling}var Kt=null,pr=!1;function mi(i,o,c){for(c=c.child;c!==null;)gx(i,o,c),c=c.sibling}function gx(i,o,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(po,c)}catch{}switch(c.tag){case 5:cn||Ha(c,o);case 6:var f=Kt,y=pr;Kt=null,mi(i,o,c),Kt=f,pr=y,Kt!==null&&(pr?(i=Kt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Kt.removeChild(c.stateNode));break;case 18:Kt!==null&&(pr?(i=Kt,c=c.stateNode,i.nodeType===8?Rp(i.parentNode,c):i.nodeType===1&&Rp(i,c),ii(i)):Rp(Kt,c.stateNode));break;case 4:f=Kt,y=pr,Kt=c.stateNode.containerInfo,pr=!0,mi(i,o,c),Kt=f,pr=y;break;case 0:case 11:case 14:case 15:if(!cn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var x=y,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&fm(c,o,S),y=y.next}while(y!==f)}mi(i,o,c);break;case 1:if(!cn&&(Ha(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(F){xt(c,o,F)}mi(i,o,c);break;case 21:mi(i,o,c);break;case 22:c.mode&1?(cn=(f=cn)||c.memoizedState!==null,mi(i,o,c),cn=f):mi(i,o,c);break;default:mi(i,o,c)}}function yx(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new lP),o.forEach(function(f){var y=vP.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}}function mr(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var x=i,S=o,F=S;e:for(;F!==null;){switch(F.tag){case 5:Kt=F.stateNode,pr=!1;break e;case 3:Kt=F.stateNode.containerInfo,pr=!0;break e;case 4:Kt=F.stateNode.containerInfo,pr=!0;break e}F=F.return}if(Kt===null)throw Error(n(160));gx(x,S,y),Kt=null,pr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Y){xt(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vx(o,i),o=o.sibling}function vx(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(mr(o,i),qr(i),f&4){try{Rc(3,i,i.return),Kd(3,i)}catch(Te){xt(i,i.return,Te)}try{Rc(5,i,i.return)}catch(Te){xt(i,i.return,Te)}}break;case 1:mr(o,i),qr(i),f&512&&c!==null&&Ha(c,c.return);break;case 5:if(mr(o,i),qr(i),f&512&&c!==null&&Ha(c,c.return),i.flags&32){var y=i.stateNode;try{lo(y,"")}catch(Te){xt(i,i.return,Te)}}if(f&4&&(y=i.stateNode,y!=null)){var x=i.memoizedProps,S=c!==null?c.memoizedProps:x,F=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{F==="input"&&x.type==="radio"&&x.name!=null&&Wn(y,x),da(F,S);var Y=da(F,x);for(S=0;S<z.length;S+=2){var re=z[S],se=z[S+1];re==="style"?ua(y,se):re==="dangerouslySetInnerHTML"?Ju(y,se):re==="children"?lo(y,se):O(y,re,se,Y)}switch(F){case"input":Cn(y,x);break;case"textarea":Xu(y,x);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var fe=x.value;fe!=null?ar(y,!!x.multiple,fe,!1):ne!==!!x.multiple&&(x.defaultValue!=null?ar(y,!!x.multiple,x.defaultValue,!0):ar(y,!!x.multiple,x.multiple?[]:"",!1))}y[vc]=x}catch(Te){xt(i,i.return,Te)}}break;case 6:if(mr(o,i),qr(i),f&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,x=i.memoizedProps;try{y.nodeValue=x}catch(Te){xt(i,i.return,Te)}}break;case 3:if(mr(o,i),qr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{ii(o.containerInfo)}catch(Te){xt(i,i.return,Te)}break;case 4:mr(o,i),qr(i);break;case 13:mr(o,i),qr(i),y=i.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(wm=ot())),f&4&&yx(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(cn=(Y=cn)||re,mr(o,i),cn=Y):mr(o,i),qr(i),f&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(me=i,re=i.child;re!==null;){for(se=me=re;me!==null;){switch(ne=me,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Rc(4,ne,ne.return);break;case 1:Ha(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ne,c=ne.return;try{o=f,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(Te){xt(f,c,Te)}}break;case 5:Ha(ne,ne.return);break;case 22:if(ne.memoizedState!==null){_x(se);continue}}fe!==null?(fe.return=ne,me=fe):_x(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{y=se.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(F=se.stateNode,z=se.memoizedProps.style,S=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=Ys("display",S))}catch(Te){xt(i,i.return,Te)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(Te){xt(i,i.return,Te)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:mr(o,i),qr(i),f&4&&yx(i);break;case 21:break;default:mr(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(px(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(lo(y,""),f.flags&=-33);var x=mx(i);gm(i,x,y);break;case 3:case 4:var S=f.stateNode.containerInfo,F=mx(i);mm(i,F,S);break;default:throw Error(n(161))}}catch(z){xt(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function uP(i,o,c){me=i,wx(i)}function wx(i,o,c){for(var f=(i.mode&1)!==0;me!==null;){var y=me,x=y.child;if(y.tag===22&&f){var S=y.memoizedState!==null||Gd;if(!S){var F=y.alternate,z=F!==null&&F.memoizedState!==null||cn;F=Gd;var Y=cn;if(Gd=S,(cn=z)&&!Y)for(me=y;me!==null;)S=me,z=S.child,S.tag===22&&S.memoizedState!==null?Ex(y):z!==null?(z.return=S,me=z):Ex(y);for(;x!==null;)me=x,wx(x),x=x.sibling;me=y,Gd=F,cn=Y}xx(i)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,me=x):xx(i)}}function xx(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:cn||Kd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!cn)if(c===null)f.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:fr(o.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&_w(o,x,f);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}_w(o,S,c)}break;case 5:var F=o.stateNode;if(c===null&&o.flags&4){c=F;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&ii(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}cn||o.flags&512&&pm(o)}catch(ne){xt(o,o.return,ne)}}if(o===i){me=null;break}if(c=o.sibling,c!==null){c.return=o.return,me=c;break}me=o.return}}function _x(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var c=o.sibling;if(c!==null){c.return=o.return,me=c;break}me=o.return}}function Ex(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Kd(4,o)}catch(z){xt(o,c,z)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(z){xt(o,y,z)}}var x=o.return;try{pm(o)}catch(z){xt(o,x,z)}break;case 5:var S=o.return;try{pm(o)}catch(z){xt(o,S,z)}}}catch(z){xt(o,o.return,z)}if(o===i){me=null;break}var F=o.sibling;if(F!==null){F.return=o.return,me=F;break}me=o.return}}var dP=Math.ceil,Qd=B.ReactCurrentDispatcher,ym=B.ReactCurrentOwner,Jn=B.ReactCurrentBatchConfig,Je=0,Bt=null,Rt=null,Qt=0,On=0,Wa=ui(0),jt=0,Pc=null,Po=0,Yd=0,vm=0,kc=null,bn=null,wm=0,qa=1/0,Is=null,Xd=!1,xm=null,gi=null,Jd=!1,yi=null,Zd=0,Nc=0,_m=null,eh=-1,th=0;function gn(){return(Je&6)!==0?ot():eh!==-1?eh:eh=ot()}function vi(i){return(i.mode&1)===0?1:(Je&2)!==0&&Qt!==0?Qt&-Qt:KR.transition!==null?(th===0&&(th=Zl()),th):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:_a(i.type)),i)}function gr(i,o,c,f){if(50<Nc)throw Nc=0,_m=null,Error(n(185));vo(i,c,f),((Je&2)===0||i!==Bt)&&(i===Bt&&((Je&2)===0&&(Yd|=c),jt===4&&wi(i,Qt)),Tn(i,f),c===1&&Je===0&&(o.mode&1)===0&&(qa=ot()+500,Rd&&hi()))}function Tn(i,o){var c=i.callbackNode;yo(i,o);var f=fs(i,i===Bt?Qt:0);if(f===0)c!==null&&pa(c),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(c!=null&&pa(c),o===1)i.tag===0?GR(Tx.bind(null,i)):cw(Tx.bind(null,i)),$R(function(){(Je&6)===0&&hi()}),c=null;else{switch(Dr(f)){case 1:c=ma;break;case 4:c=Yl;break;case 16:c=fo;break;case 536870912:c=ga;break;default:c=fo}c=Nx(c,bx.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function bx(i,o){if(eh=-1,th=0,(Je&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Ga()&&i.callbackNode!==c)return null;var f=fs(i,i===Bt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=nh(i,f);else{o=f;var y=Je;Je|=2;var x=Ix();(Bt!==i||Qt!==o)&&(Is=null,qa=ot()+500,No(i,o));do try{pP();break}catch(F){Sx(i,F)}while(!0);Fp(),Qd.current=x,Je=y,Rt!==null?o=0:(Bt=null,Qt=0,o=jt)}if(o!==0){if(o===2&&(y=Jl(i),y!==0&&(f=y,o=Em(i,y))),o===1)throw c=Pc,No(i,0),wi(i,f),Tn(i,ot()),c;if(o===6)wi(i,f);else{if(y=i.current.alternate,(f&30)===0&&!hP(y)&&(o=nh(i,f),o===2&&(x=Jl(i),x!==0&&(f=x,o=Em(i,x))),o===1))throw c=Pc,No(i,0),wi(i,f),Tn(i,ot()),c;switch(i.finishedWork=y,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Do(i,bn,Is);break;case 3:if(wi(i,f),(f&130023424)===f&&(o=wm+500-ot(),10<o)){if(fs(i,0)!==0)break;if(y=i.suspendedLanes,(y&f)!==f){gn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Cp(Do.bind(null,i,bn,Is),o);break}Do(i,bn,Is);break;case 4:if(wi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,y=-1;0<f;){var S=31-Pn(f);x=1<<S,S=o[S],S>y&&(y=S),f&=~x}if(f=y,f=ot()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*dP(f/1960))-f,10<f){i.timeoutHandle=Cp(Do.bind(null,i,bn,Is),f);break}Do(i,bn,Is);break;case 5:Do(i,bn,Is);break;default:throw Error(n(329))}}}return Tn(i,ot()),i.callbackNode===c?bx.bind(null,i):null}function Em(i,o){var c=kc;return i.current.memoizedState.isDehydrated&&(No(i,o).flags|=256),i=nh(i,o),i!==2&&(o=bn,bn=c,o!==null&&bm(o)),i}function bm(i){bn===null?bn=i:bn.push.apply(bn,i)}function hP(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!dr(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wi(i,o){for(o&=~vm,o&=~Yd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-Pn(o),f=1<<c;i[c]=-1,o&=~f}}function Tx(i){if((Je&6)!==0)throw Error(n(327));Ga();var o=fs(i,0);if((o&1)===0)return Tn(i,ot()),null;var c=nh(i,o);if(i.tag!==0&&c===2){var f=Jl(i);f!==0&&(o=f,c=Em(i,f))}if(c===1)throw c=Pc,No(i,0),wi(i,o),Tn(i,ot()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Do(i,bn,Is),Tn(i,ot()),null}function Tm(i,o){var c=Je;Je|=1;try{return i(o)}finally{Je=c,Je===0&&(qa=ot()+500,Rd&&hi())}}function ko(i){yi!==null&&yi.tag===0&&(Je&6)===0&&Ga();var o=Je;Je|=1;var c=Jn.transition,f=Ke;try{if(Jn.transition=null,Ke=1,i)return i()}finally{Ke=f,Jn.transition=c,Je=o,(Je&6)===0&&hi()}}function Sm(){On=Wa.current,lt(Wa)}function No(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,zR(c)),Rt!==null)for(c=Rt.return;c!==null;){var f=c;switch(Vp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ad();break;case 3:za(),lt(xn),lt(on),Gp();break;case 5:Wp(f);break;case 4:za();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Up(f.type._context);break;case 22:case 23:Sm()}c=c.return}if(Bt=i,Rt=i=xi(i.current,null),Qt=On=o,jt=0,Pc=null,vm=Yd=Po=0,bn=kc=null,Ao!==null){for(o=0;o<Ao.length;o++)if(c=Ao[o],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,x=c.pending;if(x!==null){var S=x.next;x.next=y,f.next=S}c.pending=f}Ao=null}return i}function Sx(i,o){do{var c=Rt;try{if(Fp(),Fd.current=$d,Ud){for(var f=pt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Ud=!1}if(Ro=0,Ut=Mt=pt=null,Tc=!1,Sc=0,ym.current=null,c===null||c.return===null){jt=1,Pc=o,Rt=null;break}e:{var x=i,S=c.return,F=c,z=o;if(o=Qt,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,re=F,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=Yw(S);if(fe!==null){fe.flags&=-257,Xw(fe,S,F,x,o),fe.mode&1&&Qw(x,Y,o),o=fe,z=Y;var ve=o.updateQueue;if(ve===null){var Te=new Set;Te.add(z),o.updateQueue=Te}else ve.add(z);break e}else{if((o&1)===0){Qw(x,Y,o),Im();break e}z=Error(n(426))}}else if(dt&&F.mode&1){var St=Yw(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Xw(St,S,F,x,o),Op($a(z,F));break e}}x=z=$a(z,F),jt!==4&&(jt=2),kc===null?kc=[x]:kc.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var G=Gw(x,z,o);xw(x,G);break e;case 1:F=z;var $=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(gi===null||!gi.has(Q)))){x.flags|=65536,o&=-o,x.lanes|=o;var le=Kw(x,F,o);xw(x,le);break e}}x=x.return}while(x!==null)}Cx(c)}catch(Se){o=Se,Rt===c&&c!==null&&(Rt=c=c.return);continue}break}while(!0)}function Ix(){var i=Qd.current;return Qd.current=$d,i===null?$d:i}function Im(){(jt===0||jt===3||jt===2)&&(jt=4),Bt===null||(Po&268435455)===0&&(Yd&268435455)===0||wi(Bt,Qt)}function nh(i,o){var c=Je;Je|=2;var f=Ix();(Bt!==i||Qt!==o)&&(Is=null,No(i,o));do try{fP();break}catch(y){Sx(i,y)}while(!0);if(Fp(),Je=c,Qd.current=f,Rt!==null)throw Error(n(261));return Bt=null,Qt=0,jt}function fP(){for(;Rt!==null;)Ax(Rt)}function pP(){for(;Rt!==null&&!ho();)Ax(Rt)}function Ax(i){var o=kx(i.alternate,i,On);i.memoizedProps=i.pendingProps,o===null?Cx(i):Rt=o,ym.current=null}function Cx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=oP(c,o,On),c!==null){Rt=c;return}}else{if(c=aP(c,o),c!==null){c.flags&=32767,Rt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jt=6,Rt=null;return}}if(o=o.sibling,o!==null){Rt=o;return}Rt=o=i}while(o!==null);jt===0&&(jt=5)}function Do(i,o,c){var f=Ke,y=Jn.transition;try{Jn.transition=null,Ke=1,mP(i,o,c,f)}finally{Jn.transition=y,Ke=f}return null}function mP(i,o,c,f){do Ga();while(yi!==null);if((Je&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=c.lanes|c.childLanes;if(hp(i,x),i===Bt&&(Rt=Bt=null,Qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Jd||(Jd=!0,Nx(fo,function(){return Ga(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Jn.transition,Jn.transition=null;var S=Ke;Ke=1;var F=Je;Je|=4,ym.current=null,cP(i,c),vx(c,i),MR(Ip),gs=!!Sp,Ip=Sp=null,i.current=c,uP(c),hs(),Je=F,Ke=S,Jn.transition=x}else i.current=c;if(Jd&&(Jd=!1,yi=i,Zd=y),x=i.pendingLanes,x===0&&(gi=null),cd(c.stateNode),Tn(i,ot()),o!==null)for(f=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Xd)throw Xd=!1,i=xm,xm=null,i;return(Zd&1)!==0&&i.tag!==0&&Ga(),x=i.pendingLanes,(x&1)!==0?i===_m?Nc++:(Nc=0,_m=i):Nc=0,hi(),null}function Ga(){if(yi!==null){var i=Dr(Zd),o=Jn.transition,c=Ke;try{if(Jn.transition=null,Ke=16>i?16:i,yi===null)var f=!1;else{if(i=yi,yi=null,Zd=0,(Je&6)!==0)throw Error(n(331));var y=Je;for(Je|=4,me=i.current;me!==null;){var x=me,S=x.child;if((me.flags&16)!==0){var F=x.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Y=F[z];for(me=Y;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Rc(8,re,x)}var se=re.child;if(se!==null)se.return=re,me=se;else for(;me!==null;){re=me;var ne=re.sibling,fe=re.return;if(fx(re),re===Y){me=null;break}if(ne!==null){ne.return=fe,me=ne;break}me=fe}}}var ve=x.alternate;if(ve!==null){var Te=ve.child;if(Te!==null){ve.child=null;do{var St=Te.sibling;Te.sibling=null,Te=St}while(Te!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,me=S;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Rc(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,me=G;break e}me=x.return}}var $=i.current;for(me=$;me!==null;){S=me;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,me=Q;else e:for(S=$;me!==null;){if(F=me,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Kd(9,F)}}catch(Se){xt(F,F.return,Se)}if(F===S){me=null;break e}var le=F.sibling;if(le!==null){le.return=F.return,me=le;break e}me=F.return}}if(Je=y,hi(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(po,i)}catch{}f=!0}return f}finally{Ke=c,Jn.transition=o}}return!1}function Rx(i,o,c){o=$a(c,o),o=Gw(i,o,1),i=pi(i,o,1),o=gn(),i!==null&&(vo(i,1,o),Tn(i,o))}function xt(i,o,c){if(i.tag===3)Rx(i,i,c);else for(;o!==null;){if(o.tag===3){Rx(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(gi===null||!gi.has(f))){i=$a(c,i),i=Kw(o,i,1),o=pi(o,i,1),i=gn(),o!==null&&(vo(o,1,i),Tn(o,i));break}}o=o.return}}function gP(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),o=gn(),i.pingedLanes|=i.suspendedLanes&c,Bt===i&&(Qt&c)===c&&(jt===4||jt===3&&(Qt&130023424)===Qt&&500>ot()-wm?No(i,0):vm|=c),Tn(i,o)}function Px(i,o){o===0&&((i.mode&1)===0?o=1:(o=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var c=gn();i=bs(i,o),i!==null&&(vo(i,o,c),Tn(i,c))}function yP(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Px(i,c)}function vP(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Px(i,c)}var kx;kx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||xn.current)En=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return En=!1,iP(i,o,c);En=(i.flags&131072)!==0}else En=!1,dt&&(o.flags&1048576)!==0&&uw(o,kd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;qd(i,o),i=o.pendingProps;var y=Ma(o,on.current);Ba(o,c),y=Yp(null,o,f,i,y,c);var x=Xp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,_n(f)?(x=!0,Cd(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,$p(o),y.updater=Hd,o.stateNode=y,y._reactInternals=o,rm(o,f,i,c),o=am(null,o,f,!0,x,c)):(o.tag=0,dt&&x&&Dp(o),mn(null,o,y,c),o=o.child),o;case 16:f=o.elementType;e:{switch(qd(i,o),i=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=xP(f),i=fr(f,i),y){case 0:o=om(null,o,f,i,c);break e;case 1:o=rx(null,o,f,i,c);break e;case 11:o=Jw(null,o,f,i,c);break e;case 14:o=Zw(null,o,f,fr(f.type,i),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:fr(f,y),om(i,o,f,y,c);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:fr(f,y),rx(i,o,f,y,c);case 3:e:{if(sx(o),i===null)throw Error(n(387));f=o.pendingProps,x=o.memoizedState,y=x.element,ww(i,o),Od(o,f,null,c);var S=o.memoizedState;if(f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=$a(Error(n(423)),o),o=ix(i,o,f,c,y);break e}else if(f!==y){y=$a(Error(n(424)),o),o=ix(i,o,f,c,y);break e}else for(jn=ci(o.stateNode.containerInfo.firstChild),Mn=o,dt=!0,hr=null,c=yw(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(La(),f===y){o=Ss(i,o,c);break e}mn(i,o,f,c)}o=o.child}return o;case 5:return Ew(o),i===null&&jp(o),f=o.type,y=o.pendingProps,x=i!==null?i.memoizedProps:null,S=y.children,Ap(f,y)?S=null:x!==null&&Ap(f,x)&&(o.flags|=32),nx(i,o),mn(i,o,S,c),o.child;case 6:return i===null&&jp(o),null;case 13:return ox(i,o,c);case 4:return Hp(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Fa(o,null,f,c):mn(i,o,f,c),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:fr(f,y),Jw(i,o,f,y,c);case 7:return mn(i,o,o.pendingProps,c),o.child;case 8:return mn(i,o,o.pendingProps.children,c),o.child;case 12:return mn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,x=o.memoizedProps,S=y.value,st(Vd,f._currentValue),f._currentValue=S,x!==null)if(dr(x.value,S)){if(x.children===y.children&&!xn.current){o=Ss(i,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var F=x.dependencies;if(F!==null){S=x.child;for(var z=F.firstContext;z!==null;){if(z.context===f){if(x.tag===1){z=Ts(-1,c&-c),z.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?z.next=z:(z.next=re.next,re.next=z),Y.pending=z}}x.lanes|=c,z=x.alternate,z!==null&&(z.lanes|=c),Bp(x.return,c,o),F.lanes|=c;break}z=z.next}}else if(x.tag===10)S=x.type===o.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=c,F=S.alternate,F!==null&&(F.lanes|=c),Bp(S,c,o),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===o){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}mn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,Ba(o,c),y=Yn(y),f=f(y),o.flags|=1,mn(i,o,f,c),o.child;case 14:return f=o.type,y=fr(f,o.pendingProps),y=fr(f.type,y),Zw(i,o,f,y,c);case 15:return ex(i,o,o.type,o.pendingProps,c);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:fr(f,y),qd(i,o),o.tag=1,_n(f)?(i=!0,Cd(o)):i=!1,Ba(o,c),Ww(o,f,y),rm(o,f,y,c),am(null,o,f,!0,i,c);case 19:return lx(i,o,c);case 22:return tx(i,o,c)}throw Error(n(156,o.tag))};function Nx(i,o){return Ql(i,o)}function wP(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,o,c,f){return new wP(i,o,c,f)}function Am(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xP(i){if(typeof i=="function")return Am(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===Ie)return 14}return 2}function xi(i,o){var c=i.alternate;return c===null?(c=Zn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function rh(i,o,c,f,y,x){var S=2;if(f=i,typeof i=="function")Am(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case N:return Vo(c.children,y,x,o);case T:S=8,y|=8;break;case A:return i=Zn(12,c,o,y|2),i.elementType=A,i.lanes=x,i;case V:return i=Zn(13,c,o,y),i.elementType=V,i.lanes=x,i;case he:return i=Zn(19,c,o,y),i.elementType=he,i.lanes=x,i;case ue:return sh(c,y,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:S=10;break e;case U:S=9;break e;case M:S=11;break e;case Ie:S=14;break e;case Ee:S=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Zn(S,c,o,y),o.elementType=i,o.type=f,o.lanes=x,o}function Vo(i,o,c,f){return i=Zn(7,i,f,o),i.lanes=c,i}function sh(i,o,c,f){return i=Zn(22,i,f,o),i.elementType=ue,i.lanes=c,i.stateNode={isHidden:!1},i}function Cm(i,o,c){return i=Zn(6,i,null,o),i.lanes=c,i}function Rm(i,o,c){return o=Zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _P(i,o,c,f,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Pm(i,o,c,f,y,x,S,F,z){return i=new _P(i,o,c,F,z),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Zn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(x),i}function EP(i,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:f==null?null:""+f,children:i,containerInfo:o,implementation:c}}function Dx(i){if(!i)return di;i=i._reactInternals;e:{if(cr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(_n(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(_n(c))return aw(i,c,o)}return o}function Vx(i,o,c,f,y,x,S,F,z){return i=Pm(c,f,!0,i,y,x,S,F,z),i.context=Dx(null),c=i.current,f=gn(),y=vi(c),x=Ts(f,y),x.callback=o??null,pi(c,x,y),i.current.lanes=y,vo(i,y,f),Tn(i,f),i}function ih(i,o,c,f){var y=o.current,x=gn(),S=vi(y);return c=Dx(c),o.context===null?o.context=c:o.pendingContext=c,o=Ts(x,S),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=pi(y,o,S),i!==null&&(gr(i,y,S,x),jd(i,y,S)),S}function oh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Mx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function km(i,o){Mx(i,o),(i=i.alternate)&&Mx(i,o)}function bP(){return null}var jx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Nm(i){this._internalRoot=i}ah.prototype.render=Nm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));ih(i,o,null,null)},ah.prototype.unmount=Nm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ko(function(){ih(null,i,null,null)}),o[ws]=null}};function ah(i){this._internalRoot=i}ah.prototype.unstable_scheduleHydration=function(i){if(i){var o=sc();i={blockedOn:null,target:i,priority:o};for(var c=0;c<kn.length&&o!==0&&o<kn[c].priority;c++);kn.splice(c,0,i),c===0&&wa(i)}};function Dm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function lh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ox(){}function TP(i,o,c,f,y){if(y){if(typeof f=="function"){var x=f;f=function(){var Y=oh(S);x.call(Y)}}var S=Vx(o,f,i,0,null,!1,!1,"",Ox);return i._reactRootContainer=S,i[ws]=S.current,gc(i.nodeType===8?i.parentNode:i),ko(),S}for(;y=i.lastChild;)i.removeChild(y);if(typeof f=="function"){var F=f;f=function(){var Y=oh(z);F.call(Y)}}var z=Pm(i,0,!1,null,null,!1,!1,"",Ox);return i._reactRootContainer=z,i[ws]=z.current,gc(i.nodeType===8?i.parentNode:i),ko(function(){ih(o,z,c,f)}),z}function ch(i,o,c,f,y){var x=c._reactRootContainer;if(x){var S=x;if(typeof y=="function"){var F=y;y=function(){var z=oh(S);F.call(z)}}ih(o,S,i,y)}else S=TP(c,o,i,y,f);return oh(S)}nc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=et(o.pendingLanes);c!==0&&(tc(o,c|1),Tn(o,ot()),(Je&6)===0&&(qa=ot()+500,hi()))}break;case 13:ko(function(){var f=bs(i,1);if(f!==null){var y=gn();gr(f,i,1,y)}}),km(i,1)}},ya=function(i){if(i.tag===13){var o=bs(i,134217728);if(o!==null){var c=gn();gr(o,i,134217728,c)}km(i,134217728)}},rc=function(i){if(i.tag===13){var o=vi(i),c=bs(i,o);if(c!==null){var f=gn();gr(c,i,o,f)}km(i,o)}},sc=function(){return Ke},ic=function(i,o){var c=Ke;try{return Ke=i,o()}finally{Ke=c}},cs=function(i,o,c){switch(o){case"input":if(Cn(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var y=Id(f);if(!y)throw Error(n(90));Be(f),Cn(f,y)}}}break;case"textarea":Xu(i,c);break;case"select":o=c.value,o!=null&&ar(i,!!c.multiple,o,!1)}},ed=Tm,td=ko;var SP={usingClientEntryPoint:!1,Events:[wc,Da,Id,Js,Zs,Tm]},Dc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IP={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ld(i),i===null?null:i.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{po=uh.inject(IP),Rn=uh}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SP,Sn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(o))throw Error(n(200));return EP(i,o,null,c)},Sn.createRoot=function(i,o){if(!Dm(i))throw Error(n(299));var c=!1,f="",y=jx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Pm(i,1,!1,null,null,c,!1,f,y),i[ws]=o.current,gc(i.nodeType===8?i.parentNode:i),new Nm(o)},Sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ld(o),i=i===null?null:i.stateNode,i},Sn.flushSync=function(i){return ko(i)},Sn.hydrate=function(i,o,c){if(!lh(o))throw Error(n(200));return ch(null,i,o,!0,c)},Sn.hydrateRoot=function(i,o,c){if(!Dm(i))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,y=!1,x="",S=jx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=Vx(o,null,i,1,c??null,y,!1,x,S),i[ws]=o.current,gc(i),f)for(i=0;i<f.length;i++)c=f[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new ah(o)},Sn.render=function(i,o,c){if(!lh(o))throw Error(n(200));return ch(null,i,o,!1,c)},Sn.unmountComponentAtNode=function(i){if(!lh(i))throw Error(n(40));return i._reactRootContainer?(ko(function(){ch(null,null,i,!1,function(){i._reactRootContainer=null,i[ws]=null})}),!0):!1},Sn.unstable_batchedUpdates=Tm,Sn.unstable_renderSubtreeIntoContainer=function(i,o,c,f){if(!lh(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ch(i,o,c,!1,f)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var Wx;function IT(){if(Wx)return jm.exports;Wx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=VP(),jm.exports}var qx;function MP(){if(qx)return dh;qx=1;var t=IT();return dh.createRoot=t.createRoot,dh.hydrateRoot=t.hydrateRoot,dh}var jP=MP(),P=My();const Ti=ST(P),OP=CP({__proto__:null,default:Ti},[P]),LP=()=>{};var Gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},FP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let w=(u&15)<<2|p>>6,b=p&63;h||(b=64,l||(w=64)),r.push(n[g],n[v],n[w],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||p==null||v==null)throw new UP;const w=a<<2|u>>4;if(r.push(w),p!==64){const b=u<<4&240|p>>2;if(r.push(b),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BP=function(t){const e=AT(t);return CT.encodeByteArray(e,!0)},Kh=function(t){return BP(t).replace(/\./g,"")},RT=function(t){try{return CT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=()=>zP().__FIREBASE_DEFAULTS__,HP=()=>{if(typeof process>"u"||typeof Gx>"u")return;const t=Gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RT(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return LP()||$P()||HP()||WP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PT=t=>{var e,n;return(n=(e=Pf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kT=t=>{const e=PT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NT=()=>{var t;return(t=Pf())==null?void 0:t.config},DT=t=>{var e;return(e=Pf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(l)),""].join(".")}const Qc={};function GP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qc))Qc[e]?t.emulator.push(e):t.prod.push(e);return t}function KP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Kx=!1;function Oy(t,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||Qc[t]===e||Qc[t]||Kx)return;Qc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=GP().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,b){w.setAttribute("width","24"),w.setAttribute("id",b),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Kx=!0,l()},w}function g(w,b){w.setAttribute("id",b),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=KP(r),b=n("text"),R=document.getElementById(b)||document.createElement("span"),I=n("learnmore"),C=document.getElementById(I)||document.createElement("a"),D=n("preprendIcon"),L=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const O=w.element;u(O),g(C,I);const B=p();h(L,D),O.append(L,R,C,B),document.body.appendChild(O)}a?(R.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function YP(){var e;const t=(e=Pf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ek(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tk(){return!YP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nk(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sk,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?ik(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new as(s,u,r)}}function ik(t,e){return t.replace(ok,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ok=/\{\$([^}]+)}/g;function ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Qx(a)&&Qx(l)){if(!Qo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lk(t,e){const n=new ck(t,e);return n.subscribe.bind(n)}class ck{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fm),s.error===void 0&&(s.error=Fm),s.complete===void 0&&(s.complete=Fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fk(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hk(t){return t===Oo?void 0:t}function fk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const mk={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},gk=We.INFO,yk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},vk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=gk,this._logHandler=vk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const wk=(t,e)=>e.some(n=>t instanceof n);let Yx,Xx;function xk(){return Yx||(Yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _k(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,Sg=new WeakMap,jT=new WeakMap,Um=new WeakMap,Fy=new WeakMap;function Ek(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Di(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&MT.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function bk(t){if(Sg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Sg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tk(t){Ig=t(Ig)}function Sk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bm(this),e,...n);return jT.set(r,e.sort?e.sort():[e]),Di(r)}:_k().includes(t)?function(...e){return t.apply(Bm(this),e),Di(MT.get(this))}:function(...e){return Di(t.apply(Bm(this),e))}}function Ik(t){return typeof t=="function"?Sk(t):(t instanceof IDBTransaction&&bk(t),wk(t,xk())?new Proxy(t,Ig):t)}function Di(t){if(t instanceof IDBRequest)return Ek(t);if(Um.has(t))return Um.get(t);const e=Ik(t);return e!==t&&(Um.set(t,e),Fy.set(e,t)),e}const Bm=t=>Fy.get(t);function Ak(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Di(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Di(l.result),h.oldVersion,h.newVersion,Di(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const Ck=["get","getKey","getAll","getAllKeys","count"],Rk=["put","add","delete","clear"],zm=new Map;function Jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Rk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ck.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return zm.set(e,a),a}Tk(t=>({...t,get:(e,n,r)=>Jx(e,n)||t.get(e,n,r),has:(e,n)=>!!Jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",Zx="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Ly("@firebase/app"),Nk="@firebase/app-compat",Dk="@firebase/analytics-compat",Vk="@firebase/analytics",Mk="@firebase/app-check-compat",jk="@firebase/app-check",Ok="@firebase/auth",Lk="@firebase/auth-compat",Fk="@firebase/database",Uk="@firebase/data-connect",Bk="@firebase/database-compat",zk="@firebase/functions",$k="@firebase/functions-compat",Hk="@firebase/installations",Wk="@firebase/installations-compat",qk="@firebase/messaging",Gk="@firebase/messaging-compat",Kk="@firebase/performance",Qk="@firebase/performance-compat",Yk="@firebase/remote-config",Xk="@firebase/remote-config-compat",Jk="@firebase/storage",Zk="@firebase/storage-compat",eN="@firebase/firestore",tN="@firebase/ai",nN="@firebase/firestore-compat",rN="firebase",sN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",iN={[Ag]:"fire-core",[Nk]:"fire-core-compat",[Vk]:"fire-analytics",[Dk]:"fire-analytics-compat",[jk]:"fire-app-check",[Mk]:"fire-app-check-compat",[Ok]:"fire-auth",[Lk]:"fire-auth-compat",[Fk]:"fire-rtdb",[Uk]:"fire-data-connect",[Bk]:"fire-rtdb-compat",[zk]:"fire-fn",[$k]:"fire-fn-compat",[Hk]:"fire-iid",[Wk]:"fire-iid-compat",[qk]:"fire-fcm",[Gk]:"fire-fcm-compat",[Kk]:"fire-perf",[Qk]:"fire-perf-compat",[Yk]:"fire-rc",[Xk]:"fire-rc-compat",[Jk]:"fire-gcs",[Zk]:"fire-gcs-compat",[eN]:"fire-fst",[nN]:"fire-fst-compat",[tN]:"fire-vertex","fire-js":"fire-js",[rN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,oN=new Map,Rg=new Map;function e_(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Rg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of Qh.values())e_(n,t);for(const n of oN.values())e_(n,t);return!0}function kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Pu("app","Firebase",aN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=sN;function OT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Vi.create("bad-app-name",{appName:String(s)});if(n||(n=NT()),!n)throw Vi.create("no-options");const a=Qh.get(s);if(a){if(Qo(n,a.options)&&Qo(r,a.config))return a;throw Vi.create("duplicate-app",{appName:s})}const l=new pk(s);for(const h of Rg.values())l.addComponent(h);const u=new lN(n,r,l);return Qh.set(s,u),u}function Uy(t=Cg){const e=Qh.get(t);if(!e&&t===Cg&&NT())return OT();if(!e)throw Vi.create("no-app",{appName:t});return e}function Xr(t,e,n){let r=iN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(l.join(" "));return}Yo(new Fi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-heartbeat-database",uN=1,du="firebase-heartbeat-store";let $m=null;function LT(){return $m||($m=Ak(cN,uN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),$m}async function dN(t){try{const n=(await LT()).transaction(du),r=await n.objectStore(du).get(FT(t));return await n.done,r}catch(e){if(e instanceof as)Ls.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function t_(t,e){try{const r=(await LT()).transaction(du,"readwrite");await r.objectStore(du).put(e,FT(t)),await r.done}catch(n){if(n instanceof as)Ls.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,fN=30;class pN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>fN){const l=yN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n_(),{heartbeatsToSend:r,unsentEntries:s}=mN(this._heartbeatsCache.heartbeats),a=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ls.warn(n),""}}}function n_(){return new Date().toISOString().substring(0,10)}function mN(t,e=hN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),r_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nk()?rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function r_(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}function yN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){Yo(new Fi("platform-logger",e=>new Pk(e),"PRIVATE")),Yo(new Fi("heartbeat",e=>new pN(e),"PRIVATE")),Xr(Ag,Zx,t),Xr(Ag,Zx,"esm2020"),Xr("fire-js","")}vN("");function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=UT,BT=new Pu("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Ly("@firebase/auth");function xN(t,...e){Yh.logLevel<=We.WARN&&Yh.warn(`Auth (${oa}): ${t}`,...e)}function Ph(t,...e){Yh.logLevel<=We.ERROR&&Yh.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw zy(t,...e)}function Er(t,...e){return zy(t,...e)}function By(t,e,n){const r={...wN(),[e]:n};return new Pu("auth","Firebase",r).create(e,{appName:t.name})}function Ds(t){return By(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ir(t,"argument-error"),By(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BT.create(t,...e)}function De(t,e,...n){if(!t)throw zy(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function Fs(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EN(){return s_()==="http:"||s_()==="https:"}function s_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||JP()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=QP()||ZP()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AN=new Nu(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qs(t,e,n,r,s={}){return $T(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=ku({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return XP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(p.credentials="include"),zT.fetch()(await HT(t,t.config.apiHost,n,u),p)})}async function $T(t,e,n){t._canInitEmulator=!1;const r={...SN,...e};try{const s=new RN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw hh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw hh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw hh(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw By(t,g,p);ir(t,g)}}catch(s){if(s instanceof as)throw s;ir(t,"network-request-failed",{message:String(s)})}}async function Du(t,e,n,r,s={}){const a=await qs(t,e,n,r,s);return"mfaPendingCredential"in a&&ir(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function HT(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?$y(t.config,s):`${t.config.apiScheme}://${s}`;return IN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function CN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),AN.get())})}}function hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}function i_(t){return t!==void 0&&t.enterprise!==void 0}class PN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kN(t,e){return qs(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Xh(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DN(t,e=!1){const n=ht(t),r=await n.getIdToken(e),s=Hy(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Yc(Hm(s.auth_time)),issuedAtTime:Yc(Hm(s.iat)),expirationTime:Yc(Hm(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hm(t){return Number(t)*1e3}function Hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=RT(n);return s?JSON.parse(s):(Ph("Failed to decode base64 JWT payload"),null)}catch(s){return Ph("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function o_(t){const e=Hy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&VN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var v;const e=t.auth,n=await t.getIdToken(),r=await wl(t,Xh(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(v=s.providerUserInfo)!=null&&v.length?WT(s.providerUserInfo):[],l=ON(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function jN(t){const e=ht(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ON(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){const n=await $T(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await HT(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(h.credentials="include"),zT.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FN(t,e){return qs(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=o_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await LN(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new al;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DN(this,e)}reload(){return jN(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await wl(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:R,stsTokenManager:I}=n;De(v&&I,e,"internal-error");const C=al.fromJSON(this.name,I);De(typeof v=="string",e,"internal-error"),Ei(r,e.name),Ei(s,e.name),De(typeof w=="boolean",e,"internal-error"),De(typeof b=="boolean",e,"internal-error"),Ei(a,e.name),Ei(l,e.name),Ei(u,e.name),Ei(h,e.name),Ei(p,e.name),Ei(g,e.name);const D=new xr({uid:v,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:p,lastLoginAt:g});return R&&Array.isArray(R)&&(D.providerData=R.map(L=>({...L}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new al;s.updateFromServerResponse(n);const a=new xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?WT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new al;u.updateFromIdToken(r);const h=new xr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function ks(t){Fs(t instanceof Function,"Expected a class definition");let e=a_.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const l_=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=kh(this.userKey,s.apiKey,a),this.fullPersistenceKey=kh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(ks(l_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ks(l_);const l=kh(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const w=await Xh(e,{idToken:g}).catch(()=>{});if(!w)break;v=await xr._fromGetAccountInfoResponse(e,w,g)}else v=xr._fromJSON(e,g);p!==a&&(u=v),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ll(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ll(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(ZT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(XT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GT(t=fn()){return/firefox\//i.test(t)}function KT(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(t=fn()){return/crios\//i.test(t)}function YT(t=fn()){return/iemobile/i.test(t)}function XT(t=fn()){return/android/i.test(t)}function JT(t=fn()){return/blackberry/i.test(t)}function ZT(t=fn()){return/webos/i.test(t)}function Wy(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UN(t=fn()){var e;return Wy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BN(){return ek()&&document.documentMode===10}function eS(t=fn()){return Wy(t)||XT(t)||ZT(t)||JT(t)||/windows phone/i.test(t)||YT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e=[]){let n;switch(t){case"Browser":n=c_(fn());break;case"Worker":n=`${c_(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=6;class WN{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(An(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Ds(this));const n=e?ht(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $N(this),n=new WN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ji(t){return ht(t)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lk(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(t){Nf=t}function nS(t){return Nf.loadJS(t)}function KN(){return Nf.recaptchaEnterpriseScript}function QN(){return Nf.gapiScript}function YN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XN{constructor(){this.enterprise=new JN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZN="recaptcha-enterprise",rS="NO_RECAPTCHA";class e2{constructor(e){this.type=ZN,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{kN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new PN(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;i_(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(rS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&i_(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=KN();h.length!==0&&(h+=u),nS(h).then(()=>{s(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function d_(t,e,n,r=!1,s=!1){const a=new e2(t);let l;if(s)l=rS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ng(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await d_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await d_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e){const n=kf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Qo(a,e??{}))return s;ir(s,"already-initialized")}return n.initialize({options:e})}function n2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r2(t,e,n){const r=Ji(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=sS(e),{host:l,port:u}=s2(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Qo(p,r.config.emulator)&&Qo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Yi(l)?(jy(`${a}//${l}${h}`),Oy("Auth",!0)):i2()}function sS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s2(t){const e=sS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:h_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:h_(l)}}}function h_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function o2(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function c2(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends qy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",a2);case"emailLink":return l2(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",o2);case"emailLink":return c2(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="http://localhost";class Xo extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new Xo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(t){const e=Uc(Bc(t)).link,n=e?Uc(Bc(e)).deep_link_id:null,r=Uc(Bc(t)).deep_link_id;return(r?Uc(Bc(r)).link:null)||r||n||e||t}class Gy{constructor(e){const n=Uc(Bc(e)),r=n.apiKey??null,s=n.oobCode??null,a=d2(n.mode??null);De(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=h2(e);try{return new Gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gy.parseLink(n);return De(r,"argument-error"),hu._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Vu{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Vu{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Vu{constructor(){super("twitter.com")}static credential(e,n){return Xo._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){return Du(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await xr._fromIdTokenResponse(e,r,s),l=f_(r);return new Jo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=f_(r);return new Jo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function f_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends as{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zh(e,n,r,s)}}function iS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,a,e,r):a})}async function p2(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e,n=!1){const{auth:r}=t;if(An(r.app))return Promise.reject(Ds(r));const s="reauthenticate";try{const a=await wl(t,iS(r,s,e,t),n);De(a.idToken,r,"internal-error");const l=Hy(a.idToken);De(l,r,"internal-error");const{sub:u}=l;return De(t.uid===u,r,"user-mismatch"),Jo._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(t,e,n=!1){if(An(t.app))return Promise.reject(Ds(t));const r="signIn",s=await iS(t,r,e),a=await Jo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function g2(t,e){return oS(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p_(t,e,n){if(An(t.app))return Promise.reject(Ds(t));const r=Ji(t),l=await Ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&aS(t),h}),u=await Jo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function y2(t,e,n){return An(t.app)?Promise.reject(Ds(t)):g2(ht(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e){return qs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await wl(r,v2(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function w2(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function x2(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function _2(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function g_(t){return ht(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,b2=10;class cS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);BN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cS.type="LOCAL";const T2=cS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uS.type="SESSION";const dS=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await S2(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=Qy("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function A2(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function C2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function P2(){return hS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",k2=1,tf="firebaseLocalStorage",pS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function N2(){const t=indexedDB.deleteDatabase(fS);return new Mu(t).toPromise()}function Dg(){const t=indexedDB.open(fS,k2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tf,{keyPath:pS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await N2(),e(await Dg()))})})}async function y_(t,e,n){const r=Vf(t,!0).put({[pS]:e,value:n});return new Mu(r).toPromise()}async function D2(t,e){const n=Vf(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function v_(t,e){const n=Vf(t,!0).delete(e);return new Mu(n).toPromise()}const V2=800,M2=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(P2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await C2(),!this.activeServiceWorker)return;this.sender=new I2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dg();return await y_(e,ef,"1"),await v_(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Vf(s,!1).getAll();return new Mu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const j2=mS;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){return e?ks(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O2(t){return oS(t.auth,new Yy(t),t.bypassAuthState)}function L2(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),m2(n,new Yy(t),t.bypassAuthState)}async function F2(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),p2(n,new Yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return F2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:ir(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Nu(2e3,1e4);async function B2(t,e,n){if(An(t.app))return Promise.reject(Er(t,"operation-not-supported-in-this-environment"));const r=Ji(t);_N(t,e,Ky);const s=gS(r,n);return new Bo(r,"signInViaPopup",e,s).executeNotNull()}class Bo extends yS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="pendingRedirect",Nh=new Map;class $2 extends yS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const r=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(t,e){const n=G2(e),r=q2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function W2(t,e){Nh.set(t._key(),e)}function q2(t){return ks(t._redirectPersistence)}function G2(t){return kh(z2,t.config.apiKey,t.name)}async function K2(t,e,n=!1){if(An(t.app))return Promise.reject(Ds(t));const r=Ji(t),s=gS(r,e),l=await new $2(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=600*1e3;class Y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J2(t);for(const n of e)try{if(nD(n))return}catch{}ir(t,"unauthorized-domain")}function nD(t){const e=Pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!eD.test(n))return!1;if(Z2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Nu(3e4,6e4);function x_(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sD(t){return new Promise((e,n)=>{var s,a,l;function r(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(Er(t,"network-request-failed"))},timeout:rD.get()})}if((a=(s=Jr().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Jr().gapi)!=null&&l.load)r();else{const u=YN("iframefcb");return Jr()[u]=()=>{gapi.load?r():n(Er(t,"network-request-failed"))},nS(`${QN()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function iD(t){return Dh=Dh||sD(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Nu(5e3,15e3),aD="__/auth/iframe",lD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$y(e,lD):`https://${t.config.authDomain}/${aD}`,r={apiKey:e.apiKey,appName:t.name,v:oa},s=uD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ku(r).slice(1)}`}async function hD(t){const e=await iD(t),n=Jr().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:dD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Er(t,"network-request-failed"),u=Jr().setTimeout(()=>{a(l)},oD.get());function h(){Jr().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,mD=600,gD="_blank",yD="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(t,e,n,r=pD,s=mD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...fD,width:r.toString(),height:s.toString(),top:a,left:l},p=fn().toLowerCase();n&&(u=QT(p)?gD:n),GT(p)&&(e=e||yD,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(UN(p)&&u!=="_self")return wD(e||"",u),new __(null);const v=window.open(e||"",u,g);De(v,t,"popup-blocked");try{v.focus()}catch{}return new __(v)}function wD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="__/auth/handler",_D="emulator/auth/handler",ED=encodeURIComponent("fac");async function E_(t,e,n,r,s,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:s};if(e instanceof Ky){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ak(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Vu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),p=h?`#${ED}=${encodeURIComponent(h)}`:"";return`${bD(t)}?${ku(u).slice(1)}${p}`}function bD({config:t}){return t.emulator?$y(t,_D):`https://${t.authDomain}/${xD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class TD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=K2,this._overrideRedirectResult=W2}async _openPopup(e,n,r,s){var l;Fs((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await E_(e,n,r,Pg(),s);return vD(e,a,Qy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await E_(e,n,r,Pg(),s);return A2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hD(e),r=new Y2(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[Wm];a!==void 0&&n(!!a),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eS()||KT()||Wy()}}const SD=TD;var b_="@firebase/auth",T_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(t){Yo(new Fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(t)},p=new qN(r,s,a,h);return n2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Fi("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new ID(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(b_,T_,AD(t)),Xr(b_,T_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=300,PD=DT("authIdTokenMaxAge")||RD;let S_=null;const kD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PD)return;const s=n==null?void 0:n.token;S_!==s&&(S_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ND(t=Uy()){const e=kf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t2(t,{popupRedirectResolver:SD,persistence:[j2,T2,dS]}),r=DT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=kD(a.toString());x2(n,l,()=>l(n.currentUser)),w2(n,u=>l(u))}}const s=PT("auth");return s&&r2(n,`http://${s}`),n}function DD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Er("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",DD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,wS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function A(){}A.prototype=T.prototype,N.F=T.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(j,U,M){for(var V=Array(arguments.length-2),he=2;he<arguments.length;he++)V[he-2]=arguments[he];return T.prototype[U].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,T,A){A||(A=0);const j=Array(16);if(typeof T=="string")for(var U=0;U<16;++U)j[U]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(U=0;U<16;++U)j[U]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=N.g[0],A=N.g[1],U=N.g[2];let M=N.g[3],V;V=T+(M^A&(U^M))+j[0]+3614090360&4294967295,T=A+(V<<7&4294967295|V>>>25),V=M+(U^T&(A^U))+j[1]+3905402710&4294967295,M=T+(V<<12&4294967295|V>>>20),V=U+(A^M&(T^A))+j[2]+606105819&4294967295,U=M+(V<<17&4294967295|V>>>15),V=A+(T^U&(M^T))+j[3]+3250441966&4294967295,A=U+(V<<22&4294967295|V>>>10),V=T+(M^A&(U^M))+j[4]+4118548399&4294967295,T=A+(V<<7&4294967295|V>>>25),V=M+(U^T&(A^U))+j[5]+1200080426&4294967295,M=T+(V<<12&4294967295|V>>>20),V=U+(A^M&(T^A))+j[6]+2821735955&4294967295,U=M+(V<<17&4294967295|V>>>15),V=A+(T^U&(M^T))+j[7]+4249261313&4294967295,A=U+(V<<22&4294967295|V>>>10),V=T+(M^A&(U^M))+j[8]+1770035416&4294967295,T=A+(V<<7&4294967295|V>>>25),V=M+(U^T&(A^U))+j[9]+2336552879&4294967295,M=T+(V<<12&4294967295|V>>>20),V=U+(A^M&(T^A))+j[10]+4294925233&4294967295,U=M+(V<<17&4294967295|V>>>15),V=A+(T^U&(M^T))+j[11]+2304563134&4294967295,A=U+(V<<22&4294967295|V>>>10),V=T+(M^A&(U^M))+j[12]+1804603682&4294967295,T=A+(V<<7&4294967295|V>>>25),V=M+(U^T&(A^U))+j[13]+4254626195&4294967295,M=T+(V<<12&4294967295|V>>>20),V=U+(A^M&(T^A))+j[14]+2792965006&4294967295,U=M+(V<<17&4294967295|V>>>15),V=A+(T^U&(M^T))+j[15]+1236535329&4294967295,A=U+(V<<22&4294967295|V>>>10),V=T+(U^M&(A^U))+j[1]+4129170786&4294967295,T=A+(V<<5&4294967295|V>>>27),V=M+(A^U&(T^A))+j[6]+3225465664&4294967295,M=T+(V<<9&4294967295|V>>>23),V=U+(T^A&(M^T))+j[11]+643717713&4294967295,U=M+(V<<14&4294967295|V>>>18),V=A+(M^T&(U^M))+j[0]+3921069994&4294967295,A=U+(V<<20&4294967295|V>>>12),V=T+(U^M&(A^U))+j[5]+3593408605&4294967295,T=A+(V<<5&4294967295|V>>>27),V=M+(A^U&(T^A))+j[10]+38016083&4294967295,M=T+(V<<9&4294967295|V>>>23),V=U+(T^A&(M^T))+j[15]+3634488961&4294967295,U=M+(V<<14&4294967295|V>>>18),V=A+(M^T&(U^M))+j[4]+3889429448&4294967295,A=U+(V<<20&4294967295|V>>>12),V=T+(U^M&(A^U))+j[9]+568446438&4294967295,T=A+(V<<5&4294967295|V>>>27),V=M+(A^U&(T^A))+j[14]+3275163606&4294967295,M=T+(V<<9&4294967295|V>>>23),V=U+(T^A&(M^T))+j[3]+4107603335&4294967295,U=M+(V<<14&4294967295|V>>>18),V=A+(M^T&(U^M))+j[8]+1163531501&4294967295,A=U+(V<<20&4294967295|V>>>12),V=T+(U^M&(A^U))+j[13]+2850285829&4294967295,T=A+(V<<5&4294967295|V>>>27),V=M+(A^U&(T^A))+j[2]+4243563512&4294967295,M=T+(V<<9&4294967295|V>>>23),V=U+(T^A&(M^T))+j[7]+1735328473&4294967295,U=M+(V<<14&4294967295|V>>>18),V=A+(M^T&(U^M))+j[12]+2368359562&4294967295,A=U+(V<<20&4294967295|V>>>12),V=T+(A^U^M)+j[5]+4294588738&4294967295,T=A+(V<<4&4294967295|V>>>28),V=M+(T^A^U)+j[8]+2272392833&4294967295,M=T+(V<<11&4294967295|V>>>21),V=U+(M^T^A)+j[11]+1839030562&4294967295,U=M+(V<<16&4294967295|V>>>16),V=A+(U^M^T)+j[14]+4259657740&4294967295,A=U+(V<<23&4294967295|V>>>9),V=T+(A^U^M)+j[1]+2763975236&4294967295,T=A+(V<<4&4294967295|V>>>28),V=M+(T^A^U)+j[4]+1272893353&4294967295,M=T+(V<<11&4294967295|V>>>21),V=U+(M^T^A)+j[7]+4139469664&4294967295,U=M+(V<<16&4294967295|V>>>16),V=A+(U^M^T)+j[10]+3200236656&4294967295,A=U+(V<<23&4294967295|V>>>9),V=T+(A^U^M)+j[13]+681279174&4294967295,T=A+(V<<4&4294967295|V>>>28),V=M+(T^A^U)+j[0]+3936430074&4294967295,M=T+(V<<11&4294967295|V>>>21),V=U+(M^T^A)+j[3]+3572445317&4294967295,U=M+(V<<16&4294967295|V>>>16),V=A+(U^M^T)+j[6]+76029189&4294967295,A=U+(V<<23&4294967295|V>>>9),V=T+(A^U^M)+j[9]+3654602809&4294967295,T=A+(V<<4&4294967295|V>>>28),V=M+(T^A^U)+j[12]+3873151461&4294967295,M=T+(V<<11&4294967295|V>>>21),V=U+(M^T^A)+j[15]+530742520&4294967295,U=M+(V<<16&4294967295|V>>>16),V=A+(U^M^T)+j[2]+3299628645&4294967295,A=U+(V<<23&4294967295|V>>>9),V=T+(U^(A|~M))+j[0]+4096336452&4294967295,T=A+(V<<6&4294967295|V>>>26),V=M+(A^(T|~U))+j[7]+1126891415&4294967295,M=T+(V<<10&4294967295|V>>>22),V=U+(T^(M|~A))+j[14]+2878612391&4294967295,U=M+(V<<15&4294967295|V>>>17),V=A+(M^(U|~T))+j[5]+4237533241&4294967295,A=U+(V<<21&4294967295|V>>>11),V=T+(U^(A|~M))+j[12]+1700485571&4294967295,T=A+(V<<6&4294967295|V>>>26),V=M+(A^(T|~U))+j[3]+2399980690&4294967295,M=T+(V<<10&4294967295|V>>>22),V=U+(T^(M|~A))+j[10]+4293915773&4294967295,U=M+(V<<15&4294967295|V>>>17),V=A+(M^(U|~T))+j[1]+2240044497&4294967295,A=U+(V<<21&4294967295|V>>>11),V=T+(U^(A|~M))+j[8]+1873313359&4294967295,T=A+(V<<6&4294967295|V>>>26),V=M+(A^(T|~U))+j[15]+4264355552&4294967295,M=T+(V<<10&4294967295|V>>>22),V=U+(T^(M|~A))+j[6]+2734768916&4294967295,U=M+(V<<15&4294967295|V>>>17),V=A+(M^(U|~T))+j[13]+1309151649&4294967295,A=U+(V<<21&4294967295|V>>>11),V=T+(U^(A|~M))+j[4]+4149444226&4294967295,T=A+(V<<6&4294967295|V>>>26),V=M+(A^(T|~U))+j[11]+3174756917&4294967295,M=T+(V<<10&4294967295|V>>>22),V=U+(T^(M|~A))+j[2]+718787259&4294967295,U=M+(V<<15&4294967295|V>>>17),V=A+(M^(U|~T))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+M&4294967295}r.prototype.v=function(N,T){T===void 0&&(T=N.length);const A=T-this.blockSize,j=this.C;let U=this.h,M=0;for(;M<T;){if(U==0)for(;M<=A;)s(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<T;)if(j[U++]=N.charCodeAt(M++),U==this.blockSize){s(this,j),U=0;break}}else for(;M<T;)if(j[U++]=N[M++],U==this.blockSize){s(this,j),U=0;break}}this.h=U,this.o+=T},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)N[T++]=this.g[A]>>>j&255;return N};function a(N,T){var A=u;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=T(N)}function l(N,T){this.h=T;const A=[];let j=!0;for(let U=N.length-1;U>=0;U--){const M=N[U]|0;j&&M==T||(A[U]=M,j=!1)}this.g=A}var u={};function h(N){return-128<=N&&N<128?a(N,function(T){return new l([T|0],T<0?-1:0)}):new l([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return C(p(-N));const T=[];let A=1;for(let j=0;N>=A;j++)T[j]=N/A|0,A*=4294967296;return new l(T,0)}function g(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return C(g(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(T,8));let j=v;for(let M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M);const V=parseInt(N.substring(M,M+U),T);U<8?(U=p(Math.pow(T,U)),j=j.j(U).add(p(V))):(j=j.j(A),j=j.add(p(V)))}return j}var v=h(0),w=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(I(this))return-C(this).m();let N=0,T=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);N+=(j>=0?j:4294967296+j)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(I(this))return"-"+C(this).toString(N);const T=p(Math.pow(N,6));var A=this;let j="";for(;;){const U=B(A,T).g;A=D(A,U.j(T));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=U,R(A))return M+j;for(;M.length<6;)M="0"+M;j=M+j}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function I(N){return N.h==-1}t.l=function(N){return N=D(this,N),I(N)?-1:R(N)?0:1};function C(N){const T=N.g.length,A=[];for(let j=0;j<T;j++)A[j]=~N.g[j];return new l(A,~N.h).add(w)}t.abs=function(){return I(this)?C(this):this},t.add=function(N){const T=Math.max(this.g.length,N.g.length),A=[];let j=0;for(let U=0;U<=T;U++){let M=j+(this.i(U)&65535)+(N.i(U)&65535),V=(M>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);j=V>>>16,M&=65535,V&=65535,A[U]=V<<16|M}return new l(A,A[A.length-1]&-2147483648?-1:0)};function D(N,T){return N.add(C(T))}t.j=function(N){if(R(this)||R(N))return v;if(I(this))return I(N)?C(this).j(C(N)):C(C(this).j(N));if(I(N))return C(this.j(C(N)));if(this.l(b)<0&&N.l(b)<0)return p(this.m()*N.m());const T=this.g.length+N.g.length,A=[];for(var j=0;j<2*T;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let U=0;U<N.g.length;U++){const M=this.i(j)>>>16,V=this.i(j)&65535,he=N.i(U)>>>16,Ie=N.i(U)&65535;A[2*j+2*U]+=V*Ie,L(A,2*j+2*U),A[2*j+2*U+1]+=M*Ie,L(A,2*j+2*U+1),A[2*j+2*U+1]+=V*he,L(A,2*j+2*U+1),A[2*j+2*U+2]+=M*he,L(A,2*j+2*U+2)}for(N=0;N<T;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=T;N<2*T;N++)A[N]=0;return new l(A,0)};function L(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function O(N,T){this.g=N,this.h=T}function B(N,T){if(R(T))throw Error("division by zero");if(R(N))return new O(v,v);if(I(N))return T=B(C(N),T),new O(C(T.g),C(T.h));if(I(T))return T=B(N,C(T)),new O(C(T.g),T.h);if(N.g.length>30){if(I(N)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var A=w,j=T;j.l(N)<=0;)A=q(A),j=q(j);var U=X(A,1),M=X(j,1);for(j=X(j,2),A=X(A,2);!R(j);){var V=M.add(j);V.l(N)<=0&&(U=U.add(A),M=V),j=X(j,1),A=X(A,1)}return T=D(N,U.j(T)),new O(U,T)}for(U=v;N.l(T)>=0;){for(A=Math.max(1,Math.floor(N.m()/T.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),M=p(A),V=M.j(T);I(V)||V.l(N)>0;)A-=j,M=p(A),V=M.j(T);R(M)&&(M=w),U=U.add(M),N=D(N,V)}return new O(U,N)}t.B=function(N){return B(this,N).h},t.and=function(N){const T=Math.max(this.g.length,N.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)&N.i(j);return new l(A,this.h&N.h)},t.or=function(N){const T=Math.max(this.g.length,N.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)|N.i(j);return new l(A,this.h|N.h)},t.xor=function(N){const T=Math.max(this.g.length,N.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)^N.i(j);return new l(A,this.h^N.h)};function q(N){const T=N.g.length+1,A=[];for(let j=0;j<T;j++)A[j]=N.i(j)<<1|N.i(j-1)>>>31;return new l(A,N.h)}function X(N,T){const A=T>>5;T%=32;const j=N.g.length-A,U=[];for(let M=0;M<j;M++)U[M]=T>0?N.i(M+A)>>>T|N.i(M+A+1)<<32-T:N.i(M+A);return new l(U,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Mi=l}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,zc,_S,Vh,Vg,ES,bS,TS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,_){if(_)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var K=d[k];if(!(K in E))break e;E=E[K]}d=d[d.length-1],k=E[d],_=_(k),_!=k&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var E=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&E.push([k,_[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,E){return d.call.apply(d.bind,arguments)}function p(d,_,E){return p=h,p.apply(null,arguments)}function g(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function v(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(k,K,J){for(var ce=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ce[Fe-2]=arguments[Fe];return _.prototype[K].apply(k,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function b(d){const _=d.length;if(_>0){const E=Array(_);for(let k=0;k<_;k++)E[k]=d[k];return E}return[]}function R(d,_){for(let k=1;k<arguments.length;k++){const K=arguments[k];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=d.length||0;const J=K.length||0;d.length=E+J;for(let ce=0;ce<J;ce++)d[E+ce]=K[ce]}else d.push(K)}}class I{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(d){l.setTimeout(()=>{throw d},0)}function D(){var d=N;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,E){const k=O.get();k.set(_,E),this.h?this.h.next=k:this.g=k,this.h=k}}var O=new I(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,X=!1,N=new L,T=()=>{const d=Promise.resolve(void 0);q=()=>{d.then(A)}};function A(){for(var d;d=D();){try{d.h.call(d.g)}catch(E){C(E)}var _=O;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}X=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return d})();function V(d){return/^[\s\xa0]*$/.test(d)}function he(d,_){U.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(he,U),he.prototype.init=function(d,_){const E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Ee=0;function ue(d,_,E,k,K){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!k,this.ha=K,this.key=++Ee,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ae(d,_,E){for(const k in d)_.call(E,d[k],k,d)}function oe(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function H(d){const _={};for(const E in d)_[E]=d[E];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,_){let E,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(E in k)d[E]=k[E];for(let J=0;J<ee.length;J++)E=ee[J],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,_,E,k,K){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const ce=Me(d,_,k,K);return ce>-1?(_=d[ce],E||(_.fa=!1)):(_=new ue(_,this.src,J,!!k,K),_.fa=E,d.push(_)),_};function Ve(d,_){const E=_.type;if(E in d.g){var k=d.g[E],K=Array.prototype.indexOf.call(k,_,void 0),J;(J=K>=0)&&Array.prototype.splice.call(k,K,1),J&&(W(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Me(d,_,E,k){for(let K=0;K<d.length;++K){const J=d[K];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==k)return K}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),be={};function ke(d,_,E,k,K){if(Array.isArray(_)){for(let J=0;J<_.length;J++)ke(d,_[J],E,k,K);return null}return E=ao(E),d&&d[Ie]?d.J(_,E,u(k)?!!k.capture:!1,K):je(d,_,E,!1,k,K)}function je(d,_,E,k,K,J){if(!_)throw Error("Invalid event type");const ce=u(K)?!!K.capture:!!K;let Fe=Wn(d);if(Fe||(d[ie]=Fe=new ge(d)),E=Fe.add(_,E,k,ce,J),E.proxy)return E;if(k=Ue(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)M||(K=ce),K===void 0&&(K=!1),d.addEventListener(_.toString(),k,K);else if(d.attachEvent)d.attachEvent(Wt(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ue(){function d(E){return _.call(d.src,d.listener,E)}const _=Cr;return d}function Be(d,_,E,k,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)Be(d,_[J],E,k,K);else k=u(k)?!!k.capture:!!k,E=ao(E),d&&d[Ie]?(d=d.i,J=String(_).toString(),J in d.g&&(_=d.g[J],E=Me(_,E,k,K),E>-1&&(W(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[J],d.h--)))):d&&(d=Wn(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Me(_,E,k,K)),(E=d>-1?_[d]:null)&&vt(E))}function vt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ie])Ve(_.i,d);else{var E=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(E,k,d.capture):_.detachEvent?_.detachEvent(Wt(E),k):_.addListener&&_.removeListener&&_.removeListener(k),(E=Wn(_))?(Ve(E,d),E.h==0&&(E.src=null,_[ie]=null)):W(d)}}}function Wt(d){return d in be?be[d]:be[d]="on"+d}function Cr(d,_){if(d.da)d=!0;else{_=new he(_,this);const E=d.listener,k=d.ha||d.src;d.fa&&vt(d),d=E.call(k,_)}return d}function Wn(d){return d=d[ie],d instanceof ge?d:null}var Cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ao(d){return typeof d=="function"?d:(d[Cn]||(d[Cn]=function(_){return d.handleEvent(_)}),d[Cn])}function it(){j.call(this),this.i=new ge(this),this.M=this,this.G=null}v(it,j),it.prototype[Ie]=!0,it.prototype.removeEventListener=function(d,_,E,k){Be(this,d,_,E,k)};function bt(d,_){var E,k=d.G;if(k)for(E=[];k;k=k.G)E.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new U(_,d);else if(_ instanceof U)_.target=_.target||d;else{var K=_;_=new U(k,d),ye(_,K)}K=!0;let J,ce;if(E)for(ce=E.length-1;ce>=0;ce--)J=_.g=E[ce],K=ar(J,k,!0,_)&&K;if(J=_.g=d,K=ar(J,k,!0,_)&&K,K=ar(J,k,!1,_)&&K,E)for(ce=0;ce<E.length;ce++)J=_.g=E[ce],K=ar(J,k,!1,_)&&K}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let k=0;k<E.length;k++)W(E[k]);delete d.g[_],d.h--}}this.G=null},it.prototype.J=function(d,_,E,k){return this.i.add(String(d),_,!1,E,k)},it.prototype.K=function(d,_,E,k){return this.i.add(String(d),_,!0,E,k)};function ar(d,_,E,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let J=0;J<_.length;++J){const ce=_[J];if(ce&&!ce.da&&ce.capture==E){const Fe=ce.listener,Tt=ce.ha||ce.src;ce.fa&&Ve(d.i,ce),K=Fe.call(Tt,k)!==!1&&K}}return K&&!k.defaultPrevented}function zl(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function $l(d){d.g=zl(()=>{d.g=null,d.i&&(d.i=!1,$l(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Xu extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(d){j.call(this),this.h=d,this.g={}}v(Gs,j);var Hl=[];function ca(d){ae(d.g,function(_,E){this.g.hasOwnProperty(E)&&vt(_)},d),d.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),ca(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=l.JSON.stringify,Ju=l.JSON.parse,lo=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Qs(){}function Zu(){}var Ys={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ua(){U.call(this,"d")}v(ua,U);function Wl(){U.call(this,"c")}v(Wl,U);var lr={},da=null;function Xs(){return da=da||new it}lr.Ia="serverreachability";function ha(d){U.call(this,lr.Ia,d)}v(ha,U);function cs(d){const _=Xs();bt(_,new ha(_))}lr.STAT_EVENT="statevent";function us(d,_){U.call(this,lr.STAT_EVENT,d),this.stat=_}v(us,U);function wt(d){const _=Xs();bt(_,new us(_,d))}lr.Ja="timingevent";function ql(d,_){U.call(this,lr.Ja,d),this.size=_}v(ql,U);function Js(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function Zs(){this.g=!0}Zs.prototype.ua=function(){this.g=!1};function ed(d,_,E,k,K,J){d.info(function(){if(d.g)if(J){var ce="",Fe=J.split("&");for(let tt=0;tt<Fe.length;tt++){var Tt=Fe[tt].split("=");if(Tt.length>1){const Ct=Tt[0];Tt=Tt[1];const Vn=Ct.split("_");ce=Vn.length>=2&&Vn[1]=="type"?ce+(Ct+"="+Tt+"&"):ce+(Ct+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+_+`
`+E+`
`+ce})}function td(d,_,E,k,K,J,ce){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+_+`
`+E+`
`+J+" "+ce})}function Rr(d,_,E,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+co(d,E)+(k?" "+k:"")})}function nd(d,_){d.info(function(){return"TIMEOUT: "+_})}Zs.prototype.info=function(){};function co(d,_){if(!d.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var E=J[d];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var K=k[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<k.length;ce++)k[ce]=""}}}}return Ks(J)}catch{return _}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rd;function ds(){}v(ds,Qs),ds.prototype.g=function(){return new XMLHttpRequest},rd=new ds;function Pr(d){return encodeURIComponent(String(d))}function fa(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function qn(d,_,E,k){this.j=d,this.i=_,this.l=E,this.S=k||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sd}function sd(){this.i=null,this.g="",this.h=!1}var id={},Gl={};function cr(d,_,E){d.M=1,d.A=fs(Gn(_)),d.u=E,d.R=!0,Kl(d,null)}function Kl(d,_){d.F=Date.now(),uo(d),d.B=Gn(d.A);var E=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),sc(E.i,"t",k),d.C=0,E=d.j.L,d.h=new sd,d.g=md(d.j,E?_:null,!d.u),d.P>0&&(d.O=new Xu(p(d.Y,d,d.g),d.P)),_=d.V,E=d.g,k=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(Hl[0]=K.toString()),K=Hl);for(let J=0;J<K.length;J++){const ce=ke(E,K[J],k||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),cs(),ed(d.i,d.v,d.B,d.l,d.S,d.u)}qn.prototype.ba=function(d){d=d.target;const _=this.O;_&&Or(d)==3?_.j():this.Y(d)},qn.prototype.Y=function(d){try{if(d==this.g)e:{const Fe=Or(this.g),Tt=this.g.ya(),tt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||fd(this.g)))){this.K||Fe!=4||Tt==7||(Tt==8||tt<=0?cs(3):cs(2)),pa(this);var _=this.g.ca();this.X=_;var E=od(this);if(this.o=_==200,td(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,K=this.g;if((k=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(k)){var J=k;break t}}J=null}if(d=J)Rr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,d);else{this.o=!1,this.m=3,wt(12),hs(this),ho(this);break e}}if(this.R){d=!0;let Ct;for(;!this.K&&this.C<E.length;)if(Ct=ld(this,E),Ct==Gl){Fe==4&&(this.m=4,wt(14),d=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==id){this.m=4,wt(15),Rr(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Rr(this.i,this.l,Ct,null),ot(this,Ct);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,wt(16),d=!1),this.o=this.o&&d,!d)Rr(this.i,this.l,E,"[Invalid Chunked Response]"),hs(this),ho(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),_o(ce),ce.P=!0,wt(11))}}else Rr(this.i,this.l,E,null),ot(this,E);Fe==4&&hs(this),this.o&&!this.K&&(Fe==4?Ta(this.j,this):(this.o=!1,uo(this)))}else oc(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),hs(this),ho(this)}}}catch{}finally{}};function od(d){if(!ad(d))return d.g.la();const _=fd(d.g);if(_==="")return"";let E="";const k=_.length,K=Or(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return hs(d),ho(d),"";d.h.i=new l.TextDecoder}for(let J=0;J<k;J++)d.h.h=!0,E+=d.h.i.decode(_[J],{stream:!(K&&J==k-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function ad(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ld(d,_){var E=d.C,k=_.indexOf(`
`,E);return k==-1?Gl:(E=Number(_.substring(E,k)),isNaN(E)?id:(k+=1,k+E>_.length?Gl:(_=_.slice(k,k+E),d.C=k+E,_)))}qn.prototype.cancel=function(){this.K=!0,hs(this)};function uo(d){d.T=Date.now()+d.H,Ql(d,d.H)}function Ql(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Js(p(d.aa,d),_)}function pa(d){d.D&&(l.clearTimeout(d.D),d.D=null)}qn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(nd(this.i,this.B),this.M!=2&&(cs(),wt(17)),hs(this),this.m=2,ho(this)):Ql(this,this.T-d)};function ho(d){d.j.I==0||d.K||Ta(d.j,d)}function hs(d){pa(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,ca(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function ot(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||Xl(E.h,d))){if(!d.L&&Xl(E.h,d)&&E.I==3){try{var k=E.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ba(E),Nn(E);else break e;Ur(E),wt(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Js(p(E.Va,E),6e3));fo(E.h)<=1&&E.ta&&(E.ta=void 0)}else Dn(E,11)}else if((d.L||E.g==d)&&ba(E),!V(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let tt=K[_];const Ct=tt[0];if(!(Ct<=E.K))if(E.K=Ct,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const Vn=tt[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const vs=tt[4];vs!=null&&(E.za=vs,E.j.info("SVER="+E.za));const Br=tt[5];Br!=null&&typeof Br=="number"&&Br>0&&(k=1.5*Br,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const zr=d.g;if(zr){const Aa=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var J=k.h;J.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ga(J,J.h),J.h=null))}if(k.G){const cc=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;cc&&(k.wa=cc,et(k.J,k.G,cc))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var ce=d;if(k.na=lc(k,k.L?k.ba:null,k.W),ce.L){po(k.h,ce);var Fe=ce,Tt=k.O;Tt&&(Fe.H=Tt),Fe.D&&(pa(Fe),uo(Fe)),k.g=ce}else sn(k);E.i.length>0&&ys(E)}else tt[0]!="stop"&&tt[0]!="close"||Dn(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Dn(E,7):_a(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}cs(4)}catch{}}var dp=class{constructor(d,_){this.g=d,this.map=_}};function ma(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fo(d){return d.h?1:d.g?d.g.size:0}function Xl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ga(d,_){d.g?d.g.add(_):d.h=_}function po(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ma.prototype.cancel=function(){if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return b(d.i)}var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pn(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const k=d[E].indexOf("=");let K,J=null;k>=0?(K=d[E].substring(0,k),J=d[E].substring(k+1)):K=d[E],_(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function kr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof kr?(this.l=d.l,mo(this,d.j),this.o=d.o,this.g=d.g,Nr(this,d.u),this.h=d.h,ni(this,ic(d.i)),this.m=d.m):d&&(_=String(d).match(cd))?(this.l=!1,mo(this,_[1]||"",!0),this.o=go(_[2]||""),this.g=go(_[3]||"",!0),Nr(this,_[4]),this.h=go(_[5]||"",!0),ni(this,_[6]||"",!0),this.m=go(_[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}kr.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(yo(_,Zl,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(yo(_,Zl,!0),"@"),d.push(Pr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(yo(E,E.charAt(0)=="/"?vo:ec,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",yo(E,tc)),d.join("")},kr.prototype.resolve=function(d){const _=Gn(this);let E=!!d.j;E?mo(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var k=d.h;if(E)Nr(_,d.u);else if(E=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var K=_.h.lastIndexOf("/");K!=-1&&(k=_.h.slice(0,K+1)+k)}if(K=k,K==".."||K==".")k="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){k=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ce=0;ce<K.length;){const Fe=K[ce++];Fe=="."?k&&ce==K.length&&J.push(""):Fe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),k&&ce==K.length&&J.push("")):(J.push(Fe),k=!0)}k=J.join("/")}else k=K}return E?_.h=k:E=d.i.toString()!=="",E?ni(_,ic(d.i)):E=!!d.m,E&&(_.m=d.m),_};function Gn(d){return new kr(d)}function mo(d,_,E){d.j=E?go(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Nr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function ni(d,_,E){_ instanceof Ke?(d.i=_,va(d.i,d.l)):(E||(_=yo(_,hp)),d.i=new Ke(_,d.l))}function et(d,_,E){d.i.set(_,E)}function fs(d){return et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function go(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function yo(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Jl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Jl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zl=/[#\/\?@]/g,ec=/[#\?:]/g,vo=/[#\?]/g,hp=/[#\?@]/g,tc=/#/g;function Ke(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Dr(d){d.g||(d.g=new Map,d.h=0,d.i&&Pn(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Ke.prototype,t.add=function(d,_){Dr(this),this.i=null,d=Vr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function nc(d,_){Dr(d),_=Vr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ya(d,_){return Dr(d),_=Vr(d,_),d.g.has(_)}t.forEach=function(d,_){Dr(this),this.g.forEach(function(E,k){E.forEach(function(K){d.call(_,K,k,this)},this)},this)};function rc(d,_){Dr(d);let E=[];if(typeof _=="string")ya(d,_)&&(E=E.concat(d.g.get(Vr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}t.set=function(d,_){return Dr(this),this.i=null,d=Vr(this,d),ya(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=rc(this,d),d.length>0?String(d[0]):_):_};function sc(d,_,E){nc(d,_),E.length>0&&(d.i=null,d.g.set(Vr(d,_),b(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var E=_[k];const K=Pr(E);E=rc(this,E);for(let J=0;J<E.length;J++){let ce=K;E[J]!==""&&(ce+="="+Pr(E[J])),d.push(ce)}}return this.i=d.join("&")};function ic(d){const _=new Ke;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Vr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function va(d,_){_&&!d.j&&(Dr(d),d.i=null,d.g.forEach(function(E,k){const K=k.toLowerCase();k!=K&&(nc(this,k),sc(this,K,E))},d)),d.j=_}function Mr(d,_){const E=new Zs;if(l.Image){const k=new Image;k.onload=g(qt,E,"TestLoadImage: loaded",!0,_,k),k.onerror=g(qt,E,"TestLoadImage: error",!1,_,k),k.onabort=g(qt,E,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(qt,E,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function jr(d,_){const E=new Zs,k=new AbortController,K=setTimeout(()=>{k.abort(),qt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(J=>{clearTimeout(K),J.ok?qt(E,"TestPingServer: ok",!0,_):qt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),qt(E,"TestPingServer: error",!1,_)})}function qt(d,_,E,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(E)}catch{}}function wo(){this.g=new lo}function ps(d){this.i=d.Sb||null,this.h=d.ab||!1}v(ps,Qs),ps.prototype.g=function(){return new kn(this.i,this.h)};function kn(d,_){it.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(kn,it),t=kn.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,ur(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ud(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ud(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ri(this):ur(this),this.readyState==3&&ud(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,ri(this))},t.Na=function(d){this.g&&(this.response=d,ri(this))},t.ga=function(){this.g&&ri(this)};function ri(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ur(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function ur(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function dd(d){let _="";return ae(d,function(E,k){_+=k,_+=":",_+=E,_+=`\r
`}),_}function wa(d,_,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=dd(E),typeof d=="string"?E!=null&&Pr(E):et(d,_,E))}function rt(d){it.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(rt,it);var hd=/^https?$/i,fp=["POST","PUT"];t=rt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rd.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){si(this,J);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)E.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())E.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),K=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(fp,_,void 0)>=0)||k||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of E)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){si(this,J)}};function si(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,ii(d),gs(d)}function ii(d){d.A||(d.A=!0,bt(d,"complete"),bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,bt(this,"complete"),bt(this,"abort"),gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},t.Xa=function(){ms(this)};function ms(d){if(d.h&&typeof a<"u"){if(d.v&&Or(d)==4)setTimeout(d.Ca.bind(d),0);else if(bt(d,"readystatechange"),Or(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var k;if(k=J===0){let ce=String(d.D).match(cd)[1]||null;!ce&&l.self&&l.self.location&&(ce=l.self.location.protocol.slice(0,-1)),k=!hd.test(ce?ce.toLowerCase():"")}E=k}if(E)bt(d,"complete"),bt(d,"success");else{d.o=6;try{var K=Or(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",ii(d)}}finally{gs(d)}}}}function gs(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||bt(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Or(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Or(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ju(_)}};function fd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(d){const _={};d=(d.g&&Or(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(V(d[k]))continue;var E=fa(d[k]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[K]||[];_[K]=J,J.push(E)}oe(_,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function xa(d){this.za=0,this.i=[],this.j=new Zs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lr("baseRetryDelayMs",5e3,d),this.Za=Lr("retryDelaySeedMs",1e4,d),this.Ta=Lr("forwardChannelMaxRetries",2,d),this.va=Lr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ma(d&&d.concurrentRequestLimit),this.Ba=new wo,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xa.prototype,t.ka=8,t.I=1,t.connect=function(d,_,E,k){wt(0),this.W=d,this.H=_||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=lc(this,null,this.W),ys(this)};function _a(d){if(Ea(d),d.I==3){var _=d.V++,E=Gn(d.J);if(et(E,"SID",d.M),et(E,"RID",_),et(E,"TYPE","terminate"),Fr(d,E),_=new qn(d,d.j,_),_.M=2,_.A=fs(Gn(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=md(_.j,null),_.g.ea(_.A)),_.F=Date.now(),uo(_)}Eo(d)}function Nn(d){d.g&&(_o(d),d.g.cancel(),d.g=null)}function Ea(d){Nn(d),d.v&&(l.clearTimeout(d.v),d.v=null),ba(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function ys(d){if(!Yl(d.h)&&!d.m){d.m=!0;var _=d.Ea;q||T(),X||(q(),X=!0),N.add(_,d),d.D=0}}function pd(d,_){return fo(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Js(p(d.Ea,d,_),Sa(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new qn(this,this.j,d);let J=this.o;if(this.U&&(J?(J=H(J),ye(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ac(this,K,_),E=Gn(this.J),et(E,"RID",d),et(E,"CVER",22),this.G&&et(E,"X-HTTP-Session-Id",this.G),Fr(this,E),J&&(this.R?_="headers="+Pr(dd(J))+"&"+_:this.u&&wa(E,this.u,J)),ga(this.h,K),this.Ra&&et(E,"TYPE","init"),this.S?(et(E,"$req",_),et(E,"SID","null"),K.U=!0,cr(K,E,null)):cr(K,E,_),this.I=2}}else this.I==3&&(d?xo(this,d):this.i.length==0||Yl(this.h)||xo(this))};function xo(d,_){var E;_?E=_.l:E=d.V++;const k=Gn(d.J);et(k,"SID",d.M),et(k,"RID",E),et(k,"AID",d.K),Fr(d,k),d.u&&d.o&&wa(k,d.u,d.o),E=new qn(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=ac(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ga(d.h,E),cr(E,k,_)}function Fr(d,_){d.H&&ae(d.H,function(E,k){et(_,k,E)}),d.l&&ae({},function(E,k){et(_,k,E)})}function ac(d,_,E){E=Math.min(d.i.length,E);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var K=d.i;let Fe=-1;for(;;){const Tt=["count="+E];Fe==-1?E>0?(Fe=K[0].g,Tt.push("ofs="+Fe)):Fe=0:Tt.push("ofs="+Fe);let tt=!0;for(let Ct=0;Ct<E;Ct++){var J=K[Ct].g;const Vn=K[Ct].map;if(J-=Fe,J<0)Fe=Math.max(0,K[Ct].g-100),tt=!1;else try{J="req"+J+"_"||"";try{var ce=Vn instanceof Map?Vn:Object.entries(Vn);for(const[vs,Br]of ce){let zr=Br;u(Br)&&(zr=Ks(Br)),Tt.push(J+vs+"="+encodeURIComponent(zr))}}catch(vs){throw Tt.push(J+"type="+encodeURIComponent("_badmap")),vs}}catch{k&&k(Vn)}}if(tt){ce=Tt.join("&");break e}}ce=void 0}return d=d.i.splice(0,E),_.G=d,ce}function sn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;q||T(),X||(q(),X=!0),N.add(_,d),d.A=0}}function Ur(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Js(p(d.Da,d),Sa(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,oi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Js(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Nn(this),oi(this))};function _o(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function oi(d){d.g=new qn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Gn(d.na);et(_,"RID","rpc"),et(_,"SID",d.M),et(_,"AID",d.K),et(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&et(_,"TO",d.ia),et(_,"TYPE","xmlhttp"),Fr(d,_),d.u&&d.o&&wa(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=fs(Gn(_)),E.u=null,E.R=!0,Kl(E,d)}t.Va=function(){this.C!=null&&(this.C=null,Nn(this),Ur(this),wt(19))};function ba(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Ta(d,_){var E=null;if(d.g==_){ba(d),_o(d),d.g=null;var k=2}else if(Xl(d.h,_))E=_.G,po(d.h,_),k=1;else return;if(d.I!=0){if(_.o)if(k==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=d.D;k=Xs(),bt(k,new ql(k,E)),ys(d)}else sn(d);else if(K=_.m,K==3||K==0&&_.X>0||!(k==1&&pd(d,_)||k==2&&Ur(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),K){case 1:Dn(d,5);break;case 4:Dn(d,10);break;case 3:Dn(d,6);break;default:Dn(d,2)}}}function Sa(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function Dn(d,_){if(d.j.info("Error code "+_),_==2){var E=p(d.bb,d),k=d.Ua;const K=!k;k=new kr(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mo(k,"https"),fs(k),K?Mr(k.toString(),E):jr(k.toString(),E)}else wt(2);d.I=0,d.l&&d.l.pa(_),Eo(d),Ea(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Eo(d){if(d.I=0,d.ja=[],d.l){const _=Rn(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ja,_),R(d.ja,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.oa()}}function lc(d,_,E){var k=E instanceof kr?Gn(E):new kr(E);if(k.g!="")_&&(k.g=_+"."+k.g),Nr(k,k.u);else{var K=l.location;k=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const J=new kr(null);k&&mo(J,k),_&&(J.g=_),K&&Nr(J,K),E&&(J.h=E),k=J}return E=d.G,_=d.wa,E&&_&&et(k,E,_),et(k,"VER",d.ka),Fr(d,k),k}function md(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new rt(new ps({ab:E})):new rt(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gd(){}t=gd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ia(){}Ia.prototype.g=function(d,_){return new Gt(d,_)};function Gt(d,_){it.call(this),this.g=new xa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!V(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ai(this)}v(Gt,it),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){_a(this.g)},Gt.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Ks(d),d=E);_.i.push(new dp(_.Ya++,d)),_.I==3&&ys(_)},Gt.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,Gt.Z.N.call(this)};function yd(d){ua.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(yd,ua);function vd(){Wl.call(this),this.status=1}v(vd,Wl);function ai(d){this.g=d}v(ai,gd),ai.prototype.ra=function(){bt(this.g,"a")},ai.prototype.qa=function(d){bt(this.g,new yd(d))},ai.prototype.pa=function(d){bt(this.g,new vd)},ai.prototype.oa=function(){bt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,TS=function(){return new Ia},bS=function(){return Xs()},ES=lr,Vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,Vh=ei,ti.COMPLETE="complete",_S=ti,Zu.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",it.prototype.listen=it.prototype.J,zc=Zu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,xS=rt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="12.8.0";function VD(t){Rl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Ly("@firebase/firestore");function Ja(){return Zo.logLevel}function pe(t,...e){if(Zo.logLevel<=We.DEBUG){const n=e.map(Xy);Zo.debug(`Firestore (${Rl}): ${t}`,...n)}}function Us(t,...e){if(Zo.logLevel<=We.ERROR){const n=e.map(Xy);Zo.error(`Firestore (${Rl}): ${t}`,...n)}}function xl(t,...e){if(Zo.logLevel<=We.WARN){const n=e.map(Xy);Zo.warn(`Firestore (${Rl}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SS(t,r,n)}function SS(t,e,n){let r=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||SS(e,s,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class jD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OD{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class LD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=BD(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Mg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return qm(s)===qm(a)?qe(s,a):qm(s)?1:-1}return qe(t.length,e.length)}const zD=55296,$D=57343;function qm(t){const e=t.charCodeAt(0);return e>=zD&&e<=$D}function _l(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class Gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Gr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return qe(e.length,n.length)}static compareSegments(e,n){const r=Gr.isNumericId(e),s=Gr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):Mg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class nt extends Gr{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const HD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Gr{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return HD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new Jt([C_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(nt.fromString(e))}static fromName(e){return new Ae(nt.fromString(e).popFirst(5))}static empty(){return new Ae(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e,n){if(!n)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WD(t,e,n,r){if(e===!0&&r===!0)throw new de(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R_(t){if(!Ae.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P_(t){if(Ae.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(t);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qD(t,e){if(e<=0)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!CS(t))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new de(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,N_=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N_);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k_)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Vt("string",ct._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ct(0,0))}static max(){return new Ne(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function GD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Ui(s,Ae.empty(),e)}function KD(t){return new Ui(t.readTime,t.key,fu)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(Ne.min(),Ae.empty(),fu)}static max(){return new Ui(Ne.max(),Ae.empty(),fu)}}function QD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==YD)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(h=>r(h)))})),l=!0,a===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((g=>{l[p]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function JD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function Ou(t){return t==null}function nf(t){return t===0&&1/t==-1/0}function ZD(t){return typeof t=="number"&&Number.isInteger(t)&&!nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="";function eV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D_(e)),e=tV(t.get(n),e);return D_(e)}function tV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case RS:n+="";break;default:n+=a}}return n}function D_(t){return t+RS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=s??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Xt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kS("Invalid base64 string: "+a):a}})(e);return new en(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=nV.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="server_timestamp",DS="__type__",VS="__previous_value__",MS="__local_write_time__";function ev(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DS])==null?void 0:r.stringValue)===NS}function Of(t){const e=t.mapValue.fields[VS];return ev(e)?Of(e):e}function pu(t){const e=Bi(t.mapValue.fields[MS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,s,a,l,u,h,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=v}}const rf="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function sV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__type__",iV="__max__",mh={mapValue:{}},OS="__vector__",sf="value";function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:aV(t)?9007199254740991:oV(t)?10:11:Ce(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Bi(s.timestampValue),u=Bi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return zi(s.bytesValue).isEqual(zi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return It(s.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return It(s.integerValue)===It(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=It(s.doubleValue),u=It(a.doubleValue);return l===u?nf(l)===nf(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(V_(l)!==V_(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ss(l[h],u[h])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function gu(t,e){return(t.values||[]).find((n=>ss(n,e)))!==void 0}function El(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=It(a.integerValue||a.doubleValue),h=It(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_(pu(t),pu(e));case 5:return Mg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=zi(a),h=zi(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=qe(u[p],h[p]);if(g!==0)return g}return qe(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=qe(It(a.latitude),It(l.latitude));return u!==0?u:qe(It(a.longitude),It(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return O_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var w,b,R,I;const u=a.fields||{},h=l.fields||{},p=(w=u[sf])==null?void 0:w.arrayValue,g=(b=h[sf])==null?void 0:b.arrayValue,v=qe(((R=p==null?void 0:p.values)==null?void 0:R.length)||0,((I=g==null?void 0:g.values)==null?void 0:I.length)||0);return v!==0?v:O_(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===mh.mapValue&&l===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(l===mh.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const w=Mg(h[v],g[v]);if(w!==0)return w;const b=El(u[h[v]],p[g[v]]);if(b!==0)return b}return qe(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function j_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Bi(t),r=Bi(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function O_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=El(n[s],r[s]);if(a)return a}return qe(n.length,r.length)}function bl(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return zi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=jg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${jg(n.fields[l])}`;return s+"}"})(t.mapValue):Ce(61005,{value:t})}function Mh(t){switch($i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(t);return e?16+Mh(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Mh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Zi(r.fields,((a,l)=>{s+=a.length+Mh(l)})),s})(t.mapValue);default:throw Ce(13486,{value:t})}}function L_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function F_(t){return!!t&&"nullValue"in t}function U_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jh(t){return!!t&&"mapValue"in t}function oV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jS])==null?void 0:r.stringValue)===OS}function Xc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return{...t}}function aV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Xc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new yn(Xc(this.value))}}function LS(t){const e=[];return Zi(t.fields,((n,r)=>{const s=new Jt([n]);if(jh(r)){const a=LS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ht(e,0,Ne.min(),Ne.min(),Ne.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,Ne.min(),Ne.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Ne.min(),Ne.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function B_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=El(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function lV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class Dt extends FS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uV(e,n,r):n==="array-contains"?new fV(e,r):n==="in"?new pV(e,r):n==="not-in"?new mV(e,r):n==="array-contains-any"?new gV(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dV(e,r):new hV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(El(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends FS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tr(e,n)}matches(e){return US(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function US(t){return t.op==="and"}function BS(t){return cV(t)&&US(t)}function cV(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function Lg(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+bl(t.value);if(BS(t))return t.filters.map((e=>Lg(e))).join(",");{const e=t.filters.map((n=>Lg(n))).join(",");return`${t.op}(${e})`}}function zS(t,e){return t instanceof Dt?(function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ss(r.value,s.value)})(t,e):t instanceof Tr?(function(r,s){return s instanceof Tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&zS(l,s.filters[u])),!0):!1})(t,e):void Ce(19439)}function $S(t){return t instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bl(n.value)}`})(t):t instanceof Tr?(function(n){return n.op.toString()+" {"+n.getFilters().map($S).join(" ,")+"}"})(t):"Filter"}class uV extends Dt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class dV extends Dt{constructor(e,n){super(e,"in",n),this.keys=HS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hV extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=HS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ae.fromName(r.referenceValue)))}class fV extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&gu(n.arrayValue,this.value)}}class pV extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class mV extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class gV extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function $_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new yV(t,e,n,r,s,a,l)}function nv(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bl(r))).join(",")),e.Te=n}return e.Te}function rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function Fg(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vV(t,e,n,r,s,a,l,u){return new Nl(t,e,n,r,s,a,l,u)}function sv(t){return new Nl(t)}function H_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wV(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function WS(t){return t.collectionGroup!==null}function Jc(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ft(Jt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new yu(a,r))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new yu(Jt.keyField(),r))}return e.Ie}function es(t){const e=Le(t);return e.Ee||(e.Ee=xV(e,Jc(t))),e.Ee}function xV(t,e){if(t.limitType==="F")return $_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new yu(s.field,a)}));const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return $_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e){const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _V(t,e){const n=t.explicitOrderBy.concat([e]);return new Nl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function af(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lf(t,e){return rv(es(t),es(e))&&t.limitType===e.limitType}function qS(t){return`${nv(es(t))}|lt:${t.limitType}`}function Za(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>$S(s))).join(", ")}]`),Ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>bl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>bl(s))).join(",")),`Target(${r})`})(es(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Jc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=B_(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Jc(r),s)||r.endAt&&!(function(l,u,h){const p=B_(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Jc(r),s))})(t,e)}function EV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GS(t){return(e,n)=>{let r=!1;for(const s of Jc(t)){const a=bV(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function bV(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?El(h,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new yt(Ae.comparator);function Bs(){return TV}const KS=new yt(Ae.comparator);function $c(...t){let e=KS;for(const n of t)e=e.insert(n.key,n);return e}function QS(t){let e=KS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function zo(){return Zc()}function YS(){return Zc()}function Zc(){return new aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SV=new yt(Ae.comparator),IV=new Ft(Ae.comparator);function Ge(...t){let e=IV;for(const n of t)e=e.add(n);return e}const AV=new Ft(qe);function CV(){return AV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function XS(t){return{integerValue:""+t}}function RV(t,e){return ZD(e)?XS(e):iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function PV(t,e,n){return t instanceof vu?(function(s,a){const l={fields:{[DS]:{stringValue:NS},[MS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ev(a)&&(a=Of(a)),a&&(l.fields[VS]=a),{mapValue:l}})(n,e):t instanceof wu?ZS(t,e):t instanceof xu?e1(t,e):(function(s,a){const l=JS(s,a),u=W_(l)+W_(s.Ae);return Og(l)&&Og(s.Ae)?XS(u):iv(s.serializer,u)})(t,e)}function kV(t,e,n){return t instanceof wu?ZS(t,e):t instanceof xu?e1(t,e):n}function JS(t,e){return t instanceof lf?(function(r){return Og(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vu extends Uf{}class wu extends Uf{constructor(e){super(),this.elements=e}}function ZS(t,e){const n=t1(e);for(const r of t.elements)n.some((s=>ss(s,r)))||n.push(r);return{arrayValue:{values:n}}}class xu extends Uf{constructor(e){super(),this.elements=e}}function e1(t,e){let n=t1(e);for(const r of t.elements)n=n.filter((s=>!ss(s,r)));return{arrayValue:{values:n}}}class lf extends Uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W_(t){return It(t.integerValue||t.doubleValue)}function t1(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n){this.field=e,this.transform=n}}function DV(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof wu&&s instanceof wu||r instanceof xu&&s instanceof xu?_l(r.elements,s.elements,ss):r instanceof lf&&s instanceof lf?ss(r.Ae,s.Ae):r instanceof vu&&s instanceof vu})(t.transform,e.transform)}class VV{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function n1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zf(t.key,Zt.none()):new Lu(t.key,t.data,Zt.none());{const n=t.data,r=yn.empty();let s=new Ft(Jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new eo(t.key,r,new Un(s.toArray()),Zt.none())}}function MV(t,e,n){t instanceof Lu?(function(s,a,l){const u=s.value.clone(),h=G_(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof eo?(function(s,a,l){if(!Oh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=G_(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(r1(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function eu(t,e,n,r){return t instanceof Lu?(function(a,l,u,h){if(!Oh(a.precondition,l))return u;const p=a.value.clone(),g=K_(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof eo?(function(a,l,u,h){if(!Oh(a.precondition,l))return u;const p=K_(a.fieldTransforms,h,l),g=l.data;return g.setAll(r1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return Oh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function jV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=JS(r.transform,s||null);a!=null&&(n===null&&(n=yn.empty()),n.set(r.field,a))}return n||null}function q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_l(r,s,((a,l)=>DV(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends Bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eo extends Bf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function r1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function G_(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,kV(l,u,n[s]))}return r}function K_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,PV(a,l,e))}return r}class zf extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&MV(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YS();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=n1(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,r)=>q_(n,r)))&&_l(this.baseMutations,e.baseMutations,((n,r)=>q_(n,r)))}}class ov{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return SV})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ov(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Qe;function i1(t){switch(t){case Z.OK:return Ce(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function o1(t){if(t===void 0)return Us("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Pt.OK:return Z.OK;case Pt.CANCELLED:return Z.CANCELLED;case Pt.UNKNOWN:return Z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Z.INTERNAL;case Pt.UNAVAILABLE:return Z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Z.NOT_FOUND;case Pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pt.ABORTED:return Z.ABORTED;case Pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pt.DATA_LOSS:return Z.DATA_LOSS;default:return Ce(39323,{code:t})}}(Qe=Pt||(Pt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Mi([4294967295,4294967295],0);function Q_(t){const e=UV().encode(t),n=new wS;return n.update(e),new Uint8Array(n.digest())}function Y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mi([n,r],0),new Mi([s,a],0)]}class av{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hc(`Invalid padding: ${n}`);if(r<0)throw new Hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Mi.fromNumber(r)));return s.compare(BV)===1&&(s=new Mi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Q_(e),[r,s]=Y_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new av(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Q_(e),[r,s]=Y_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $f(Ne.min(),s,new yt(qe),Bs(),Ge())}}class Fu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class a1{constructor(e,n){this.targetId=e,this.Ce=n}}class l1{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class X_{constructor(){this.ve=0,this.Fe=J_(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:a})}})),new Fu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=J_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.He=gh(),this.Je=gh(),this.Ze=new yt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Fg(a))if(r===0){const l=new Ae(a.path);this.et(n,l,Ht.newNoDocument(l,Ne.min()))}else Ye(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=zi(r).toUint8Array()}catch(h){if(h instanceof kS)return xl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new av(l,s,a)}catch(h){return xl(h instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Fg(u.target)){const h=new Ae(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Ht.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=Ge();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new $f(e,n,this.Ze,this.je,r);return this.je=Bs(),this.He=gh(),this.Je=gh(),this.Ze=new yt(qe),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new X_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gh(){return new yt(Ae.comparator)}function J_(){return new yt(Ae.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},HV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WV={and:"AND",or:"OR"};class qV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||Ou(e)?e:{value:e}}function cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GV(t,e){return cf(t,e.toTimestamp())}function zn(t){return Ye(!!t,49232),Ne.fromTimestamp((function(n){const r=Bi(n);return new ct(r.seconds,r.nanos)})(t))}function lv(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(s){return new nt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function u1(t){const e=nt.fromString(t);return Ye(g1(e),10190,{key:e.toString()}),e}function uf(t,e){return lv(t.databaseId,e.path)}function tu(t,e){const n=u1(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(h1(n))}function d1(t,e){return lv(t.databaseId,e)}function KV(t){const e=u1(t);return e.length===4?nt.emptyPath():h1(e)}function $g(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h1(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z_(t,e,n){return{name:uf(t,e),fields:n.value.mapValue.fields}}function QV(t,e){return"found"in e?(function(r,s){Ye(!!s.found,43571),s.found.name,s.found.updateTime;const a=tu(r,s.found.name),l=zn(s.found.updateTime),u=s.found.createTime?zn(s.found.createTime):Ne.min(),h=new yn({mapValue:{fields:s.found.fields}});return Ht.newFoundDocument(a,l,u,h)})(t,e):"missing"in e?(function(r,s){Ye(!!s.missing,3894),Ye(!!s.readTime,22933);const a=tu(r,s.missing),l=zn(s.readTime);return Ht.newNoDocument(a,l)})(t,e):Ce(7234,{result:e})}function YV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Ye(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?Z.UNKNOWN:o1(p.code);return new de(g,p.message||"")})(l);n=new l1(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tu(t,r.document.name),a=zn(r.document.updateTime),l=r.document.createTime?zn(r.document.createTime):Ne.min(),u=new yn({mapValue:{fields:r.document.fields}}),h=Ht.newFoundDocument(s,a,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Lh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tu(t,r.document),a=r.readTime?zn(r.readTime):Ne.min(),l=Ht.newNoDocument(s,a),u=r.removedTargetIds||[];n=new Lh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tu(t,r.document),a=r.removedTargetIds||[];n=new Lh([],a,s,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new FV(s,a),u=r.targetId;n=new a1(u,l)}}return n}function f1(t,e){let n;if(e instanceof Lu)n={update:Z_(t,e.key,e.value)};else if(e instanceof zf)n={delete:uf(t,e.key)};else if(e instanceof eo)n={update:Z_(t,e.key,e.data),updateMask:iM(e.fieldMask)};else{if(!(e instanceof s1))return Ce(16599,{dt:e.type});n={verify:uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof lf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:GV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function XV(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?zn(s.updateTime):zn(a);return l.isEqual(Ne.min())&&(l=zn(a)),new VV(l,s.transformResults||[])})(n,e)))):[]}function JV(t,e){return{documents:[d1(t,e.path)]}}function ZV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d1(t,s);const a=(function(p){if(p.length!==0)return m1(Tr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:el(w.field),direction:nM(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Bg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function eM(t){let e=KV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const w=p1(v);return w instanceof Tr&&BS(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((w=>(function(R){return new yu(tl(R.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Ou(w)?null:w})(n.limit));let h=null;n.startAt&&(h=(function(v){const w=!!v.before,b=v.values||[];return new of(b,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,b=v.values||[];return new of(b,w)})(n.endAt)),vV(e,s,l,a,u,"F",h,p)}function tM(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tl(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=tl(n.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tl(n.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dt.create(tl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Tr.create(n.compositeFilter.filters.map((r=>p1(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function nM(t){return $V[t]}function rM(t){return HV[t]}function sM(t){return WV[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return Jt.fromServerFormat(t.fieldPath)}function m1(t){return t instanceof Dt?(function(n){if(n.op==="=="){if(U_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(F_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(F_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:rM(n.op),value:n.value}}})(t):t instanceof Tr?(function(n){const r=n.getFilters().map((s=>m1(s)));return r.length===1?r[0]:{compositeFilter:{op:sM(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function iM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function g1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function y1(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,s,a=Ne.min(),l=Ne.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.yt=e}}function aM(t){const e=eM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Sn=new cM}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ui.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class cM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(nt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(v1,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",uM=1048576;function nE([t,e],[n,r]){const s=qe(t,n);return s===0?qe(e,r):s}class dM{constructor(e){this.Pr=e,this.buffer=new Ft(nE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(tE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?pe(tE,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Ar(3e5)}))}}class fM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(jf.ce);const r=new dM(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(eE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,a,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Ja()<=We.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function pM(t,e){return new fM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&eu(r.mutation,s,Un.empty(),ct.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const s=zo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=$c();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=Bs();const l=Zc(),u=(function(){return Zc()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof eo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),eu(g.mutation,p,g.mutation.getFieldMask(),ct.now())):l.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>u.set(p,new gM(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Zc();let s=new yt(((l,u)=>l-u)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||Un.empty();g=u.applyToLocalView(p,g),r.set(h,g);const v=(s.get(u.batchId)||Ge()).add(h);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,v=YS();g.forEach((w=>{if(!a.has(w)){const b=n1(n.get(w),r.get(w));b!==null&&v.set(w,b),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return wV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):te.resolve(zo());let u=fu,h=a;return l.next((p=>te.forEach(p,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,Ge()))).next((g=>({batchId:u,changes:QS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let s=$c();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=$c();return this.indexManager.getCollectionParents(e,a).next((u=>te.forEach(u,(h=>{const p=(function(v,w){return new Nl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,w)=>{l=l.insert(v,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Ht.newInvalidDocument(g)))}));let u=$c();return l.forEach(((h,p)=>{const g=a.get(h);g!==void 0&&eu(g.mutation,p,Un.empty(),ct.now()),Ff(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:zn(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:aM(s.bundledQuery),readTime:zn(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.overlays=new yt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return te.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.bt(e,n,a)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=zo(),a=n.length+1,l=new Ae(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new yt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=zo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=zo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return te.resolve(u)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new LV(n,r));let a=this.Lr.get(n);a===void 0&&(a=Ge(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.kr=new Ft($t.Kr),this.qr=new Ft($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ae(new nt([])),r=new $t(n,e),s=new $t(n,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new nt([])),r=new $t(n,e),s=new $t(n,e+1);let a=Ge();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new $t(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft($t.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new OV(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Jr=this.Jr.add(new $t(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Zy:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),s=new $t(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);a.push(u)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(qe);return n.forEach((s=>{const a=new $t(s,0),l=new $t(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(u=>{r=r.add(u.Hr)}))})),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Ae(a),0);let u=new Ft(qe);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Hr)),!0)}),l),te.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(n.mutations,(s=>{const a=new $t(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new $t(n,0),s=this.Jr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.ti=e,this.docs=(function(){return new yt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ht.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Bs();const l=n.path,u=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||QD(KD(g),r)<=0||(s.has(g.key)||Ff(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ni(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bM(this)}getSize(e){return te.resolve(this.size)}}class bM extends mM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.persistence=e,this.ri=new aa((n=>nv(n)),rv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new cv,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this._i={},this.overlays={},this.ai=new jf(0),this.ui=!1,this.ui=!0,this.ci=new xM,this.referenceDelegate=e(this),this.li=new TM(this),this.indexManager=new lM,this.remoteDocumentCache=(function(s){return new EM(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new oM(n),this.Pi=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _M(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new SM(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,n){return te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class SM extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.Ri=new cv,this.Ai=null}static Vi(e){return new uv(e)}get di(){if(this.Ai)return this.Ai;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(r=>{const s=Ae.fromPath(r);return this.mi(e,s).next((a=>{a||n.removeEntry(s,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class df{constructor(e,n){this.persistence=e,this.fi=new aa((r=>eV(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=pM(this,n)}static Vi(e,n){return new df(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Ge(),s=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new dv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tk()?8:JD(fn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new IM;return this.ys(e,n,l).next((u=>{if(a.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>a.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Ja()<=We.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Ja()<=We.DEBUG&&pe("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ja()<=We.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):te.resolve())}gs(e,n){if(H_(n))return te.resolve(null);let r=es(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=af(n,null,"F"),r=es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ge(...a);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,u);return this.Ss(n,p,l,h.readTime)?this.gs(e,af(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,r,s){return H_(n)||s.isEqual(Ne.min())?te.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,s)?te.resolve(null):(Ja()<=We.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Za(n)),this.Ds(e,l,n,GD(s,fu)).next((u=>u)))}))}bs(e,n){let r=new Ft(GS(e));return n.forEach(((s,a)=>{Ff(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,n,r){return Ja()<=We.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Za(n)),this.fs.getDocumentsMatchingQuery(e,n,Ui.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LocalStore",CM=3e8;class RM{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new yt(qe),this.Fs=new aa((a=>nv(a)),rv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PM(t,e,n,r){return new RM(t,e,n,r)}async function x1(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=Ge();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function kM(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const v=p.batch,w=v.keys();let b=te.resolve();return w.forEach((R=>{b=b.next((()=>g.getEntry(h,R))).next((I=>{const C=p.docVersions.get(R);Ye(C!==null,48541),I.version.compareTo(C)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),g.addEntry(I)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Ge();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function _1(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function NM(t,e){const n=Le(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const u=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;u.push(n.li.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,v))));let b=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(en.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(v,b),(function(I,C,D){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=CM?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,b,g)&&u.push(n.li.updateTargetData(a,b))}));let h=Bs(),p=Ge();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(DM(a,l,e.documentUpdates).next((g=>{h=g.Bs,p=g.Ls}))),!r.isEqual(Ne.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((v=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.vs=s,a)))}function DM(t,e,n){let r=Ge(),s=Ge();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Bs();return n.forEach(((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(hv,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{Bs:l,Ls:s}}))}function VM(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MM(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new ki(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Hg(t,e,n){const r=Le(t),s=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!kl(l))throw l;pe(hv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function rE(t,e,n){const r=Le(t);let s=Ne.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const v=Le(h),w=v.Fs.get(g);return w!==void 0?te.resolve(v.vs.get(w)):v.li.getTargetData(p,g)})(r,l,es(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Ne.min(),n?a:Ge()))).next((u=>(jM(r,EV(e),u),{documents:u,ks:a})))))}function jM(t,e,n){let r=t.Ms.get(e)||Ne.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class sE{constructor(){this.activeTargetIds=CV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OM{constructor(){this.vo=new sE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class oE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Wg(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=Wg(),u=this.Qo(e,n.toUriEncodedString());pe(Gm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,s,a);const{host:p}=new URL(u),g=Yi(p);return this.zo(e,u,h,r,g).then((v=>(pe(Gm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw xl(Gm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,n){const r=FM[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection",Mc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ul extends UM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=bS();Mc(e,ES.STAT_EVENT,(n=>{n.stat===Vg.PROXY?pe(un,"STAT_EVENT: detected buffering proxy"):n.stat===Vg.NOPROXY&&pe(un,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,r,s,a){const l=Wg();return new Promise(((u,h)=>{const p=new xS;p.setWithCredentials(!0),p.listenOnce(_S.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vh.NO_ERROR:const v=p.getResponseJson();pe(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Vh.TIMEOUT:pe(un,`RPC '${e}' ${l} timed out`),h(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const w=p.getStatus();if(pe(un,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const I=(function(D){const L=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(L)>=0?L:Z.UNKNOWN})(R.status);h(new de(I,R.message))}else h(new de(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(un,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);pe(un,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Wg(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");pe(un,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=l.createWebChannel(p,u);this.I_(g);let v=!1,w=!1;const b=new BM({Ho:R=>{w?pe(un,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(v||(pe(un,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),pe(un,`RPC '${e}' stream ${s} sending:`,R),g.send(R))},Jo:()=>g.close()});return Mc(g,zc.EventType.OPEN,(()=>{w||(pe(un,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),Mc(g,zc.EventType.CLOSE,(()=>{w||(w=!0,pe(un,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),Mc(g,zc.EventType.ERROR,(R=>{w||(w=!0,xl(un,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),b.o_(new de(Z.UNAVAILABLE,"The operation could not be completed")))})),Mc(g,zc.EventType.MESSAGE,(R=>{var I;if(!w){const C=R.data[0];Ye(!!C,16349);const D=C,L=(D==null?void 0:D.error)||((I=D[0])==null?void 0:I.error);if(L){pe(un,`RPC '${e}' stream ${s} received error:`,L);const O=L.status;let B=(function(N){const T=Pt[N];if(T!==void 0)return o1(T)})(O),q=L.message;B===void 0&&(B=Z.INTERNAL,q="Unknown error status: "+O+" with message "+L.message),w=!0,b.o_(new de(B,q)),g.close()}else pe(un,`RPC '${e}' stream ${s} received:`,C),b.__(C)}})),ul.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){return new ul(t)}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){return new qV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul.c_=!1;class fv{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class E1{constructor(e,n,r,s,a,l,u,h){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $M extends E1{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?zn(l.readTime):Ne.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=Fg(h)?{documents:JV(a,h)}:{query:ZV(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=c1(a,l.resumeToken);const p=Bg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){u.readTime=cf(a,l.snapshotVersion.toTimestamp());const p=Bg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=tM(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.K_(n)}}class HM extends E1{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XV(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$g(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>f1(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{}class qM extends WM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,zg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(Z.UNKNOWN,a.toString())}))}jo(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,zg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function GM(t,e,n,r){return new qM(t,e,n,r)}class KM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class QM{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{la(this)&&(pe(ea,"Restarting streams for network reachability change."),await(async function(h){const p=Le(h);p.Ea.add(4),await Uu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Va=new KM(r,s)}}async function Wf(t){if(la(t))for(const e of t.Ra)await e(!0)}async function Uu(t){for(const e of t.Ra)await e(!1)}function b1(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yv(n)?gv(n):Dl(n).O_()&&mv(n,e))}function pv(t,e){const n=Le(t),r=Dl(n);n.Ia.delete(e),r.O_()&&T1(n,e),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Va.set("Unknown"))}function mv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).Z_(e)}function T1(t,e){t.da.$e(e),Dl(t).X_(e)}function gv(t){t.da=new zV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.Va.ua()}function yv(t){return la(t)&&!Dl(t).x_()&&t.Ia.size>0}function la(t){return Le(t).Ea.size===0}function S1(t){t.da=void 0}async function YM(t){t.Va.set("Online")}async function XM(t){t.Ia.forEach(((e,n)=>{mv(t,e)}))}async function JM(t,e){S1(t),yv(t)?(t.Va.ha(e),gv(t)):t.Va.set("Unknown")}async function ZM(t,e,n){if(t.Va.set("Online"),e instanceof l1&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.da.removeTarget(u))})(t,e)}catch(r){pe(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hf(t,r)}else if(e instanceof Lh?t.da.Xe(e):e instanceof a1?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const r=await _1(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.da.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),T1(a,h);const v=new ki(g.target,h,p,g.sequenceNumber);mv(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){pe(ea,"Failed to raise snapshot:",r),await hf(t,r)}}async function hf(t,e,n){if(!kl(e))throw e;t.Ea.add(1),await Uu(t),t.Va.set("Offline"),n||(n=()=>_1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(ea,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wf(t)}))}function I1(t,e){return e().catch((n=>hf(t,n,e)))}async function qf(t){const e=Le(t),n=Hi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zy;for(;ej(e);)try{const s=await VM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,tj(e,s)}catch(s){await hf(e,s)}A1(e)&&C1(e)}function ej(t){return la(t)&&t.Ta.length<10}function tj(t,e){t.Ta.push(e);const n=Hi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function A1(t){return la(t)&&!Hi(t).x_()&&t.Ta.length>0}function C1(t){Hi(t).start()}async function nj(t){Hi(t).ra()}async function rj(t){const e=Hi(t);for(const n of t.Ta)e.ea(n.mutations)}async function sj(t,e,n){const r=t.Ta.shift(),s=ov.from(r,e,n);await I1(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qf(t)}async function ij(t,e){e&&Hi(t).Y_&&await(async function(r,s){if((function(l){return i1(l)&&l!==Z.ABORTED})(s.code)){const a=r.Ta.shift();Hi(r).B_(),await I1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await qf(r)}})(t,e),A1(t)&&C1(t)}async function lE(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),pe(ea,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await Uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wf(n)}async function oj(t,e){const n=Le(t);e?(n.Ea.delete(2),await Wf(n)):e||(n.Ea.add(2),await Uu(n),n.Va.set("Unknown"))}function Dl(t){return t.ma||(t.ma=(function(n,r,s){const a=Le(n);return a.sa(),new $M(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:YM.bind(null,t),Yo:XM.bind(null,t),t_:JM.bind(null,t),J_:ZM.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),yv(t)?gv(t):t.Va.set("Unknown")):(await t.ma.stop(),S1(t))}))),t.ma}function Hi(t){return t.fa||(t.fa=(function(n,r,s){const a=Le(n);return a.sa(),new HM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nj.bind(null,t),t_:ij.bind(null,t),ta:rj.bind(null,t),na:sj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await qf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(ea,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new vv(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Us("AsyncQueue",`${e}: ${t}`),kl(t))return new de(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.ga=new yt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sl{constructor(e,n,r,s,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Sl(e,n,dl.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lj{constructor(){this.queries=uE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Le(n),a=s.queries;s.queries=uE(),a.forEach(((l,u)=>{for(const h of u.ba)h.onError(r)}))})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function uE(){return new aa((t=>qS(t)),Lf)}async function R1(t,e){const n=Le(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new aj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=wv(l,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&xv(n)}async function P1(t,e){const n=Le(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cj(t,e){const n=Le(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.ba)u.Fa(s)&&(r=!0);l.wa=s}}r&&xv(n)}function uj(t,e,n){const r=Le(t),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(n);r.queries.delete(e)}function xv(t){t.Ca.forEach((e=>{e.next()}))}var qg,dE;(dE=qg||(qg={})).Ma="default",dE.Cache="cache";class k1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class dj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=GS(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cE,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),b=Ff(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),I=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;w&&b?w.data.isEqual(b.data)?R!==I&&(r.track({type:3,doc:b}),C=!0):this.su(w,b)||(r.track({type:2,doc:b}),C=!0,(h&&this.eu(b,h)>0||p&&this.eu(b,p)<0)&&(u=!0)):!w&&b?(r.track({type:0,doc:b}),C=!0):w&&!b&&(r.track({type:1,doc:w}),C=!0,(h||p)&&(u=!0)),C&&(b?(l=l.add(b),a=I?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Ss:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(b,R){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:C})}};return I(b)-I(R)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Xa;return this.Xa=h,l.length!==0||p?{snapshot:new Sl(this.query,e.tu,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new D1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new N1(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _v="SyncEngine";class hj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fj{constructor(e){this.key=e,this.hu=!1}}class pj{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new aa((u=>qS(u)),Lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(Ae.comparator),this.Au=new Map,this.Vu=new cv,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mj(t,e,n=!0){const r=F1(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await V1(r,e,n,!0),s}async function gj(t,e){const n=F1(t);await V1(n,e,!0,!1)}async function V1(t,e,n,r){const s=await MM(t.localStore,es(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await yj(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&b1(t.remoteStore,s),u}async function yj(t,e,n,r,s){t.pu=(v,w,b)=>(async function(I,C,D,L){let O=C.view.ru(D);O.Ss&&(O=await rE(I.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,O))));const B=L&&L.targetChanges.get(C.targetId),q=L&&L.targetMismatches.get(C.targetId)!=null,X=C.view.applyChanges(O,I.isPrimaryClient,B,q);return fE(I,C.targetId,X.au),X.snapshot})(t,v,w,b);const a=await rE(t.localStore,e,!0),l=new dj(e,a.ks),u=l.ru(a.documents),h=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,h);fE(t,n,p.au);const g=new hj(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function vj(t,e,n){const r=Le(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Lf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&pv(r.remoteStore,s.targetId),Gg(r,s.targetId)})).catch(Pl)):(Gg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function wj(t,e){const n=Le(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))}async function xj(t,e,n){const r=Aj(t);try{const s=await(function(l,u){const h=Le(l),p=ct.now(),g=u.reduce(((b,R)=>b.add(R.key)),Ge());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let R=Bs(),I=Ge();return h.xs.getEntries(b,g).next((C=>{R=C,R.forEach(((D,L)=>{L.isValidDocument()||(I=I.add(D))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,R))).next((C=>{v=C;const D=[];for(const L of u){const O=jV(L,v.get(L.key).overlayedDocument);O!=null&&D.push(new eo(L.key,O,LS(O.value.mapValue),Zt.exists(!0)))}return h.mutationQueue.addMutationBatch(b,p,D,u)})).next((C=>{w=C;const D=C.applyToLocalDocumentSet(v,I);return h.documentOverlayCache.saveOverlays(b,C.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:QS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.du[l.currentUser.toKey()];p||(p=new yt(qe)),p=p.insert(u,h),l.du[l.currentUser.toKey()]=p})(r,s.batchId,n),await Bu(r,s.changes),await qf(r.remoteStore)}catch(s){const a=wv(s,"Failed to persist write");n.reject(a)}}async function M1(t,e){const n=Le(t);try{const r=await NM(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ye(l.hu,14607):s.removedDocuments.size>0&&(Ye(l.hu,42227),l.hu=!1))})),await Bu(n,r,e)}catch(r){await Pl(r)}}function hE(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Le(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,v)=>{for(const w of v.ba)w.va(u)&&(p=!0)})),p&&xv(h)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _j(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new yt(Ae.comparator);l=l.insert(a,Ht.newNoDocument(a,Ne.min()));const u=Ge().add(a),h=new $f(Ne.min(),new Map,new yt(qe),l,u);await M1(r,h),r.Ru=r.Ru.remove(a),r.Au.delete(e),Ev(r)}else await Hg(r.localStore,e,!1).then((()=>Gg(r,e,n))).catch(Pl)}async function Ej(t,e){const n=Le(t),r=e.batch.batchId;try{const s=await kM(n.localStore,e);O1(n,r,null),j1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,s)}catch(s){await Pl(s)}}async function bj(t,e,n){const r=Le(t);try{const s=await(function(l,u){const h=Le(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((v=>(Ye(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);O1(r,e,n),j1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,s)}catch(s){await Pl(s)}}function j1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function O1(t,e,n){const r=Le(t);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||L1(t,r)}))}function L1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(pv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ev(t))}function fE(t,e,n){for(const r of n)r instanceof N1?(t.Vu.addReference(r.key,e),Tj(t,r)):r instanceof D1?(pe(_v,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||L1(t,r.key)):Ce(19791,{wu:r})}function Tj(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(pe(_v,"New document in limbo: "+n),t.Eu.add(r),Ev(t))}function Ev(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(nt.fromString(e)),r=t.fu.next();t.Au.set(r,new fj(n)),t.Ru=t.Ru.insert(n,r),b1(t.remoteStore,new ki(es(sv(n.path)),r,"TargetPurposeLimboResolution",jf.ce))}}async function Bu(t,e,n){const r=Le(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){s.push(p);const v=dv.Es(h.targetId,p);a.push(v)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(h,p){const g=Le(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(w=>te.forEach(w.Ts,(b=>g.persistence.referenceDelegate.addReference(v,w.targetId,b))).next((()=>te.forEach(w.Is,(b=>g.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))))))}catch(v){if(!kl(v))throw v;pe(hv,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const b=g.vs.get(w),R=b.snapshotVersion,I=b.withLastLimboFreeSnapshotVersion(R);g.vs=g.vs.insert(w,I)}}})(r.localStore,a))}async function Sj(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){pe(_v,"User change. New user:",e.toKey());const r=await x1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new de(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.Ns)}}function Ij(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let s=Ge();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function F1(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.Pu.J_=cj.bind(null,e.eventManager),e.Pu.yu=uj.bind(null,e.eventManager),e}function Aj(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bj.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PM(this.persistence,new AM,e.initialUser,this.serializer)}Cu(e){return new w1(uv.Vi,this.serializer)}Du(e){return new OM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class Cj extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new w1((r=>df.Vi(r,n)),this.serializer)}}class Kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,this.syncEngine),await oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lj})()}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=zM(e.databaseInfo);return GM(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new QM(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>hE(this.syncEngine,n,0)),(function(){return oE.v()?new oE:new LM})())}createSyncEngine(e,n){return(function(s,a,l,u,h,p,g){const v=new pj(s,a,l,u,h,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Le(s);pe(ea,"RemoteStore shutting down."),a.Ea.add(5),await Uu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rj=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,a){const l=Le(s),u={documents:a.map((v=>uf(l.serializer,v)))},h=await l.jo("BatchGetDocuments",l.serializer.databaseId,nt.emptyPath(),u,a.length),p=new Map;h.forEach((v=>{const w=QV(l.serializer,v);p.set(w.key.toString(),w)}));const g=[];return a.forEach((v=>{const w=p.get(v.toString());Ye(!!w,55234,{key:v}),g.push(w)})),g})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=Ae.fromPath(r);this.mutations.push(new s1(s,this.precondition(s)))})),await(async function(r,s){const a=Le(r),l={writes:s.map((u=>f1(a.serializer,u)))};await a.Wo("Commit",a.serializer.databaseId,nt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ce(50498,{Gu:e.constructor.name});n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new de(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,s,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=a,this.zu=r.maxAttempts,this.M_=new fv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Rj(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Zu(s)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!i1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class kj{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{pe(Wi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(Wi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qm(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Wi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await x1(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nj(t);pe(Wi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>lE(e.remoteStore,s))),t._onlineComponents=e}async function Nj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Wi,"Using user provided OfflineComponentProvider");try{await Qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Qm(t,new ff)}}else pe(Wi,"Using default OfflineComponentProvider"),await Qm(t,new Cj(void 0));return t._offlineComponents}async function bv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Wi,"Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(pe(Wi,"Using default OnlineComponentProvider"),await pE(t,new Kg))),t._onlineComponents}function Dj(t){return bv(t).then((e=>e.syncEngine))}function Vj(t){return bv(t).then((e=>e.datastore))}async function B1(t){const e=await bv(t),n=e.eventManager;return n.onListen=mj.bind(null,e.syncEngine),n.onUnlisten=vj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wj.bind(null,e.syncEngine),n}function Mj(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const g=new U1({next:w=>{g.Nu(),l.enqueueAndForget((()=>P1(a,v)));const b=w.docs.has(u);!b&&w.fromCache?p.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&h&&h.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new k1(sv(u.path),g,{includeMetadataChanges:!0,Ka:!0});return R1(a,v)})(await B1(t),t.asyncQueue,e,n,r))),r.promise}function jj(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const g=new U1({next:w=>{g.Nu(),l.enqueueAndForget((()=>P1(a,v))),w.fromCache&&h.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new k1(u,g,{includeMetadataChanges:!0,Ka:!0});return R1(a,v)})(await B1(t),t.asyncQueue,e,n,r))),r.promise}function Oj(t,e){const n=new Zr;return t.asyncQueue.enqueueAndForget((async()=>xj(await Dj(t),e,n))),n.promise}function Lj(t,e,n){const r=new Zr;return t.asyncQueue.enqueueAndForget((async()=>{const s=await Vj(t);new Pj(t.asyncQueue,s,n,e,r).ju()})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="ComponentProvider",mE=new Map;function Uj(t,e,n,r,s){return new rV(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,z1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firestore.googleapis.com",gE=!0;class yE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$1,this.ssl=gE}else this.host=e.host,this.ssl=e.ssl??gE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uM)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MD;switch(r.type){case"firstParty":return new FD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mE.get(n);r&&(pe(Fj,"Removing Datastore"),mE.delete(n),r.terminate())})(this),Promise.resolve()}}function Bj(t,e,n,r={}){var p;t=or(t,Gf);const s=Yi(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(jy(`https://${u}`),Oy("Firestore",!0)),a.host!==$1&&a.host!==u&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:r};if(!Qo(h,l)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=dn.MOCK_USER;else{g=VT(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(w)}t._authCredentials=new jD(new IS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ju(n,Et._jsonSchema))return new Et(e,r||null,new Ae(nt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Vt("string",Et._jsonSchemaVersion),referencePath:Vt("string")};class ji extends to{constructor(e,n,r){super(e,n,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ae(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Bn(t,e,...n){if(t=ht(t),AS("collection","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return P_(r),new ji(t,null,r)}{if(!(t instanceof Et||t instanceof ji))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return P_(r),new ji(t.firestore,null,r)}}function mt(t,e,...n){if(t=ht(t),arguments.length===1&&(e=Jy.newId()),AS("doc","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return R_(r),new Et(t,null,new Ae(r))}{if(!(t instanceof Et||t instanceof ji))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return R_(r),new Et(t.firestore,t instanceof ji?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class wE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fv(this,"async_queue_retry"),this._c=()=>{const r=Km();r&&pe(vE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;pe(vE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",xE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=vv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class no extends Gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new wE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,await e}}}function zj(t,e){const n=typeof t=="object"?t:Uy(),r=typeof t=="string"?t:rf,s=kf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=kT("firestore");a&&Bj(s,...a)}return s}function Kf(t){if(t._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$j(t),t._firestoreClient}function $j(t){var r,s,a,l;const e=t._freezeSettings(),n=Uj(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(en.fromBase64String(e))}catch(n){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Vt("string",Fn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(ju(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Vt("string",ts._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new br(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Vt("string",br._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=/^__.*__$/;class Wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class H1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{dataSource:t})}}class Tv{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(W1(this.dataSource)&&Hj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}createContext(e,n,r,s=!1){return new Tv({dataSource:e,methodName:n,targetDoc:r,path:Jt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new qj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sv(t,e,n,r,s,a={}){const l=t.createContext(a.merge||a.mergeFields?2:0,e,n,s);Av("Data must be an object, but it was:",l,r);const u=K1(r,l);let h,p;if(a.merge)h=new Un(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const w=ta(e,v,n);if(!l.contains(w))throw new de(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);X1(g,w)||g.push(w)}h=new Un(g),p=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=l.fieldTransforms;return new Wj(new yn(u),h,p)}class Xf extends Yf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xf}}class Iv extends Yf{_toFieldTransform(e){return new NV(e.path,new vu)}isEqual(e){return e instanceof Iv}}function q1(t,e,n,r){const s=t.createContext(1,e,n);Av("Data must be an object, but it was:",s,r);const a=[],l=yn.empty();Zi(r,((h,p)=>{const g=Y1(e,h,n);p=ht(p);const v=s.childContextForFieldPath(g);if(p instanceof Xf)a.push(g);else{const w=$u(p,v);w!=null&&(a.push(g),l.set(g,w))}}));const u=new Un(a);return new H1(l,u,s.fieldTransforms)}function G1(t,e,n,r,s,a){const l=t.createContext(1,e,n),u=[ta(e,r,n)],h=[s];if(a.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)u.push(ta(e,a[w])),h.push(a[w+1]);const p=[],g=yn.empty();for(let w=u.length-1;w>=0;--w)if(!X1(p,u[w])){const b=u[w];let R=h[w];R=ht(R);const I=l.childContextForFieldPath(b);if(R instanceof Xf)p.push(b);else{const C=$u(R,I);C!=null&&(p.push(b),g.set(b,C))}}const v=new Un(p);return new H1(g,v,l.fieldTransforms)}function Gj(t,e,n,r=!1){return $u(n,t.createContext(r?4:3,e))}function $u(t,e){if(Q1(t=ht(t)))return Av("Unsupported field value:",e,t),K1(t,e);if(t instanceof Yf)return(function(r,s){if(!W1(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let h=$u(u,s.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ct.fromDate(r);return{timestampValue:cf(s.serializer,a)}}if(r instanceof ct){const a=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(s.serializer,a)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:c1(s.serializer,r._byteString)};if(r instanceof Et){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof br)return(function(l,u){const h=l instanceof br?l.toArray():l;return{mapValue:{fields:{[jS]:{stringValue:OS},[sf]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return iv(u.serializer,g)}))}}}}}})(r,s);if(y1(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Mf(r)}`)})(t,e)}function K1(t,e){const n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,((r,s)=>{const a=$u(s,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof ts||t instanceof Fn||t instanceof Et||t instanceof Yf||t instanceof br||y1(t))}function Av(t,e,n){if(!Q1(n)||!CS(n)){const r=Mf(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ta(t,e,n){if((e=ht(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return Y1(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kj=new RegExp("[~\\*/\\[\\]]");function Y1(t,e,n){if(e.search(Kj)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new de(Z.INVALID_ARGUMENT,u+t+h)}function X1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zi(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[sf].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>It(l.doubleValue)));return new br(n)}convertGeoPoint(e){return new ts(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Of(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ye(g1(r),9688,{name:e});const s=new mu(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return s.isEqual(n)||Us(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Fo(){return new Iv("serverTimestamp")}const _E="@firebase/firestore",EE="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ta("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qj extends mf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class Pv extends Rv{}function Vs(t,e,...n){let r=[];e instanceof Rv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof kv)).length,u=a.filter((h=>h instanceof Jf)).length;if(l>1||l>0&&u>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Jf extends Pv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=this._parse(e);return Z1(e._query,n),new to(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=zu(e.firestore);return(function(a,l,u,h,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){TE(v,g);const R=[];for(const I of v)R.push(bE(h,a,I));w={arrayValue:{values:R}}}else w=bE(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||TE(v,g),w=Gj(u,l,v,g==="in"||g==="not-in");return Dt.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oi(t,e,n){const r=e,s=ta("where",t);return Jf._create(s,r,n)}class kv extends Rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)Z1(l,h),l=Ug(l,h)})(e._query,n),new to(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nv extends Pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nv(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,l)})(e._query,this._field,this._direction);return new to(e.firestore,e.converter,_V(e._query,n))}}function qo(t,e="asc"){const n=e,r=ta("orderBy",t);return Nv._create(r,n)}class Dv extends Pv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){return new to(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function Xj(t){return qD("limit",t),Dv._create("limit",t,"F")}function bE(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&n.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!Ae.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L_(t,new Ae(r))}if(n instanceof Et)return L_(t,n._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(n)}.`)}function TE(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z1(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Vv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jj extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Li extends mf{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ta("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Li._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Li._jsonSchemaVersion="firestore/documentSnapshot/1.0",Li._jsonSchema={type:Vt("string",Li._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Fh extends Li{data(e={}){return super.data(e)}}class hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Fh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new nl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new Fh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new nl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:Zj(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Vt("string",hl._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};const eO={maxAttempts:5};function Wc(t,e){if((t=ht(t)).firestore!==e)throw new de(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zu(e)}get(e){const n=Wc(e,this._firestore),r=new Jj(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return Ce(24041);const a=s[0];if(a.isFoundDocument())return new mf(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new mf(this._firestore,r,n._key,null,n.converter);throw Ce(18433,{doc:a})}))}set(e,n,r){const s=Wc(e,this._firestore),a=Vv(s.converter,n,r),l=Sv(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const a=Wc(e,this._firestore);let l;return l=typeof(n=ht(n))=="string"||n instanceof Qf?G1(this._dataReader,"Transaction.update",a._key,n,r,s):q1(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=Wc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends tO{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wc(e,this._firestore),r=new Cv(this._firestore);return super.get(e).then((s=>new Li(this._firestore,r,n._key,s._document,new nl(!1,!1),n.converter)))}}function SE(t,e,n){t=or(t,no);const r={...eO,...n};(function(l){if(l.maxAttempts<1)throw new de(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const s=Kf(t);return Lj(s,(a=>e(new nO(t,a))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){t=or(t,Et);const e=or(t.firestore,no),n=Kf(e);return Mj(n,t._key).then((r=>rO(e,t,r)))}function _r(t){t=or(t,to);const e=or(t.firestore,no),n=Kf(e),r=new Cv(e);return Yj(t._query),jj(n,t._query).then((s=>new hl(e,r,t,s)))}function jc(t,e,n){t=or(t,Et);const r=or(t.firestore,no),s=Vv(t.converter,e,n),a=zu(r);return Zf(r,[Sv(a,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zt.none())])}function gf(t,e,n,...r){t=or(t,Et);const s=or(t.firestore,no),a=zu(s);let l;return l=typeof(e=ht(e))=="string"||e instanceof Qf?G1(a,"updateDoc",t._key,e,n,r):q1(a,"updateDoc",t._key,e),Zf(s,[l.toMutation(t._key,Zt.exists(!0))])}function nu(t){return Zf(or(t.firestore,no),[new zf(t._key,Zt.none())])}function eI(t,e){const n=or(t.firestore,no),r=mt(t),s=Vv(t.converter,e),a=zu(t.firestore);return Zf(n,[Sv(a,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then((()=>r))}function Zf(t,e){const n=Kf(t);return Oj(n,e)}function rO(t,e,n){const r=n.docs.get(e._key),s=new Cv(t);return new Li(t,s,e._key,r,new nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){VD(oa),Yo(new Fi("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new no(new OD(r.getProvider("auth-internal")),new UD(l,r.getProvider("app-check-internal")),sV(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Xr(_E,EE,e),Xr(_E,EE,"esm2020")})();var sO="firebase",iO="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(sO,iO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebasestorage.googleapis.com",nI="storageBucket",oO=120*1e3,aO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends as{constructor(e,n,r=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function Ym(t){return"storage/"+t}function lO(){const t="An unknown error occurred, please check the error payload for server response.";return new rn(tn.UNKNOWN,t)}function cO(t){return new rn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uO(t){return new rn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rn(tn.UNAUTHENTICATED,t)}function hO(){return new rn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fO(t){return new rn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pO(){return new rn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mO(){return new rn(tn.CANCELED,"User canceled the upload/download.")}function gO(t){return new rn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function yO(t){return new rn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vO(){return new rn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nI+"' property when initializing the app?")}function Qg(t){return new rn(tn.INVALID_ARGUMENT,t)}function rI(){return new rn(tn.APP_DELETED,"The Firebase app was deleted.")}function wO(t){return new rn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(t){throw new rn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nr.makeFromUrl(e,n)}catch{return new nr(e,"")}if(r.path==="")return r;throw yO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},I=n===tI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",D=new RegExp(`^https?://${I}/${s}/${C}`,"i"),O=[{regex:u,indices:h,postModify:a},{regex:b,indices:R,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<O.length;B++){const q=O[B],X=q.regex.exec(e);if(X){const N=X[q.indices.bucket];let T=X[q.indices.path];T||(T=""),r=new nr(N,T),q.postModify(r);break}}if(r==null)throw gO(e);return r}}class xO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let p=!1;function g(...C){p||(p=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,t(b,h())},C)}function w(){a&&clearTimeout(a)}function b(C,...D){if(p){w();return}if(C){w(),g.call(null,C,...D);return}if(h()||l){w(),g.call(null,C,...D);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,v(O)}let R=!1;function I(C){R||(R=!0,w(),!p&&(s!==null?(C||(u=2),clearTimeout(s),v(0)):C||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,I(!0)},n),I}function EO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){return t!==void 0}function IE(t,e,n,r){if(r<e)throw Qg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,s,a,l,u,h,p,g,v,w=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,I)=>{this.resolve_=R,this.reject_=I,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Go.NO_ERROR,h=a.getStatus();if(!u||IO(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Go.ABORT;r(!1,new vh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new vh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());bO(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=lO();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?rI():mO();l(h)}else{const h=pO();l(h)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=_O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NO(t,e,n,r,s,a,l=!0,u=!1){const h=SO(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return PO(g,e),CO(g,n),RO(g,a),kO(g,r),new AO(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function MO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class jO{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function OO(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=hO():s=dO():n.getStatus()===402?s=uO(t.bucket):n.getStatus()===403?s=fO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function LO(t){const e=OO(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=cO(t.path)),a.serverResponse=s.serverResponse,a}return n}function FO(t,e){const n=e.fullServerUrl(),r=TO(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(h,p){}const u=new jO(r,s,l,a);return u.successCodes=[200,204],u.errorHandler=LO(e),u}class UO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Oc("cannot .send() more than once");if(Yi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BO extends UO{initXhr(){this.xhr_.responseType="text"}}function zO(){return new BO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this._service=e,n instanceof nr?this._location=n:this._location=nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new na(e,n)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MO(this._location.path)}get storage(){return this._service}get parent(){const e=DO(this._location.path);if(e===null)return null;const n=new nr(this._location.bucket,e);return new na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wO(e)}}function $O(t){t._throwIfRoot("deleteObject");const e=FO(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zO)}function HO(t,e){const n=VO(t._location.path,e),r=new nr(t._location.bucket,n);return new na(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){return/^[A-Za-z]+:\/\//.test(t)}function qO(t,e){return new na(t,e)}function sI(t,e){if(t instanceof Mv){const n=t;if(n._bucket==null)throw vO();const r=new na(n,n._bucket);return e!=null?sI(r,e):r}else return e!==void 0?HO(t,e):t}function GO(t,e){if(e&&WO(e)){if(t instanceof Mv)return qO(t,e);throw Qg("To use ref(service, url), the first argument must be a Storage instance.")}else return sI(t,e)}function AE(t,e){const n=e==null?void 0:e[nI];return n==null?null:nr.makeFromBucketSpec(n,t)}function KO(t,e,n,r={}){t.host=`${e}:${n}`;const s=Yi(e);s&&(jy(`https://${t.host}/b`),Oy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:VT(a,t.app.options.projectId))}class Mv{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=tI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oO,this._maxUploadRetryTime=aO,this._requests=new Set,s!=null?this._bucket=nr.makeFromBucketSpec(s,this._host):this._bucket=AE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=AE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new xO(rI());{const l=NO(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const CE="@firebase/storage",RE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="storage";function QO(t){return t=ht(t),$O(t)}function YO(t,e){return t=ht(t),GO(t,e)}function XO(t=Uy(),e){t=ht(t);const r=kf(t,iI).getImmediate({identifier:e}),s=kT("storage");return s&&JO(r,...s),r}function JO(t,e,n,r={}){KO(t,e,n,r)}function ZO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Mv(n,r,s,e,oa)}function eL(){Yo(new Fi(iI,ZO,"PUBLIC").setMultipleInstances(!0)),Xr(CE,RE,""),Xr(CE,RE,"esm2020")}eL();const tL={apiKey:"AIzaSyBZiQorEJLXr5Blr715vq1THS0sejxZsy0",authDomain:"apna-sahe.firebaseapp.com",projectId:"apna-sahe",storageBucket:"apna-sahe.firebasestorage.app",messagingSenderId:"466480302565",appId:"1:466480302565:web:e3c4082453a320957e470c",measurementId:"G-W72QTJENL1"},jv=OT(tL),Cs=ND(jv),He=zj(jv),nL=XO(jv),R0=class R0{static initGoogleProvider(){try{const e=new Kr;return e.setCustomParameters({prompt:"select_account"}),e.addScope("email"),e.addScope("profile"),e}catch(e){throw console.error("Error initializing Google provider:",e),e}}static validateEmail(e){return e?e.toLowerCase().endsWith("@vrsec.ac.in"):!1}static async signUpStudent(e){try{const{email:n,password:r,name:s,branch:a,semester:l}=e;console.log(" Attempting signup with email:",n),console.log(" Email length:",n.length);const u=n.trim().toLowerCase();if(!this.validateEmail(n))throw new Error("Only VRSEC students with @vrsec.ac.in email can register");const p=(await p_(Cs,u,r)).user;await m_(p,{displayName:s});const g={uid:p.uid,name:s,email:u,role:u==="siddiqshaik613@gmail.com"?"admin":"student",branch:u==="siddiqshaik613@gmail.com"?"ALL":a.toUpperCase(),semester:u==="siddiqshaik613@gmail.com"?"N/A":l,points:0,notesUploaded:0,createdAt:Fo()};return console.log(" Creating user document:",g),await jc(mt(He,"users",p.uid),g),console.log(" User document created successfully"),{user:p,userData:g}}catch(n){throw console.error("Error during student signup:",n),n}}static isAuthorizedAdmin(e){return e?e.toLowerCase()==="siddiqshaik613@gmail.com".toLowerCase():!1}static async createAdmin({email:e,password:n,name:r}){try{if(!this.isAuthorizedAdmin(e))throw new Error("Unauthorized: Only specific authorized email can be admin");const a=(await p_(Cs,e,n)).user;await m_(a,{displayName:r});const l={uid:a.uid,name:r,email:e.toLowerCase(),role:"admin",branch:"ALL",semester:"N/A",points:0,notesUploaded:0,createdAt:Fo()};return await jc(mt(He,"users",a.uid),l),{user:a,userData:l}}catch(s){throw console.error("Error during admin creation:",s),s}}static async signIn(e,n){try{console.log(" Attempting login with email:",e),console.log(" Email length:",e.length),console.log(" Email trimmed:",e.trim());const r=e.trim().toLowerCase(),a=(await y2(Cs,r,n)).user,l=await fl(mt(He,"users",a.uid));if(!l.exists())throw new Error("User data not found in database");const u=l.data();if(u.role==="admin"&&!this.isAuthorizedAdmin(u.email))throw new Error("Unauthorized admin access");return{user:a,userData:u}}catch(r){throw console.error("Error during sign in:",r),r}}static async signOutUser(){try{await g_(Cs)}catch(e){throw console.error("Error during sign out:",e),e}}static async signInWithGoogle(){try{console.log(" Starting Google Sign-In...");const e=this.initGoogleProvider(),r=(await B2(Cs,e)).user;if(console.log(" Google Sign-In successful for:",r.email),!r.email)throw new Error("No email found in Google account");const s=r.email||"",a=this.validateEmail(s),l=this.isAuthorizedAdmin(s);if(!a&&!l)throw await g_(Cs),new Error("Only VRSEC students (@vrsec.ac.in) or authorized admin can register");let u;try{u=await this.getCurrentUserData(r.uid),console.log(" Existing user found:",u.email)}catch{if(console.log(" New Google user, need additional info for:",r.email),l)u={uid:r.uid,name:r.displayName||"Admin",email:r.email.toLowerCase(),role:"admin",branch:"ALL",semester:"N/A",points:0,notesUploaded:0,createdAt:Fo()},await jc(mt(He,"users",r.uid),u),console.log(" Admin account created successfully");else{const p=new Error("GOOGLE_SIGNUP_REQUIRED");throw p.tempUser=r,p.userEmail=r.email,p.userName=r.displayName||r.email.split("@")[0],p}}return{user:r,userData:u}}catch(e){throw console.error("Error during Google sign-in:",e),e.code==="auth/api-key-not-valid"?new Error("Firebase configuration error. Please check the project setup."):e.code==="auth/network-request-failed"?new Error("Network connection failed. Please check your internet connection and try again."):e.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):e.code==="auth/popup-blocked"?new Error("Pop-up blocked by browser. Please allow pop-ups for this site and try again."):e.code==="auth/unauthorized-domain"?new Error("This domain is not authorized for Google Sign-In. Please contact support."):e}}static async completeGoogleSignUp(e,n){try{if(!e.email)throw new Error("No email found in user account");if(!this.validateEmail(e.email))throw new Error("Only VRSEC students (@vrsec.ac.in) can register");const s={uid:e.uid,name:n.name,email:e.email.toLowerCase(),role:"student",branch:n.branch,semester:n.semester,points:0,notesUploaded:0,createdAt:Fo()};return await jc(mt(He,"users",e.uid),s),console.log(" Google sign-up completed successfully for:",e.email),{user:e,userData:s}}catch(r){throw console.error("Error completing Google sign-up:",r),r}}static async getCurrentUserData(e){var n;try{if(!e)throw new Error("User ID is required");const r=await fl(mt(He,"users",e));if(!r.exists()){const s=Cs.currentUser;if(s&&s.uid===e&&s.email&&this.isAuthorizedAdmin(s.email)){console.log(" Creating missing admin document for:",s.email);const a={uid:s.uid,name:s.displayName||"Admin",email:((n=s.email)==null?void 0:n.toLowerCase())||"",role:"admin",branch:"ALL",semester:"N/A",points:0,notesUploaded:0,createdAt:Fo()};return await jc(mt(He,"users",s.uid),a),a}throw new Error("User data not found")}return r.data()}catch(r){throw console.error("Error fetching user data:",r),r}}static async updateUserProfile(e,n){try{const r=mt(He,"users",e);await gf(r,n)}catch(r){throw console.error("Error updating user profile:",r),r}}static async addUserPoints(e,n=10){try{const r=mt(He,"users",e),s=await fl(r);if(s.exists()){const a=s.data();await gf(r,{points:(a.points||0)+n,notesUploaded:(a.notesUploaded||0)+1})}}catch(r){throw console.error("Error adding user points:",r),r}}static onAuthStateChange(e){return _2(Cs,e)}static isAdmin(e){return e&&e.role==="admin"}static isStudent(e){return e&&e.role==="student"}};R0.googleProvider=new Kr;let tr=R0;const oI=P.createContext(void 0),rL=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(null),[a,l]=P.useState(!0),[u,h]=P.useState(null),p=(C,D)=>{const L=D.email==="siddiqshaik613@gmail.com";if(D.role==="admin"&&!L)throw new Error("Unauthorized admin access detected");return(L&&D.role==="admin"?"admin":"student")==="student"?{id:D.uid,name:D.name,email:D.email,role:"student",branch:D.branch,semester:D.semester,rollNumber:D.email.split("@")[0].toUpperCase(),points:D.points,notesUploaded:D.notesUploaded}:{id:D.uid,name:D.name,email:D.email,role:"admin"}};P.useEffect(()=>{const C=tr.onAuthStateChange(async D=>{try{if(D){console.log(" Firebase user signed in:",D.uid);const L=await tr.getCurrentUserData(D.uid);if(console.log(" User data fetched:",L),L.role==="admin"&&L.email!=="siddiqshaik613@gmail.com")throw new Error("Unauthorized admin access detected");const O=p(D,L);n(O),s(L)}else console.log(" User signed out"),n(null),s(null);h(null)}catch(L){console.error("Auth state change error:",L),D&&L.message.includes("User data not found")?(console.log(" User document not found, attempting to recover..."),setTimeout(async()=>{try{const O=await tr.getCurrentUserData(D.uid),B=p(D,O);n(B),s(O),h(null),console.log(" User data recovered successfully")}catch{console.log(" Second retry after 4 more seconds..."),setTimeout(async()=>{try{const B=await tr.getCurrentUserData(D.uid),q=p(D,B);n(q),s(B),h(null),console.log(" User data recovered on second retry")}catch(B){console.error("Final recovery failed:",B),h("Account setup incomplete. Please refresh the page."),n(null),s(null)}},4e3)}},3e3)):(h(L.message),n(null),s(null))}finally{l(!1)}});return()=>C()},[]);const g=async(C,D,L)=>{try{l(!0),h(null);const O=await tr.signIn(C,D);if(L&&O.userData.role!==L)throw await tr.signOutUser(),L==="admin"?new Error("Invalid admin credentials. Only authorized admin can access admin portal."):new Error("Invalid student credentials. Please use student portal for student accounts.")}catch(O){throw h(O.message),O}finally{l(!1)}},v=async C=>{try{l(!0),h(null);const D=await tr.signUpStudent(C)}catch(D){throw h(D.message),D}finally{l(!1)}},w=async()=>{try{l(!0),h(null),await tr.signOutUser(),n(null),s(null)}catch(C){throw h(C.message),C}finally{l(!1)}},b=async()=>{try{l(!0),h(null);const C=await tr.signInWithGoogle()}catch(C){throw h(C.message),C}finally{l(!1)}},R=(e==null?void 0:e.role)==="admin",I=(e==null?void 0:e.role)==="student";return m.jsx(oI.Provider,{value:{user:e,userData:r,isAuthenticated:!!e,loading:a,login:g,signUp:v,signInWithGoogle:b,logout:w,isAdmin:R,isStudent:I,error:u},children:t})},Ar=()=>{const t=P.useContext(oI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};class sL{static async getAllUsers(){try{return(await _r(Bn(He,"users"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Error fetching all users:",e),e}}static async getUsersByRole(e){try{const n=Vs(Bn(He,"users"),Oi("role","==",e));return(await _r(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error fetching users by role:",n),n}}static async getUsersByBranch(e){try{const n=Vs(Bn(He,"users"),Oi("branch","==",e.toUpperCase()));return(await _r(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error fetching users by branch:",n),n}}static async getLeaderboard(e=10){try{const n=Vs(Bn(He,"users"),Oi("role","==","student"),qo("points","desc"),Xj(e));return(await _r(n)).docs.map((s,a)=>({id:s.id,rank:a+1,...s.data()}))}catch(n){throw console.error("Error fetching leaderboard:",n),n}}static async getUserById(e){try{const n=await fl(mt(He,"users",e));if(n.exists())return{id:n.id,...n.data()};throw new Error("User not found")}catch(n){throw console.error("Error fetching user by ID:",n),n}}static async updateUser(e,n){try{const r=mt(He,"users",e);await gf(r,n)}catch(r){throw console.error("Error updating user:",r),r}}static async deleteUser(e){try{await nu(mt(He,"users",e))}catch(n){throw console.error("Error deleting user:",n),n}}}class Xm{static async createEvent(e){try{const n={...e,branch:e.branch.toUpperCase(),createdAt:Fo()};return(await eI(Bn(He,"events"),n)).id}catch(n){throw console.error("Error creating event:",n),n}}static async getAllEvents(){try{const e=Vs(Bn(He,"events"),qo("date","desc"));return(await _r(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching all events:",e),e}}static async getEventsByBranch(e){try{const n=Vs(Bn(He,"events"),Oi("branch","in",[e.toUpperCase(),"ALL"]),qo("date","desc"));return(await _r(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error fetching events by branch:",n),n}}static async getUpcomingEvents(){try{const e=new Date().toISOString().split("T")[0],n=Vs(Bn(He,"events"),Oi("date",">=",e),qo("date","asc"));return(await _r(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error fetching upcoming events:",e),e}}static async getEventById(e){try{const n=await fl(mt(He,"events",e));if(n.exists())return{id:n.id,...n.data()};throw new Error("Event not found")}catch(n){throw console.error("Error fetching event by ID:",n),n}}static async updateEvent(e,n){try{const r=mt(He,"events",e);await gf(r,n)}catch(r){throw console.error("Error updating event:",r),r}}static async deleteEvent(e){try{await nu(mt(He,"events",e))}catch(n){throw console.error("Error deleting event:",n),n}}}class Uo{static fileToBase64(e){return new Promise((n,r)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>n(s.result),s.onerror=a=>r(a)})}static async uploadNote(e){try{const{file:n,title:r,subject:s,branch:a,semester:l,uploaderId:u,uploaderName:h,uploaderRole:p}=e;if(!n.type.includes("pdf"))throw new Error("Only PDF files are allowed");const g=10*1024*1024;if(n.size>g)throw new Error("File size should not exceed 10MB");console.log(" Starting PDF upload...");const v=await this.fileToBase64(n),w=Date.now(),b=`${a}_${l}_${s}_${w}.pdf`;console.log(" Creating note metadata...");const R=await SE(He,async I=>{const C={title:r,subject:s,branch:a.toUpperCase(),semester:l,pdfUrl:v,fileName:b,fileSize:n.size,uploadedByName:h,uploadedByRole:p,uploaderId:u,uploadedAt:Fo()},D=Bn(He,"notes"),L=await eI(D,C);if(p==="student"){const O=mt(He,"users",u),B=await I.get(O);if(B.exists()){const q=B.data();I.update(O,{points:(q.points||0)+10,notesUploaded:(q.notesUploaded||0)+1}),console.log(" User points updated: +10 points")}}return L.id});return console.log(" Note uploaded successfully with ID:",R),R}catch(n){throw console.error(" Error uploading note:",n),n}}static async getAllNotes(){try{const e=Vs(Bn(He,"notes"),qo("uploadedAt","desc"));return(await _r(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching all notes:",e),e}}static async getNotesByBranchAndSemester(e,n){try{const r=Vs(Bn(He,"notes"),Oi("branch","==",e.toUpperCase()),Oi("semester","==",n),qo("uploadedAt","desc"));return(await _r(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(r){throw console.error("Error fetching notes by branch and semester:",r),r}}static async getNotesByUser(e){try{const n=Vs(Bn(He,"notes"),Oi("uploaderId","==",e),qo("uploadedAt","desc"));return(await _r(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error fetching notes by user:",n),n}}static async getNoteById(e){try{const n=await fl(mt(He,"notes",e));if(n.exists())return{id:n.id,...n.data()};throw new Error("Note not found")}catch(n){throw console.error("Error fetching note by ID:",n),n}}static downloadNote(e){try{const n=e.pdfUrl.split(",")[1],r=atob(n),s=new Array(r.length);for(let p=0;p<r.length;p++)s[p]=r.charCodeAt(p);const a=new Uint8Array(s),l=new Blob([a],{type:"application/pdf"}),u=window.URL.createObjectURL(l),h=document.createElement("a");h.href=u,h.download=e.fileName,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(u),console.log(" PDF downloaded:",e.fileName)}catch(n){throw console.error(" Error downloading PDF:",n),n}}static viewNote(e){try{const n=window.open();n&&(n.document.write(`
          <iframe src="${e.pdfUrl}" width="100%" height="100%" style="border:none;">
            <p>Your browser does not support PDFs. <a href="${e.pdfUrl}" download="${e.fileName}">Download the PDF</a>.</p>
          </iframe>
        `),n.document.title=e.title),console.log(" PDF opened for viewing:",e.fileName)}catch(n){throw console.error(" Error viewing PDF:",n),n}}static async deleteNote(e,n){try{if(console.log(" DeleteNote called with:",{noteId:e,userId:n}),!e)throw new Error("Note ID is required for deletion");if(!n)throw new Error("User ID is required for deletion");const r=await this.getNoteById(e);console.log(" Note found:",r.title);const s=Cs.currentUser;if(!s)throw new Error("User must be logged in to delete notes");console.log(" Current user:",s.email);const a=r.uploaderId===n,l=s.email&&s.email.toLowerCase()==="siddiqshaik613@gmail.com";if(console.log(" Authorization check:",{isOwner:a,isAdmin:l,noteUploaderId:r.uploaderId,currentUserId:n,noteTitle:r.title,noteUploadedBy:r.uploadedByName}),!l&&!a){const h=a?"You are not authorized to delete this note":`Access Denied: You can only delete your own notes. This note belongs to ${r.uploadedByName}`;throw console.error(" Unauthorized deletion attempt blocked:",{currentUser:s.email,noteOwner:r.uploadedByName,noteTitle:r.title}),new Error(h)}console.log(" Authorization granted for note deletion");let u="";try{if(r.pdfUrl&&r.pdfUrl.includes("firebase")){const h=r.pdfUrl.split("/o/")[1];h&&(u=decodeURIComponent(h.split("?")[0]),console.log(" Storage path extracted:",u))}}catch(h){console.warn(" Could not extract storage path:",h)}if(await SE(He,async h=>{const p=mt(He,"notes",e);let g,v;if(r.uploadedByRole==="student"&&(g=mt(He,"users",r.uploaderId),v=await h.get(g)),h.delete(p),r.uploadedByRole==="student"&&g&&(v!=null&&v.exists())){const w=v.data();h.update(g,{points:Math.max(0,(w.points||0)-10),notesUploaded:Math.max(0,(w.notesUploaded||0)-1)}),console.log(" User points will be reduced by 10")}}),u)try{const h=YO(nL,u);await QO(h),console.log(" PDF file deleted from storage:",u)}catch(h){console.warn(" Could not delete file from storage:",h.message)}else console.warn(" No storage path found - file may not be deleted from storage");console.log(" Note deleted successfully")}catch(r){throw console.error(" Error deleting note:",r),r}}static async searchNotes(e){try{return(await this.getAllNotes()).filter(r=>r.title.toLowerCase().includes(e.toLowerCase())||r.subject.toLowerCase().includes(e.toLowerCase()))}catch(n){throw console.error("Error searching notes:",n),n}}}const aI=P.createContext(void 0),iL=({children:t})=>{const[e,n]=P.useState([]),[r,s]=P.useState(!0),[a,l]=P.useState([]),[u,h]=P.useState(!0),[p]=P.useState([{id:"1",name:"Central Library",type:"Library",timings:"8:00 AM - 8:00 PM",description:"Vast collection of over 50,000 books, journals, and digital resources.",locationUrl:"https://maps.google.com"},{id:"2",name:"Computer Labs",type:"Lab",timings:"9:00 AM - 5:00 PM",description:"High-performance computing clusters with latest software.",locationUrl:"https://maps.google.com"},{id:"3",name:"Sports Complex",type:"Sports",timings:"6:00 AM - 7:00 PM",description:"Indoor stadium, gym, and outdoor tracks.",locationUrl:"https://maps.google.com"}]),[g,v]=P.useState([]),[w,b]=P.useState([{rank:1,name:"Loading leaderboard...",points:0}]),R=async()=>{try{console.log(" Fetching leaderboard data...");const A=(await sL.getLeaderboard(10)).map((j,U)=>({rank:U+1,name:j.name,points:j.points,email:j.email,branch:j.branch,semester:j.semester}));console.log(" Leaderboard loaded:",A),b(A)}catch(T){console.error(" Error fetching leaderboard:",T),b([{rank:1,name:"Error loading leaderboard. Try refreshing!",points:0}])}};P.useEffect(()=>{R(),D(),L();const T=setInterval(R,3e4);return()=>clearInterval(T)},[]);const I=async()=>{await R()},C=async()=>{await L()},D=async()=>{try{console.log(" Fetching events from Firebase...");const T=await Xm.getAllEvents();console.log(" Events loaded:",T.length),l(T)}catch(T){console.error(" Error fetching events:",T),l([])}finally{h(!1)}},L=async()=>{try{console.log(" Fetching notes from Firebase...");const T=await Uo.getAllNotes();console.log(" Notes loaded:",T.length),console.log(" First note sample:",T[0]),n(T)}catch(T){console.error(" Error fetching notes:",T),n([])}finally{s(!1)}},O=async T=>{try{console.log(" Refreshing notes list..."),await L()}catch(A){console.error(" Error refreshing notes:",A),n([T,...e])}},B=async T=>{try{console.log(" Saving event to Firebase...",T);const A={title:T.title,branch:T.branch||"ALL",type:T.type||"Technical",date:T.date,venue:T.venue||"Main Auditorium",description:T.description||"New event added by admin.",registerLink:T.registerLink||"#",organizerName:"Admin",organizerPhone:"N/A"},j=await Xm.createEvent(A);console.log(" Event saved with ID:",j);const U={...T,id:j};return l([U,...a]),j}catch(A){throw console.error(" Error saving event:",A),A}},q=async T=>{try{console.log(" Deleting event from Firebase...",T),await Xm.deleteEvent(T),console.log(" Event deleted from Firebase"),l(a.filter(A=>A.id!==T))}catch(A){throw console.error(" Error deleting event:",A),A}},X=T=>{v([T,...g])},N=(T,A)=>{v(g.map(j=>j.id===T?{...j,status:A}:j))};return m.jsx(aI.Provider,{value:{notes:e,events:a,facilities:p,queries:g,leaderboard:w,addNote:O,addEvent:B,deleteEvent:q,addQuery:X,updateQueryStatus:N,refreshLeaderboard:I,refreshNotes:C},children:t})},ro=()=>{const t=P.useContext(aI);if(!t)throw new Error("useData must be used within a DataProvider");return t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),PE=t=>{const e=aL(t);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},h)=>P.createElement("svg",{ref:h,...lL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lI("lucide",s),...u},[...l.map(([p,g])=>P.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,e)=>{const n=P.forwardRef(({className:r,...s},a)=>P.createElement(cL,{ref:a,iconNode:e,className:lI(`lucide-${oL(PE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=PE(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_u=Xe("arrow-right",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hL=Xe("award",dL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pi=Xe("book-open",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],mL=Xe("book",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ms=Xe("calendar",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cI=Xe("check",yL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uI=Xe("chevron-down",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xL=Xe("chevron-up",wL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EL=Xe("circle-check-big",_L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],TL=Xe("circle-user",bL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],yf=Xe("clock",SL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dI=Xe("external-link",IL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CL=Xe("funnel",AL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],PL=Xe("house",RL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],NL=Xe("info",kL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VL=Xe("layout-dashboard",DL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jL=Xe("log-out",ML);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],hI=Xe("mail",OL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],FL=Xe("map-pin",LL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Yg=Xe("map",UL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],zL=Xe("menu",BL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ov=Xe("message-square",$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],WL=Xe("navigation",HL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],GL=Xe("plus",qL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QL=Xe("refresh-cw",KL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XL=Xe("send",YL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ZL=Xe("shield-check",JL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],t4=Xe("shield",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],r4=Xe("trash-2",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],i4=Xe("trending-up",s4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Xg=Xe("trophy",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],l4=Xe("upload",a4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jg=Xe("user",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fI=Xe("x",u4),d4=({currentView:t,setCurrentView:e,isSidebarOpen:n=!1,setIsSidebarOpen:r})=>{const{user:s,logout:a}=Ar(),l=(s==null?void 0:s.role)==="admin"&&(s==null?void 0:s.email)==="siddiqshaik613@gmail.com",p=l?[{id:"admin-dashboard",label:"Admin Panel",icon:VL},{id:"events",label:"Events",icon:Ms},{id:"infrastructure",label:"Infrastructure",icon:Yg},{id:"profile",label:"Profile",icon:Jg}]:[{id:"dashboard",label:"Dashboard",icon:PL},{id:"academics",label:"Academics",icon:Pi},{id:"events",label:"Events",icon:Ms},{id:"infrastructure",label:"Infrastructure",icon:Yg},{id:"leaderboard",label:"Leaderboard",icon:Xg},{id:"query",label:"Query Box",icon:Ov},{id:"profile",label:"Profile",icon:Jg}],g=v=>{e(v),r&&window.innerWidth<1024&&r(!1)};return m.jsxs("aside",{className:`
      w-64 bg-slate-900 text-white flex flex-col h-screen fixed left-0 top-0 shadow-xl z-50
      transform transition-transform duration-300 ease-in-out
      ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    `,children:[m.jsxs("div",{className:"p-4 lg:p-6 border-b border-slate-800 flex items-center justify-between",children:[r&&m.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 rounded-lg hover:bg-slate-800 transition-colors","aria-label":"Close menu",children:m.jsx(fI,{size:20,className:"text-slate-400"})}),m.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[m.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-white rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:m.jsx("img",{src:"https://i.postimg.cc/htNM9R26/Screenshot-2026-02-01-222826.png",alt:"VRSEC Logo",className:"w-full h-full object-contain"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h1",{className:"font-bold text-xl lg:text-2xl tracking-wide truncate",children:"Apna SAHE"}),m.jsx("p",{className:"text-xs lg:text-sm text-slate-400 uppercase tracking-wider truncate",children:l?"Admin Portal":"Student Portal"})]})]})]}),m.jsxs("div",{className:"p-4 lg:p-6 flex-1 overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6 lg:mb-8 bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-amber-500 rounded-full flex items-center justify-center text-slate-900 font-bold text-xs lg:text-sm flex-shrink-0",children:s==null?void 0:s.name.charAt(0)}),m.jsxs("div",{className:"overflow-hidden min-w-0 flex-1",children:[m.jsx("p",{className:"font-bold text-xs lg:text-sm truncate",children:s==null?void 0:s.name}),m.jsx("p",{className:"text-xs text-slate-400 truncate",children:s==null?void 0:s.email})]})]}),m.jsx("nav",{className:"space-y-1",children:p.map(v=>{const w=v.icon,b=t===v.id;return m.jsxs("button",{onClick:()=>g(v.id),className:`w-full flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 touch-manipulation ${b?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:text-white hover:bg-slate-800 active:bg-slate-700"}`,children:[m.jsx(w,{size:18,className:"flex-shrink-0"}),m.jsx("span",{className:"truncate",children:v.label})]},v.id)})})]}),m.jsx("div",{className:"mt-auto p-4 lg:p-6 border-t border-slate-800",children:m.jsxs("button",{onClick:()=>{a(),r&&r(!1)},className:"w-full flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg text-sm font-medium text-red-400 hover:bg-red-950/30 hover:text-red-300 transition-colors touch-manipulation active:bg-red-950/50",children:[m.jsx(jL,{size:18,className:"flex-shrink-0"}),m.jsx("span",{className:"truncate",children:"Logout"})]})})]})},h4=({children:t,currentView:e,setCurrentView:n})=>{const{user:r}=Ar(),[s,a]=P.useState(!1);return m.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[s&&m.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:()=>a(!1)}),m.jsx(d4,{currentView:e,setCurrentView:n,isSidebarOpen:s,setIsSidebarOpen:a}),m.jsxs("div",{className:"flex-1 lg:ml-64",children:[m.jsxs("header",{className:"bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30 h-14 lg:h-16 flex items-center px-4 lg:px-8 justify-between",children:[m.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors","aria-label":"Open menu",children:m.jsx(zL,{size:20,className:"text-slate-600"})}),m.jsx("h2",{className:"text-lg lg:text-xl font-bold text-slate-800 capitalize truncate",children:e.replace("-"," ")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-right hidden lg:block",children:[m.jsx("p",{className:"text-sm font-bold text-slate-900",children:r==null?void 0:r.name}),m.jsx("p",{className:"text-xs text-slate-500",children:(r==null?void 0:r.role)==="student"?`${r==null?void 0:r.branch}  ${r==null?void 0:r.semester} sem`:"Administrator"})]}),m.jsx("div",{className:"lg:hidden w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center text-slate-900 font-bold text-sm",children:r==null?void 0:r.name.charAt(0)})]})]}),m.jsx("main",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:t})]})]})},pI=P.createContext({});function f4(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const mI=typeof window<"u",p4=mI?P.useLayoutEffect:P.useEffect,Lv=P.createContext(null);function Fv(t,e){t.indexOf(e)===-1&&t.push(e)}function Uv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const is=(t,e,n)=>n>e?e:n<t?t:n;let Bv=()=>{};const zs={},gI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yI(t){return typeof t=="object"&&t!==null}const vI=t=>/^0[^.\s]+$/u.test(t);function zv(t){let e;return()=>(e===void 0&&(e=t()),e)}const sr=t=>t,m4=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(m4),Eu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class $v{constructor(){this.subscriptions=[]}add(e){return Fv(this.subscriptions,e),()=>Uv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const js=t=>t*1e3,rr=t=>t/1e3;function wI(t,e){return e?t*(1e3/e):0}const xI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,g4=1e-7,y4=12;function v4(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=xI(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>g4&&++u<y4);return l}function Wu(t,e,n,r){if(t===e&&n===r)return sr;const s=a=>v4(a,0,1,t,n);return a=>a===0||a===1?a:xI(s(a),e,r)}const _I=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EI=t=>e=>1-t(1-e),bI=Wu(.33,1.53,.69,.99),Hv=EI(bI),TI=_I(Hv),SI=t=>(t*=2)<1?.5*Hv(t):.5*(2-Math.pow(2,-10*(t-1))),Wv=t=>1-Math.sin(Math.acos(t)),II=EI(Wv),AI=_I(Wv),w4=Wu(.42,0,1,1),x4=Wu(0,0,.58,1),CI=Wu(.42,0,.58,1),_4=t=>Array.isArray(t)&&typeof t[0]!="number",RI=t=>Array.isArray(t)&&typeof t[0]=="number",E4={linear:sr,easeIn:w4,easeInOut:CI,easeOut:x4,circIn:Wv,circInOut:AI,circOut:II,backIn:Hv,backInOut:TI,backOut:bI,anticipate:SI},b4=t=>typeof t=="string",kE=t=>{if(RI(t)){Bv(t.length===4);const[e,n,r,s]=t;return Wu(e,n,r,s)}else if(b4(t))return E4[t];return t},wh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T4(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){l.has(g)&&(p.schedule(g),t()),g(u)}const p={schedule:(g,v=!1,w=!1)=>{const R=w&&s?n:r;return v&&l.add(g),R.has(g)||R.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const S4=40;function PI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=wh.reduce((O,B)=>(O[B]=T4(a),O),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:b,postRender:R}=l,I=()=>{const O=zs.useManualTiming?s.timestamp:performance.now();n=!1,zs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,S4),1)),s.timestamp=O,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),g.process(s),v.process(s),w.process(s),b.process(s),R.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},C=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:wh.reduce((O,B)=>{const q=l[B];return O[B]=(X,N=!1,T=!1)=>(n||C(),q.schedule(X,N,T)),O},{}),cancel:O=>{for(let B=0;B<wh.length;B++)l[wh[B]].cancel(O)},state:s,steps:l}}const{schedule:ut,cancel:qi,state:Yt,steps:Jm}=PI(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0);let Uh;function I4(){Uh=void 0}const vn={now:()=>(Uh===void 0&&vn.set(Yt.isProcessing||zs.useManualTiming?Yt.timestamp:performance.now()),Uh),set:t=>{Uh=t,queueMicrotask(I4)}},kI=t=>e=>typeof e=="string"&&e.startsWith(t),NI=kI("--"),A4=kI("var(--"),qv=t=>A4(t)?C4.test(t.split("/*")[0].trim()):!1,C4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function NE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bu={...Vl,transform:t=>is(0,1,t)},xh={...Vl,default:1},ru=t=>Math.round(t*1e5)/1e5,Gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4(t){return t==null}const P4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(t,e)=>n=>!!(typeof n=="string"&&P4.test(n)&&n.startsWith(t)||e&&!R4(n)&&Object.prototype.hasOwnProperty.call(n,e)),DI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(Gv);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},k4=t=>is(0,255,t),Zm={...Vl,transform:t=>Math.round(k4(t))},$o={test:Kv("rgb","red"),parse:DI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zm.transform(t)+", "+Zm.transform(e)+", "+Zm.transform(n)+", "+ru(bu.transform(r))+")"};function N4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zg={test:Kv("#"),parse:N4,transform:$o.transform},qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Si=qu("deg"),ns=qu("%"),_e=qu("px"),D4=qu("vh"),V4=qu("vw"),DE={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},rl={test:Kv("hsl","hue"),parse:DI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ns.transform(ru(e))+", "+ns.transform(ru(n))+", "+ru(bu.transform(r))+")"},kt={test:t=>$o.test(t)||Zg.test(t)||rl.test(t),parse:t=>$o.test(t)?$o.parse(t):rl.test(t)?rl.parse(t):Zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$o.transform(t):rl.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gv))==null?void 0:e.length)||0)+(((n=t.match(M4))==null?void 0:n.length)||0)>0}const VI="number",MI="color",O4="var",L4="var(",VE="${}",F4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(F4,h=>(kt.test(h)?(r.color.push(a),s.push(MI),n.push(kt.parse(h))):h.startsWith(L4)?(r.var.push(a),s.push(O4),n.push(h)):(r.number.push(a),s.push(VI),n.push(parseFloat(h))),++a,VE)).split(VE);return{values:n,split:u,indexes:r,types:s}}function jI(t){return Tu(t).values}function OI(t){const{split:e,types:n}=Tu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===VI?a+=ru(s[l]):u===MI?a+=kt.transform(s[l]):a+=s[l]}return a}}const U4=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function B4(t){const e=jI(t);return OI(t)(e.map(U4))}const Gi={test:j4,parse:jI,createTransformer:OI,getAnimatableNone:B4};function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function z4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=eg(h,u,t+1/3),a=eg(h,u,t),l=eg(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function vf(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,tg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},$4=[Zg,$o,rl],H4=t=>$4.find(e=>e.test(t));function ME(t){const e=H4(t);if(!e)return!1;let n=e.parse(t);return e===rl&&(n=z4(n)),n}const jE=(t,e)=>{const n=ME(t),r=ME(e);if(!n||!r)return vf(t,e);const s={...n};return a=>(s.red=tg(n.red,r.red,a),s.green=tg(n.green,r.green,a),s.blue=tg(n.blue,r.blue,a),s.alpha=gt(n.alpha,r.alpha,a),$o.transform(s))},ey=new Set(["none","hidden"]);function W4(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function q4(t,e){return n=>gt(t,e,n)}function Qv(t){return typeof t=="number"?q4:typeof t=="string"?qv(t)?vf:kt.test(t)?jE:Q4:Array.isArray(t)?LI:typeof t=="object"?kt.test(t)?jE:G4:vf}function LI(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Qv(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function G4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Qv(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function K4(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const Q4=(t,e)=>{const n=Gi.createTransformer(e),r=Tu(t),s=Tu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ey.has(t)&&!s.values.length||ey.has(e)&&!r.values.length?W4(t,e):Hu(LI(K4(r,s),s.values),n):vf(t,e)};function FI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Qv(t)(t,e)}const Y4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>qi(e),now:()=>Yt.isProcessing?Yt.timestamp:vn.now()}},UI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wf=2e4;function Yv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wf;)e+=n,r=t.next(e);return e>=wf?1/0:e}function X4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Yv(r),wf);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:rr(s)}}const J4=5;function BI(t,e,n){const r=Math.max(e-J4,0);return wI(n-t(r),e-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function Z4({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let s,a,l=1-e;l=is(_t.minDamping,_t.maxDamping,l),t=is(_t.minDuration,_t.maxDuration,rr(t)),l<1?(s=p=>{const g=p*l,v=g*t,w=g-n,b=ty(p,l),R=Math.exp(-v);return ng-w/b*R},a=p=>{const v=p*l*t,w=v*n+n,b=Math.pow(l,2)*Math.pow(p,2)*t,R=Math.exp(-v),I=ty(Math.pow(p,2),l);return(-s(p)+ng>0?-1:1)*((w-b)*R)/I}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-ng+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const u=5/t,h=tF(s,a,u);if(t=js(t),isNaN(h))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const eF=12;function tF(t,e,n){let r=n;for(let s=1;s<eF;s++)r=r-t(r)/e(r);return r}function ty(t,e){return t*Math.sqrt(1-e*e)}const nF=["duration","bounce"],rF=["stiffness","damping","mass"];function OE(t,e){return e.some(n=>t[n]!==void 0)}function sF(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!OE(t,rF)&&OE(t,nF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*is(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:_t.mass,stiffness:s,damping:a}}else{const n=Z4(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function xf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:b}=sF({...n,velocity:-rr(n.velocity||0)}),R=w||0,I=p/(2*Math.sqrt(h*g)),C=l-a,D=rr(Math.sqrt(h/g)),L=Math.abs(C)<5;r||(r=L?_t.restSpeed.granular:_t.restSpeed.default),s||(s=L?_t.restDelta.granular:_t.restDelta.default);let O;if(I<1){const q=ty(D,I);O=X=>{const N=Math.exp(-I*D*X);return l-N*((R+I*D*C)/q*Math.sin(q*X)+C*Math.cos(q*X))}}else if(I===1)O=q=>l-Math.exp(-D*q)*(C+(R+D*C)*q);else{const q=D*Math.sqrt(I*I-1);O=X=>{const N=Math.exp(-I*D*X),T=Math.min(q*X,300);return l-N*((R+I*D*C)*Math.sinh(T)+q*C*Math.cosh(T))/q}}const B={calculatedDuration:b&&v||null,next:q=>{const X=O(q);if(b)u.done=q>=v;else{let N=q===0?R:0;I<1&&(N=q===0?js(R):BI(O,q,X));const T=Math.abs(N)<=r,A=Math.abs(l-X)<=s;u.done=T&&A}return u.value=u.done?l:X,u},toString:()=>{const q=Math.min(Yv(B),wf),X=UI(N=>B.next(q*N).value,q,30);return q+"ms "+X},toTransition:()=>{}};return B}xf.applyToOptions=t=>{const e=X4(t,100,xf);return t.ease=e.ease,t.duration=js(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},b=T=>u!==void 0&&T<u||h!==void 0&&T>h,R=T=>u===void 0?h:h===void 0||Math.abs(u-T)<Math.abs(h-T)?u:h;let I=n*e;const C=v+I,D=l===void 0?C:l(C);D!==C&&(I=D-v);const L=T=>-I*Math.exp(-T/r),O=T=>D+L(T),B=T=>{const A=L(T),j=O(T);w.done=Math.abs(A)<=p,w.value=w.done?D:j};let q,X;const N=T=>{b(w.value)&&(q=T,X=xf({keyframes:[w.value,R(w.value)],velocity:BI(O,T,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:T=>{let A=!1;return!X&&q===void 0&&(A=!0,B(T),N(T)),q!==void 0&&T>=q?X.next(T-q):(!A&&B(T),w)}}}function iF(t,e,n){const r=[],s=n||zs.mix||FI,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||sr:e;u=Hu(h,u)}r.push(u)}return r}function oF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Bv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=iF(e,r,s),h=u.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Eu(t[v],t[v+1],g);return u[v](w)};return n?g=>p(is(t[0],t[a-1],g)):p}function aF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Eu(0,e,r);t.push(gt(n,1,s))}}function lF(t){const e=[0];return aF(e,t.length-1),e}function cF(t,e){return t.map(n=>n*e)}function uF(t,e){return t.map(()=>e||CI).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=_4(r)?r.map(kE):kE(r),a={done:!1,value:e[0]},l=cF(n&&n.length===e.length?n:lF(e),t),u=oF(l,e,{ease:Array.isArray(s)?s:uF(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const dF=t=>t!==null;function Xv(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(dF),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const hF={decay:ny,inertia:ny,tween:su,keyframes:su,spring:xf};function zI(t){typeof t.type=="string"&&(t.type=hF[t.type])}class Jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fF=t=>t/100;class Zv extends Jv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zI(e);const{type:n=su,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||su;h!==su&&typeof u[0]!="number"&&(this.mixKeyframes=Hu(fF,FI(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Yv(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:b,type:R,onUpdate:I,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,B=r;if(v){const T=Math.min(this.currentTime,s)/u;let A=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(w==="reverse"?(j=1-j,b&&(j-=b/u)):w==="mirror"&&(B=l)),O=is(0,1,j)*u}const q=L?{done:!1,value:g[0]}:B.next(O);a&&(q.value=a(q.value));let{done:X}=q;!L&&h!==null&&(X=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return N&&R!==ny&&(q.value=Xv(g,this.options,C,this.speed)),I&&I(q.value),N&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return rr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rr(e)}get time(){return rr(this.currentTime)}set time(e){var n;e=js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=Y4,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function pF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ho=t=>t*180/Math.PI,ry=t=>{const e=Ho(Math.atan2(t[1],t[0]));return sy(e)},mF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ry,rotateZ:ry,skewX:t=>Ho(Math.atan(t[1])),skewY:t=>Ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),LE=ry,FE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FE,scaleY:UE,scale:t=>(FE(t)+UE(t))/2,rotateX:t=>sy(Ho(Math.atan2(t[6],t[5]))),rotateY:t=>sy(Ho(Math.atan2(-t[2],t[0]))),rotateZ:LE,rotate:LE,skewX:t=>Ho(Math.atan(t[4])),skewY:t=>Ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iy(t){return t.includes("scale")?1:0}function oy(t,e){if(!t||t==="none")return iy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gF,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mF,s=u}if(!s)return iy(e);const a=r[e],l=s[1].split(",").map(vF);return typeof a=="function"?a(l):l[a]}const yF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oy(n,e)};function vF(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Ml),BE=t=>t===Vl||t===_e,wF=new Set(["x","y","z"]),xF=Ml.filter(t=>!wF.has(t));function _F(t){const e=[];return xF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oy(e,"x"),y:(t,{transform:e})=>oy(e,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Ko=new Set;let ay=!1,ly=!1,cy=!1;function $I(){if(ly){const t=Array.from(Ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=_F(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,ay=!1,Ko.forEach(t=>t.complete(cy)),Ko.clear()}function HI(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function EF(){cy=!0,HI(),$I(),cy=!1}class e0{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),ay||(ay=!0,ut.read(HI),ut.resolveKeyframes($I))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}pF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bF=t=>t.startsWith("--");function TF(t,e,n){bF(e)?t.style.setProperty(e,n):t.style[e]=n}const SF=zv(()=>window.ScrollTimeline!==void 0),IF={};function AF(t,e){const n=zv(t);return()=>IF[e]??n()}const WI=AF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function qI(t,e){if(t)return typeof t=="function"?WI()?UI(t,e):"ease-out":RI(t)?qc(t):Array.isArray(t)?t.map(n=>qI(n,e)||zE.easeOut):zE[t]}function CF(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const g={[e]:n};h&&(g.offset=h);const v=qI(u,s);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function GI(t){return typeof t=="function"&&"applyToOptions"in t}function RF({type:t,...e}){return GI(t)&&WI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PF extends Jv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Bv(typeof e.type!="string");const p=RF(e);this.animation=CF(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Xv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):TF(n,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return rr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rr(e)}get time(){return rr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&SF()?(this.animation.timeline=e,sr):n(this)}}const KI={anticipate:SI,backInOut:TI,circInOut:AI};function kF(t){return t in KI}function NF(t){typeof t.ease=="string"&&kF(t.ease)&&(t.ease=KI[t.ease])}const rg=10;class DF extends PF{constructor(e){NF(e),zI(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Zv({...l,autoplay:!1}),h=Math.max(rg,vn.now()-this.startTime),p=is(0,rg,h-rg);n.setWithVelocity(u.sample(Math.max(0,h-p)).value,u.sample(h).value,p),u.stop()}}const $E=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function VF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=$E(s,e),u=$E(a,e);return!l||!u?!1:VF(t)||(n==="spring"||GI(n))&&r}function uy(t){t.duration=0,t.type="keyframes"}const jF=new Set(["opacity","clipPath","filter","transform"]),OF=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LF(t){var g;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return OF()&&n&&jF.has(n)&&(n!=="transform"||!p)&&!h&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const FF=40;class UF extends Jv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:g,...v}){var R;super(),this.stop=()=>{var I,C;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=vn.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:g,...v},b=(g==null?void 0:g.KeyframeResolver)||e0;this.keyframeResolver=new b(u,(I,C,D)=>this.onKeyframesResolved(I,C,w,!D),h,p,g),(R=this.keyframeResolver)==null||R.scheduleResolve()}onKeyframesResolved(e,n,r,s){var C,D;this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:g}=r;this.resolvedAt=vn.now(),MF(e,a,l,u)||((zs.instantAnimations||!h)&&(g==null||g(Xv(e,r,n))),e[0]=e[e.length-1],uy(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>FF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!p&&LF(w),R=(D=(C=w.motionValue)==null?void 0:C.owner)==null?void 0:D.current,I=b?new DF({...w,element:R}):new Zv(w);I.finished.then(()=>{this.notifyFinished()}).catch(sr),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),EF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function QI(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}const BF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zF(t){const e=BF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YI(t,e,n=1){const[r,s]=zF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return gI(l)?parseFloat(l):l}return qv(s)?YI(s,e,n+1):s}const $F={type:"spring",stiffness:500,damping:25,restSpeed:10},HF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WF={type:"keyframes",duration:.8},qF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GF=(t,{keyframes:e})=>e.length>2?WF:jl.has(t)?t.startsWith("scale")?HF(e[1]):$F:qF,KF=t=>t!==null;function QF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(KF),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function t0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function YF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const n0=(t,e,n,r={},s,a)=>l=>{const u=t0(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-js(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};YF(u)||Object.assign(g,GF(t,g)),g.duration&&(g.duration=js(g.duration)),g.repeatDelay&&(g.repeatDelay=js(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(uy(g),g.delay===0&&(v=!0)),(zs.instantAnimations||zs.skipAnimations)&&(v=!0,uy(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const w=QF(g.keyframes,u);if(w!==void 0){ut.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new Zv(g):new UF(g)};function HE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function r0(t,e,n,r){if(typeof e=="function"){const[s,a]=HE(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=HE(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function pl(t,e,n){const r=t.getProps();return r0(r,e,n!==void 0?n:r.custom,t)}const XI=new Set(["width","height","top","left","right","bottom",...Ml]),WE=30,XF=t=>!isNaN(parseFloat(t));class JF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=vn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $v);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WE);return wI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new JF(t,e)}const dy=t=>Array.isArray(t);function ZF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function e3(t){return dy(t)?t[t.length-1]||0:t}function t3(t,e){const n=pl(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=e3(a[l]);ZF(t,l,u)}}const hn=t=>!!(t&&t.getVelocity);function n3(t){return!!(hn(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(n3(n))return n.add(e);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function s0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const r3="framerAppearId",JI="data-"+s0(r3);function ZI(t){return t.props[JI]}function s3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;const h=a==null?void 0:a.reduceMotion;r&&(a=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const v in u){const w=t.getValue(v,t.latestValues[v]??null),b=u[v];if(b===void 0||g&&s3(g,v))continue;const R={delay:n,...t0(a||{},v)},I=w.get();if(I!==void 0&&!w.isAnimating&&!Array.isArray(b)&&b===I&&!R.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const O=ZI(t);if(O){const B=window.MotionHandoffAnimation(O,v,ut);B!==null&&(R.startTime=B,C=!0)}}hy(t,v);const D=h??t.shouldReduceMotion;w.start(n0(v,w,b,D&&XI.has(v)?{type:!1}:R,t,C));const L=w.animation;L&&p.push(L)}return l&&Promise.all(p).then(()=>{ut.update(()=>{l&&t3(t,l)})}),p}function fy(t,e,n={}){var h;const r=pl(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(eA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=s;return i3(t,e,p,g,v,w,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[p,g]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function i3(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(fy(h,e,{...l,delay:n+(typeof r=="function"?0:r)+QI(t.variantChildren,h,r,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function o3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>fy(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=fy(t,e,n);else{const s=typeof e=="function"?pl(t,e,n.custom):e;r=Promise.all(eA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const a3={test:t=>t==="auto",parse:t=>t},tA=t=>e=>e.test(t),nA=[Vl,_e,ns,Si,V4,D4,a3],qE=t=>nA.find(tA(t));function l3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vI(t):!0}const c3=new Set(["brightness","contrast","saturate","opacity"]);function u3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gv)||[];if(!r)return t;const s=n.replace(r,"");let a=c3.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const d3=/\b([a-z-]*)\(.*?\)/gu,py={...Gi,getAnimatableNone:t=>{const e=t.match(d3);return e?e.map(u3).join(" "):t}},GE={...Vl,transform:Math.round},h3={rotate:Si,rotateX:Si,rotateY:Si,rotateZ:Si,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:Si,skewX:Si,skewY:Si,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:bu,originX:DE,originY:DE,originZ:_e},i0={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,inset:_e,insetBlock:_e,insetBlockStart:_e,insetBlockEnd:_e,insetInline:_e,insetInlineStart:_e,insetInlineEnd:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,paddingBlock:_e,paddingBlockStart:_e,paddingBlockEnd:_e,paddingInline:_e,paddingInlineStart:_e,paddingInlineEnd:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,marginBlock:_e,marginBlockStart:_e,marginBlockEnd:_e,marginInline:_e,marginInlineStart:_e,marginInlineEnd:_e,fontSize:_e,backgroundPositionX:_e,backgroundPositionY:_e,...h3,zIndex:GE,fillOpacity:bu,strokeOpacity:bu,numOctaves:GE},f3={...i0,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:py,WebkitFilter:py},rA=t=>f3[t];function sA(t,e){let n=rA(t);return n!==py&&(n=Gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const p3=new Set(["auto","none","0"]);function m3(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!p3.has(a)&&Tu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=sA(n,s)}class g3 extends e0{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),qv(v))){const w=YI(v,n.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!XI.has(r)||e.length!==2)return;const[s,a]=e,l=qE(s),u=qE(a),h=NE(s),p=NE(a);if(h!==p&&Ni[r]){this.needsMeasurement=!0;return}if(l!==u)if(BE(l)&&BE(u))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Ni[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||l3(e[s]))&&r.push(s);r.length&&m3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Ni[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function y3(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const iA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v3(t){return yI(t)&&"offsetHeight"in t}const{schedule:o0}=PI(queueMicrotask,!1),vr={x:!1,y:!1};function oA(){return vr.x||vr.y}function w3(t){return t==="x"||t==="y"?vr[t]?null:(vr[t]=!0,()=>{vr[t]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function aA(t,e){const n=y3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function KE(t){return!(t.pointerType==="touch"||oA())}function x3(t,e,n={}){const[r,s,a]=aA(t,n),l=u=>{if(!KE(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const g=v=>{KE(v)&&(p(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const lA=(t,e)=>e?t===e?!0:lA(t,e.parentElement):!1,a0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cA(t){return _3.has(t.tagName)||t.isContentEditable===!0}const Bh=new WeakSet;function QE(t){return e=>{e.key==="Enter"&&t(e)}}function sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const E3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=QE(()=>{if(Bh.has(n))return;sg(n,"down");const s=QE(()=>{sg(n,"up")}),a=()=>sg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function YE(t){return a0(t)&&!oA()}function b3(t,e,n={}){const[r,s,a]=aA(t,n),l=u=>{const h=u.currentTarget;if(!YE(u))return;Bh.add(h);const p=e(h,u),g=(b,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Bh.has(h)&&Bh.delete(h),YE(b)&&typeof p=="function"&&p(b,{success:R})},v=b=>{g(b,h===window||h===document||n.useGlobalTarget||lA(h,b.target))},w=b=>{g(b,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),v3(u)&&(u.addEventListener("focus",p=>E3(p,s)),!cA(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function uA(t){return yI(t)&&"ownerSVGElement"in t}function T3(t){return uA(t)&&t.tagName==="svg"}const S3=[...nA,kt,Gi],I3=t=>S3.find(tA(t)),XE=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:XE(),y:XE()}),JE=()=>({min:0,max:0}),Lt=()=>({x:JE(),y:JE()}),my={current:null},dA={current:!1},A3=typeof window<"u";function C3(){if(dA.current=!0,!!A3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const R3=new WeakMap;function ep(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Su(t){return typeof t=="string"||Array.isArray(t)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function tp(t){return ep(t.animate)||c0.some(e=>Su(t[e]))}function hA(t){return!!(tp(t)||t.variants)}function P3(t,e,n){for(const r in e){const s=e[r],a=n[r];if(hn(s))t.addValue(r,s);else if(hn(a))t.addValue(r,Il(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Il(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _f={};function fA(t){_f=t}function k3(){return _f}class N3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=vn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=tp(n),this.isVariantNode=hA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const b=v[w];h[w]!==void 0&&hn(b)&&b.set(h[w])}}mount(e){var n;this.current=e,R3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dA.current||C3(),this.shouldReduceMotion=my.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _f){const n=_f[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZE.length;r++){const s=ZE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=P3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Il(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gI(r)||vI(r))?r=parseFloat(r):!I3(r)&&Gi.test(n)&&(r=sA(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=r0(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $v),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){o0.render(this.render)}}class pA extends N3{constructor(){super(...arguments),this.KeyframeResolver=g3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}function mA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function V3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ig(t){return t===void 0||t===1}function gy({scale:t,scaleX:e,scaleY:n}){return!ig(t)||!ig(e)||!ig(n)}function Lo(t){return gy(t)||gA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gA(t){return eb(t.x)||eb(t.y)}function eb(t){return t&&t!=="0%"}function Ef(t,e,n){const r=t-n,s=e*r;return n+s}function tb(t,e,n,r,s){return s!==void 0&&(t=Ef(t,s,r)),Ef(t,n,r)+e}function yy(t,e=0,n=1,r,s){t.min=tb(t.min,e,n,r,s),t.max=tb(t.max,e,n,r,s)}function yA(t,{x:e,y:n}){yy(t.x,e.translate,e.scale,e.originPoint),yy(t.y,n.translate,n.scale,n.originPoint)}const nb=.999999999999,rb=1.0000000000001;function M3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ol(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,yA(t,l)),r&&Lo(a.latestValues)&&ol(t,a.latestValues))}e.x<rb&&e.x>nb&&(e.x=1),e.y<rb&&e.y>nb&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function sb(t,e,n,r,s=.5){const a=gt(t.min,t.max,s);yy(t,e,n,a,r)}function ol(t,e){sb(t.x,e.x,e.scaleX,e.scale,e.originX),sb(t.y,e.y,e.scaleY,e.scale,e.originY)}function vA(t,e){return mA(V3(t.getBoundingClientRect(),e))}function j3(t,e,n){const r=vA(t,n),{scroll:s}=e;return s&&(il(r.x,s.offset.x),il(r.y,s.offset.y)),r}const O3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L3=Ml.length;function F3(t,e,n){let r="",s=!0;for(let a=0;a<L3;a++){const l=Ml[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number")h=u===(l.startsWith("scale")?1:0);else{const p=parseFloat(u);h=l.startsWith("scale")?p===1:p===0}if(!h||n){const p=iA(u,i0[l]);if(!h){s=!1;const g=O3[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function u0(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const p=e[h];if(jl.has(h)){l=!0;continue}else if(NI(h)){s[h]=p;continue}else{const g=iA(p,i0[h]);h.startsWith("origin")?(u=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=F3(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}function wA(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function ib(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=ib(t,e.target.x),r=ib(t,e.target.y);return`${n}% ${r}%`}},U3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gi.parse(t);if(s.length>5)return r;const a=Gi.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const p=gt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},vy={borderRadius:{...Lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lc,borderTopRightRadius:Lc,borderBottomLeftRadius:Lc,borderBottomRightRadius:Lc,boxShadow:U3};function xA(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vy[t]||t==="opacity")}function d0(t,e,n){var l;const r=t.style,s=e==null?void 0:e.style,a={};if(!r)return a;for(const u in r)(hn(r[u])||s&&hn(s[u])||xA(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}function B3(t){return window.getComputedStyle(t)}class z3 extends pA{constructor(){super(...arguments),this.type="html",this.renderInstance=wA}readValueFromInstance(e,n){var r;if(jl.has(n))return(r=this.projection)!=null&&r.isProjecting?iy(n):yF(e,n);{const s=B3(e),a=(NI(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vA(e,n)}build(e,n,r){u0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return d0(e,n,r)}}const $3={offset:"stroke-dashoffset",array:"stroke-dasharray"},H3={offset:"strokeDashoffset",array:"strokeDasharray"};function W3(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?$3:H3;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const q3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _A(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,p,g){if(u0(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox);for(const b of q3)v[b]!==void 0&&(w[b]=v[b],delete v[b]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&W3(v,s,a,l,!1)}const EA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G3(t,e,n,r){wA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(EA.has(s)?s:s0(s),e.attrs[s])}function TA(t,e,n){const r=d0(t,e,n);for(const s in t)if(hn(t[s])||hn(e[s])){const a=Ml.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class K3 extends pA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const r=rA(n);return r&&r.default||0}return n=EA.has(n)?n:s0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return TA(e,n,r)}build(e,n,r){_A(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){G3(e,n,r,s)}mount(e){this.isSVGTag=bA(e.tagName),super.mount(e)}}const Q3=c0.length;function SA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q3;n++){const r=c0[n],s=t.props[r];(Su(s)||s===!1)&&(e[r]=s)}return e}function IA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Y3=[...l0].reverse(),X3=l0.length;function J3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>o3(t,n,r)))}function Z3(t){let e=J3(t),n=ob(),r=!0;const s=h=>(p,g)=>{var w;const v=pl(t,g,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:b,transitionEnd:R,...I}=v;p={...p,...I,...R}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=SA(t.parent)||{},v=[],w=new Set;let b={},R=1/0;for(let C=0;C<X3;C++){const D=Y3[C],L=n[D],O=p[D]!==void 0?p[D]:g[D],B=Su(O),q=D===h?L.isActive:null;q===!1&&(R=C);let X=O===g[D]&&O!==p[D]&&B;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),L.protectedKeys={...b},!L.isActive&&q===null||!O&&!L.prevProp||ep(O)||typeof O=="boolean")continue;const N=e5(L.prevProp,O);let T=N||D===h&&L.isActive&&!X&&B||C>R&&B,A=!1;const j=Array.isArray(O)?O:[O];let U=j.reduce(s(D),{});q===!1&&(U={});const{prevResolvedValues:M={}}=L,V={...M,...U},he=ue=>{T=!0,w.has(ue)&&(A=!0,w.delete(ue)),L.needsAnimating[ue]=!0;const W=t.getValue(ue);W&&(W.liveStyle=!1)};for(const ue in V){const W=U[ue],ae=M[ue];if(b.hasOwnProperty(ue))continue;let oe=!1;dy(W)&&dy(ae)?oe=!IA(W,ae):oe=W!==ae,oe?W!=null?he(ue):w.add(ue):W!==void 0&&w.has(ue)?he(ue):L.protectedKeys[ue]=!0}L.prevProp=O,L.prevResolvedValues=U,L.isActive&&(b={...b,...U}),r&&t.blockInitialAnimation&&(T=!1);const Ie=X&&N;T&&(!Ie||A)&&v.push(...j.map(ue=>{const W={type:D};if(typeof ue=="string"&&r&&!Ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,oe=pl(ae,ue);if(ae.enteringChildren&&oe){const{delayChildren:H}=oe.transition||{};W.delay=QI(ae.enteringChildren,t,H)}}return{animation:ue,options:W}}))}if(w.size){const C={};if(typeof p.initial!="boolean"){const D=pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(C.transition=D.transition)}w.forEach(D=>{const L=t.getBaseTarget(D),O=t.getValue(D);O&&(O.liveStyle=!0),C[D]=L??null}),v.push({animation:C})}let I=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(v):Promise.resolve()}function u(h,p){var v;if(n[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var b;return(b=w.animationState)==null?void 0:b.setActive(h,p)}),n[h].isActive=p;const g=l(h);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ob()}}}function e5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IA(e,t):!1}function Mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ob(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}function ab(t,e){t.min=e.min,t.max=e.max}function yr(t,e){ab(t.x,e.x),ab(t.y,e.y)}function lb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const AA=1e-4,t5=1-AA,n5=1+AA,CA=.01,r5=0-CA,s5=0+CA;function wn(t){return t.max-t.min}function i5(t,e,n){return Math.abs(t-e)<=n}function cb(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=t5&&t.scale<=n5||isNaN(t.scale))&&(t.scale=1),(t.translate>=r5&&t.translate<=s5||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,r){cb(t.x,e.x,n.x,r?r.originX:void 0),cb(t.y,e.y,n.y,r?r.originY:void 0)}function ub(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function o5(t,e,n){ub(t.x,e.x,n.x),ub(t.y,e.y,n.y)}function db(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function bf(t,e,n){db(t.x,e.x,n.x),db(t.y,e.y,n.y)}function hb(t,e,n,r,s){return t-=e,t=Ef(t,1/n,r),s!==void 0&&(t=Ef(t,1/s,r)),t}function a5(t,e=0,n=1,r=.5,s,a=t,l=t){if(ns.test(e)&&(e=parseFloat(e),e=gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=gt(a.min,a.max,r);t===a&&(u-=e),t.min=hb(t.min,e,n,u,s),t.max=hb(t.max,e,n,u,s)}function fb(t,e,[n,r,s],a,l){a5(t,e[n],e[r],e[s],e.scale,a,l)}const l5=["x","scaleX","originX"],c5=["y","scaleY","originY"];function pb(t,e,n,r){fb(t.x,e,l5,n?n.x:void 0,r?r.x:void 0),fb(t.y,e,c5,n?n.y:void 0,r?r.y:void 0)}function mb(t){return t.translate===0&&t.scale===1}function RA(t){return mb(t.x)&&mb(t.y)}function gb(t,e){return t.min===e.min&&t.max===e.max}function u5(t,e){return gb(t.x,e.x)&&gb(t.y,e.y)}function yb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PA(t,e){return yb(t.x,e.x)&&yb(t.y,e.y)}function vb(t){return wn(t.x)/wn(t.y)}function wb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function er(t){return[t("x"),t("y")]}function d5(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:b,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),b&&(r+=`skewX(${b}deg) `),R&&(r+=`skewY(${R}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const kA=["TopLeft","TopRight","BottomLeft","BottomRight"],h5=kA.length,xb=t=>typeof t=="string"?parseFloat(t):t,_b=t=>typeof t=="number"||_e.test(t);function f5(t,e,n,r,s,a){s?(t.opacity=gt(0,n.opacity??1,p5(r)),t.opacityExit=gt(e.opacity??1,0,m5(r))):a&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let l=0;l<h5;l++){const u=`border${kA[l]}Radius`;let h=Eb(e,u),p=Eb(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||_b(h)===_b(p)?(t[u]=Math.max(gt(xb(h),xb(p),r),0),(ns.test(p)||ns.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function Eb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const p5=NA(0,.5,II),m5=NA(.5,.95,sr);function NA(t,e,n){return r=>r<t?0:r>e?1:n(Eu(t,e,r))}function g5(t,e,n){const r=hn(t)?t:Il(t);return r.start(n0("",r,e,n)),r.animation}function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const y5=(t,e)=>t.depth-e.depth;class v5{constructor(){this.children=[],this.isDirty=!1}add(e){Fv(this.children,e),this.isDirty=!0}remove(e){Uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(y5),this.isDirty=!1,this.children.forEach(e)}}function w5(t,e){const n=vn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(qi(r),t(a-e))};return ut.setup(r,!0),()=>qi(r)}function zh(t){return hn(t)?t.get():t}class x5{constructor(){this.members=[]}add(e){Fv(this.members,e),e.scheduleRender()}remove(e){if(Uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,a=e.options.layoutDependency;s!==void 0&&a!==void 0&&s===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $h={hasAnimatedSinceResize:!0,hasEverUpdated:!1},og=["","X","Y","Z"],_5=1e3;let E5=0;function ag(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DA(r)}function VA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=E5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S5),this.nodes.forEach(R5),this.nodes.forEach(P5),this.nodes.forEach(I5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new v5)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $v),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=uA(l)&&!T3(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{v=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,g&&g(),g=w5(w,250),$h.hasAnimatedSinceResize&&($h.hasAnimatedSinceResize=!1,this.nodes.forEach(Sb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||M5,{onLayoutAnimationStart:I,onLayoutAnimationComplete:C}=p.getProps(),D=!this.targetLayout||!PA(this.targetLayout,b),L=!v&&w;if(this.options.layoutRoot||this.resumeFrom||L||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...t0(R,"layout"),onPlay:I,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,L)}else v||Sb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Tb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C5),this.nodes.forEach(b5),this.nodes.forEach(T5)):this.nodes.forEach(Tb),this.clearAllSnapshots();const u=vn.now();Yt.delta=is(0,1e3/60,u-Yt.timestamp),Yt.timestamp=u,Yt.isProcessing=!0,Jm.update.process(Yt),Jm.preRender.process(Yt),Jm.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A5),this.sharedNodes.forEach(N5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!RA(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Lo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),j5(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Lt();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(O5))){const{scroll:g}=this.root;g&&(il(u.x,g.offset.x),il(u.y,g.offset.y))}return u}removeElementScroll(l){var h;const u=Lt();if(yr(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&yr(u,l),il(u.x,v.offset.x),il(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const h=Lt();yr(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ol(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Lo(g.latestValues)&&ol(h,g.latestValues)}return Lo(this.latestValues)&&ol(h,this.latestValues),h}removeTransform(l){const u=Lt();yr(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Lo(p.latestValues))continue;gy(p.latestValues)&&p.updateSnapshot();const g=Lt(),v=p.measurePageBox();yr(g,v),pb(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Lo(this.latestValues)&&pb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Yt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),yA(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gy(this.parent.latestValues)||gA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),bf(this.relativeTargetOrigin,u,h),yr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var R;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;yr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;M3(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Lt());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lb(this.prevProjectionDelta.x,this.projectionDelta.x),lb(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=Lt(),b=h?h.source:void 0,R=this.layout?this.layout.source:void 0,I=b!==R,C=this.getStack(),D=!C||C.members.length<=1,L=!!(I&&!D&&this.options.crossfade===!0&&!this.path.some(V5));this.animationProgress=0;let O;this.mixTargetDelta=B=>{const q=B/1e3;Ib(v.x,l.x,q),Ib(v.y,l.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D5(this.relativeTarget,this.relativeTargetOrigin,w,q),O&&u5(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Lt()),yr(O,this.relativeTarget)),I&&(this.animationValues=g,f5(g,p,this.latestValues,q,L,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{$h.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=g5(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:g}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&MA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Lt();const v=wn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const w=wn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}yr(u,h),ol(u,g),iu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new x5),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&ag("z",l,p,this.animationValues);for(let g=0;g<og.length;g++)ag(`rotate${og[g]}`,l,p,this.animationValues),ag(`skew${og[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=zh(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=zh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=d5(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),l.transform=v;const{x:w,y:b}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${b.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const R in vy){if(g[R]===void 0)continue;const{correct:I,applyTo:C,isCSSVariable:D}=vy[R],L=v==="none"?g[R]:I(g[R],p);if(C){const O=C.length;for(let B=0;B<O;B++)l[C[B]]=L}else D?this.options.visualElement.renderState.vars[R]=L:l[R]=L}this.options.layoutId&&(l.pointerEvents=p===this?zh(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(bb),this.root.sharedNodes.clear()}}}function b5(t){t.updateLayout()}function T5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?er(v=>{const w=l?e.measuredBox[v]:e.layoutBox[v],b=wn(w);w.min=r[v].min,w.max=w.min+b}):MA(a,e.layoutBox,r)&&er(v=>{const w=l?e.measuredBox[v]:e.layoutBox[v],b=wn(r[v]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=sl();iu(u,r,e.layoutBox);const h=sl();l?iu(h,t.applyTransform(s,!0),e.measuredBox):iu(h,r,e.layoutBox);const p=!RA(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:b}=v;if(w&&b){const R=Lt();bf(R,e.layoutBox,w.layoutBox);const I=Lt();bf(I,r,b.layoutBox),PA(R,I)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function S5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function A5(t){t.clearSnapshot()}function bb(t){t.clearMeasurements()}function Tb(t){t.isLayoutDirty=!1}function C5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function R5(t){t.resolveTargetDelta()}function P5(t){t.calcProjection()}function k5(t){t.resetSkewAndRotation()}function N5(t){t.removeLeadSnapshot()}function Ib(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ab(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function D5(t,e,n,r){Ab(t.x,e.x,n.x,r),Ab(t.y,e.y,n.y,r)}function V5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M5={duration:.45,ease:[.4,0,.1,1]},Cb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Rb=Cb("applewebkit/")&&!Cb("chrome/")?Math.round:sr;function Pb(t){t.min=Rb(t.min),t.max=Rb(t.max)}function j5(t){Pb(t.x),Pb(t.y)}function MA(t,e,n){return t==="position"||t==="preserve-aspect"&&!i5(vb(e),vb(n),.2)}function O5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const L5=VA({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),lg={current:void 0},jA=VA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new L5({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OA=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function F5(t=!0){const e=P.useContext(Lv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=P.useId();P.useEffect(()=>{if(t)return s(a)},[t]);const l=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const LA=P.createContext({strict:!1}),kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Nb=!1;function U5(){if(Nb)return;const t={};for(const e in kb)t[e]={isEnabled:n=>kb[e].some(r=>!!n[r])};fA(t),Nb=!0}function FA(){return U5(),k3()}function B5(t){const e=FA();for(const n in t)e[n]={...e[n],...t[n]};fA(e)}const z5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||z5.has(t)}let UA=t=>!Tf(t);function $5(t){typeof t=="function"&&(UA=e=>e.startsWith("on")?!Tf(e):t(e))}try{$5(require("@emotion/is-prop-valid").default)}catch{}function H5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(UA(s)||n===!0&&Tf(s)||!e&&!Tf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const np=P.createContext({});function W5(t,e){if(tp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Su(n)?n:void 0,animate:Su(r)?r:void 0}}return t.inherit!==!1?e:{}}function q5(t){const{initial:e,animate:n}=W5(t,P.useContext(np));return P.useMemo(()=>({initial:e,animate:n}),[Db(e),Db(n)])}function Db(t){return Array.isArray(t)?t.join(" "):t}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BA(t,e,n){for(const r in e)!hn(e[r])&&!xA(r,n)&&(t[r]=e[r])}function G5({transformTemplate:t},e){return P.useMemo(()=>{const n=h0();return u0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K5(t,e){const n=t.style||{},r={};return BA(r,n,t),Object.assign(r,G5(t,e)),r}function Q5(t,e){const n={},r=K5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zA=()=>({...h0(),attrs:{}});function Y5(t,e,n,r){const s=P.useMemo(()=>{const a=zA();return _A(a,e,bA(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};BA(a,t.style,t),s.style={...a,...s.style}}return s}const X5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(t){return typeof t!="string"||t.includes("-")?!1:!!(X5.indexOf(t)>-1||/[A-Z]/u.test(t))}function J5(t,e,n,{latestValues:r},s,a=!1,l){const h=(l??f0(t)?Y5:Q5)(e,r,s,t),p=H5(e,typeof t=="string",a),g=t!==P.Fragment?{...p,...h,ref:n}:{},{children:v}=e,w=P.useMemo(()=>hn(v)?v.get():v,[v]);return P.createElement(t,{...g,children:w})}function Z5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:eU(n,r,s,t),renderState:e()}}function eU(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=zh(a[w]);let{initial:l,animate:u}=t;const h=tp(t),p=hA(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!ep(v)){const w=Array.isArray(v)?v:[v];for(let b=0;b<w.length;b++){const R=r0(t,w[b]);if(R){const{transitionEnd:I,transition:C,...D}=R;for(const L in D){let O=D[L];if(Array.isArray(O)){const B=g?O.length-1:0;O=O[B]}O!==null&&(s[L]=O)}for(const L in I)s[L]=I[L]}}}return s}const $A=t=>(e,n)=>{const r=P.useContext(np),s=P.useContext(Lv),a=()=>Z5(t,e,r,s);return n?a():f4(a)},tU=$A({scrapeMotionValuesFromProps:d0,createRenderState:h0}),nU=$A({scrapeMotionValuesFromProps:TA,createRenderState:zA}),rU=Symbol.for("motionComponentSymbol");function sU(t,e,n){const r=P.useRef(n);P.useInsertionEffect(()=>{r.current=n});const s=P.useRef(null);return P.useCallback(a=>{var u;a&&((u=t.onMount)==null||u.call(t,a)),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const h=l(a);typeof h=="function"&&(s.current=h)}else s.current?(s.current(),s.current=null):l(a);else l&&(l.current=a)},[e])}const HA=P.createContext({});function Gc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iU(t,e,n,r,s,a){var D,L;const{visualElement:l}=P.useContext(np),u=P.useContext(LA),h=P.useContext(Lv),p=P.useContext(OA).reducedMotion,g=P.useRef(null),v=P.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:a}),v.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const w=g.current,b=P.useContext(HA);w&&!w.projection&&s&&(w.type==="html"||w.type==="svg")&&oU(g.current,n,s,b);const R=P.useRef(!1);P.useInsertionEffect(()=>{w&&R.current&&w.update(n,h)});const I=n[JI],C=P.useRef(!!I&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,I))&&((L=window.MotionHasOptimisedAnimation)==null?void 0:L.call(window,I)));return p4(()=>{v.current=!0,w&&(R.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),C.current&&w.animationState&&w.animationState.animateChanges())}),P.useEffect(()=>{w&&(!C.current&&w.animationState&&w.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,I)}),C.current=!1),w.enteringChildren=void 0)}),w}function oU(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WA(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Gc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:p})}function WA(t){if(t)return t.options.allowProjection!==!1?t.projection:WA(t.parent)}function cg(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&B5(r);const a=n?n==="svg":f0(t),l=a?nU:tU;function u(p,g){let v;const w={...P.useContext(OA),...p,layoutId:aU(p)},{isStatic:b}=w,R=q5(p),I=l(p,b);if(!b&&mI){lU();const C=cU(w);v=C.MeasureLayout,R.visualElement=iU(t,I,w,s,C.ProjectionNode,a)}return m.jsxs(np.Provider,{value:R,children:[v&&R.visualElement?m.jsx(v,{visualElement:R.visualElement,...w}):null,J5(t,p,sU(I,R.visualElement,g),I,b,e,a)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=P.forwardRef(u);return h[rU]=t,h}function aU({layoutId:t}){const e=P.useContext(pI).id;return e&&t!==void 0?e+"-"+t:t}function lU(t,e){P.useContext(LA).strict}function cU(t){const e=FA(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function uU(t,e){if(typeof Proxy>"u")return cg;const n=new Map,r=(a,l)=>cg(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,cg(l,void 0,t,e)),n.get(l))})}const dU=(t,e)=>e.isSVG??f0(t)?new K3(e):new z3(e,{allowProjection:t!==P.Fragment});class hU extends so{constructor(e){super(e),e.animationState||(e.animationState=Z3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let fU=0;class pU extends so{constructor(){super(...arguments),this.id=fU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mU={animation:{Feature:hU},exit:{Feature:pU}};function Gu(t){return{point:{x:t.pageX,y:t.pageY}}}const gU=t=>e=>a0(e)&&t(e,Gu(e));function ou(t,e,n,r){return Iu(t,e,gU(n),r)}const qA=({current:t})=>t?t.ownerDocument.defaultView:null,Vb=(t,e)=>Math.abs(t-e);function yU(t,e){const n=Vb(t.x,e.x),r=Vb(t.y,e.y);return Math.sqrt(n**2+r**2)}const Mb=new Set(["auto","scroll"]);class GA{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=dg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,I=yU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!I)return;const{point:C}=b,{timestamp:D}=Yt;this.history.push({...C,timestamp:D});const{onStart:L,onMove:O}=this.handlers;R||(L&&L(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=ug(R,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:I,onSessionEnd:C,resumeAnimation:D}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=dg(b.type==="pointercancel"?this.lastMoveEventInfo:ug(R,this.transformPagePoint),this.history);this.startEvent&&I&&I(b,L),C&&C(b,L)},!a0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const h=Gu(e),p=ug(h,this.transformPagePoint),{point:g}=p,{timestamp:v}=Yt;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,dg(p,this.history)),this.removeListeners=Hu(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Mb.has(r.overflowX)||Mb.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),ut.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qi(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:jb(t,KA(e)),offset:jb(t,vU(e)),velocity:wU(e,.1)}}function vU(t){return t[0]}function KA(t){return t[t.length-1]}function wU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=KA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>js(e)));)n--;if(!r)return{x:0,y:0};const a=rr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function xU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function Ob(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _U(t,{top:e,left:n,bottom:r,right:s}){return{x:Ob(t.x,n,s),y:Ob(t.y,e,r)}}function Lb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EU(t,e){return{x:Lb(t.x,e.x),y:Lb(t.y,e.y)}}function bU(t,e){let n=.5;const r=wn(t),s=wn(e);return s>r?n=Eu(e.min,e.max-r,t.min):r>s&&(n=Eu(t.min,t.max-s,e.min)),is(0,1,n)}function TU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wy=.35;function SU(t=wy){return t===!1?t=0:t===!0&&(t=wy),{x:Fb(t,"left","right"),y:Fb(t,"top","bottom")}}function Fb(t,e,n){return{min:Ub(t,e),max:Ub(t,n)}}function Ub(t,e){return typeof t=="number"?t:t[e]||0}const IU=new WeakMap;class AU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{n?(this.stopAnimation(),this.snapToCursor(Gu(v).point)):this.pauseAnimation()},l=(v,w)=>{this.stopAnimation();const{drag:b,dragPropagation:R,onDragStart:I}=this.getProps();if(b&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=w3(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(D=>{let L=this.getAxisMotionValue(D).get()||0;if(ns.test(L)){const{projection:O}=this.visualElement;if(O&&O.layout){const B=O.layout.layoutBox[D];B&&(L=wn(B)*(parseFloat(L)/100))}}this.originPoint[D]=L}),I&&ut.postRender(()=>I(v,w)),hy(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:b,dragDirectionLock:R,onDirectionLock:I,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:D}=w;if(R&&this.currentDirection===null){this.currentDirection=CU(D),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),C&&C(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>er(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new GA(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:qA(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ut.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_h(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=xU(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Gc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_U(r.layoutBox,e):this.constraints=!1,this.elastic=SU(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=TU(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=j3(r,s.root,this.visualElement.getTransformPagePoint());let l=EU(s.layout.layoutBox,a);if(n){const u=n(D3(l));this.hasMutatedConstraints=!!u,u&&(l=mA(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=er(g=>{if(!_h(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const w=s?200:1e6,b=s?40:1e7,R={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hy(this.visualElement,e),r.start(n0(e,r,0,n,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!_h(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n],h=a.get()||0;a.set(e[n]-gt(l,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};er(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=bU({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!_h(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(gt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;IU.set(this.visualElement,this);const e=this.visualElement.current,n=ou(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps(),v=h.target,w=v!==e&&cA(v);p&&g&&!w&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Gc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const l=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(er(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=wy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function _h(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RU extends so{constructor(e){super(e),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new AU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Bb=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class PU extends so{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(e){this.session=new GA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Bb(e),onStart:Bb(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ut.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let hg=!1;class kU extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),hg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),$h.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),hg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ut.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;hg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QA(t){const[e,n]=F5(),r=P.useContext(pI);return m.jsx(kU,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(HA),isPresent:e,safeToRemove:n})}const NU={pan:{Feature:PU},drag:{Feature:RU,ProjectionNode:jA,MeasureLayout:QA}};function zb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ut.postRender(()=>a(e,Gu(e)))}class DU extends so{mount(){const{current:e}=this.node;e&&(this.unmount=x3(e,(n,r)=>(zb(this.node,r,"Start"),s=>zb(this.node,s,"End"))))}unmount(){}}class VU extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $b(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ut.postRender(()=>a(e,Gu(e)))}class MU extends so{mount(){const{current:e}=this.node;e&&(this.unmount=b3(e,(n,r)=>($b(this.node,r,"Start"),(s,{success:a})=>$b(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xy=new WeakMap,fg=new WeakMap,jU=t=>{const e=xy.get(t.target);e&&e(t)},OU=t=>{t.forEach(jU)};function LU({root:t,...e}){const n=t||document;fg.has(n)||fg.set(n,{});const r=fg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(OU,{root:t,...e})),r[s]}function FU(t,e,n){const r=LU(e);return xy.set(t,n),r.observe(t),()=>{xy.delete(t),r.unobserve(t)}}const UU={some:0,all:1};class BU extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:UU[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(h)};return FU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zU(e,n))&&this.startObserver()}unmount(){}}function zU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $U={inView:{Feature:BU},tap:{Feature:MU},focus:{Feature:VU},hover:{Feature:DU}},HU={layout:{ProjectionNode:jA,MeasureLayout:QA}},WU={...mU,...$U,...NU,...HU},Os=uU(WU,dU),qU=({tempUser:t,userName:e,userEmail:n,onComplete:r,onError:s})=>{const[a,l]=P.useState({name:e,branch:"",semester:""}),[u,h]=P.useState(!1),p=["Computer Science and Engineering","Electronics and Communication Engineering","Electrical and Electronics Engineering","Mechanical Engineering","Civil Engineering","Chemical Engineering","Information Technology","Biotechnology","Aeronautical Engineering","Automobile Engineering","Mining Engineering","Metallurgy and Materials Engineering","Textile Technology","Food Technology","Environmental Engineering","Marine Engineering","Petroleum Engineering","Instrumentation Engineering","Production Engineering","Industrial Engineering","Agricultural Engineering","Forestry Engineering"],g=["1st","2nd","3rd","4th","5th","6th","7th","8th"],v=async w=>{if(w.preventDefault(),!a.branch||!a.semester){s("Please fill in all required fields");return}h(!0);try{const b=await tr.completeGoogleSignUp(t,{name:a.name,branch:a.branch,semester:a.semester});r(b)}catch(b){s(b.message)}h(!1)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-950 via-blue-900 to-blue-800 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Complete Your Profile"}),m.jsxs("p",{className:"text-gray-600",children:["Signed in with: ",n]}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please provide additional information to complete your registration"})]}),m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",id:"name",value:a.name,onChange:w=>l({...a,name:w.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),m.jsxs("select",{id:"branch",value:a.branch,onChange:w=>l({...a,branch:w.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[m.jsx("option",{value:"",children:"Select your branch"}),p.map(w=>m.jsx("option",{value:w,children:w},w))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"semester",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Semester"}),m.jsxs("select",{id:"semester",value:a.semester,onChange:w=>l({...a,semester:w.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[m.jsx("option",{value:"",children:"Select your semester"}),g.map(w=>m.jsx("option",{value:w,children:w},w))]})]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-950 text-white font-bold py-3 rounded-lg hover:bg-blue-900 transition-colors disabled:opacity-50",children:u?"Creating Account...":"Complete Registration"})]})]})})},GU=()=>{const{login:t,signUp:e,signInWithGoogle:n}=Ar(),[r,s]=P.useState("student"),[a,l]=P.useState("login"),[u,h]=P.useState(""),[p,g]=P.useState(""),[v,w]=P.useState(""),[b,R]=P.useState("CSE"),[I,C]=P.useState("1"),[D,L]=P.useState(!1),[O,B]=P.useState(null),q=async A=>{A.preventDefault();try{if(a==="login"){if(r==="admin"&&u.toLowerCase()!=="siddiqshaik613@gmail.com"){alert("Error: Only authorized admin email (siddiqshaik613@gmail.com) can access admin portal");return}if(r==="student"){if(u.toLowerCase()==="siddiqshaik613@gmail.com"){alert("Error: Admin account must use Admin tab for login");return}if(!u.toLowerCase().includes("@vrsec.ac.in")){alert("Error: Please use a valid VRSEC email (@vrsec.ac.in)");return}}await t(u,p,r)}else{if(r==="admin"){alert("Error: Admin accounts cannot be created through this portal. Contact system administrator.");return}await e({email:u,password:p,name:v,branch:b,semester:I})}}catch(j){alert("Error: "+j.message)}},X=async()=>{L(!0);try{await n()}catch(A){A.message==="GOOGLE_SIGNUP_REQUIRED"?B({tempUser:A.tempUser,userName:A.userName||A.userEmail.split("@")[0],userEmail:A.userEmail}):alert("Google Sign-In Error: "+A.message)}finally{L(!1)}},N=A=>{B(null)},T=A=>{alert("Registration Error: "+A),B(null)};return O?m.jsx(qU,{tempUser:O.tempUser,userName:O.userName,userEmail:O.userEmail,onComplete:N,onError:T}):m.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[m.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-blue-950 text-white relative overflow-hidden flex-col justify-between p-8 xl:p-16",children:[m.jsx("div",{className:"absolute inset-0 opacity-10",children:m.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[m.jsx("defs",{children:m.jsx("pattern",{id:"grid-pattern",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:m.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),m.jsx("rect",{width:"100",height:"100",fill:"url(#grid-pattern)"})]})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 mb-8 lg:mb-10",children:[m.jsx("div",{className:"bg-white p-3 lg:p-4 rounded-xl shadow-lg",children:m.jsx("img",{src:"https://i.postimg.cc/htNM9R26/Screenshot-2026-02-01-222826.png",alt:"VRSEC Logo",className:"w-12 h-12 lg:w-16 lg:h-16 object-contain"})}),m.jsx("span",{className:"font-bold text-2xl lg:text-4xl tracking-wider",children:"Apna SAHE"})]}),m.jsx(Os.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl lg:text-5xl font-bold font-serif leading-tight mb-4 lg:mb-6",children:"Siddhartha Academy of Higher Education"}),m.jsx(Os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"max-w-2xl mb-8",children:m.jsx("p",{className:"text-lg text-slate-300 font-light mb-8",children:"Your Campus, Your Portal. Seamless access to academics, events, infrastructure, and student community resources."})}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-lg border border-white/10",children:[m.jsx("h3",{className:"font-bold text-amber-400 text-lg",children:"Academics"}),m.jsx("p",{className:"text-sm text-slate-300",children:"Access notes & timetables"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-lg border border-white/10",children:[m.jsx("h3",{className:"font-bold text-amber-400 text-lg",children:"Events"}),m.jsx("p",{className:"text-sm text-slate-300",children:"Stay updated on campus life"})]})]})]}),m.jsx("div",{className:"relative z-10 text-base text-slate-400 font-medium",children:" 2026 Apna SAHE. All rights reserved."})]}),m.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 lg:p-8",children:[m.jsx("div",{className:"lg:hidden absolute top-6 left-0 right-0 flex justify-center",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg border",children:m.jsx("img",{src:"https://i.postimg.cc/htNM9R26/Screenshot-2026-02-01-222826.png",alt:"VRSEC Logo",className:"w-10 h-10 object-contain"})}),m.jsx("span",{className:"font-bold text-2xl tracking-wider text-slate-800",children:"Apna SAHE"})]})}),m.jsx("div",{className:"w-full max-w-md mt-20 lg:mt-0",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[m.jsxs("div",{className:"flex border-b border-slate-100",children:[m.jsxs("button",{onClick:()=>{s("student"),l("login"),h(""),g(""),w(""),R("CSE"),C("1")},className:`flex-1 py-3 lg:py-4 text-xs lg:text-sm font-bold flex items-center justify-center gap-1 lg:gap-2 transition-colors ${r==="student"?"bg-white text-blue-900 border-b-2 border-blue-900":"bg-slate-50 text-slate-500 hover:text-slate-700"}`,children:[m.jsx(TL,{size:16,className:"lg:w-[18px] lg:h-[18px]"}),"Student"]}),m.jsxs("button",{onClick:()=>{s("admin"),l("login"),h(""),g(""),w(""),R("CSE"),C("1")},className:`flex-1 py-3 lg:py-4 text-xs lg:text-sm font-bold flex items-center justify-center gap-1 lg:gap-2 transition-colors ${r==="admin"?"bg-white text-blue-900 border-b-2 border-blue-900":"bg-slate-50 text-slate-500 hover:text-slate-700"}`,children:[m.jsx(ZL,{size:16,className:"lg:w-[18px] lg:h-[18px]"}),"Admin"]})]}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a==="login"?`Welcome Back, ${r==="student"?"Student":"Admin"}!`:r==="admin"?"Admin Access Only":"Create Student Account"}),m.jsx("p",{className:"text-slate-500 text-sm",children:a==="login"?r==="admin"?"Admin credentials required":"Please sign in to continue":r==="admin"?"Contact administrator for access":"Join the community today"})]}),m.jsxs("form",{onSubmit:q,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:u,onChange:A=>h(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none transition-all",placeholder:r==="admin"?"Enter admin email":"username@vrsec.ac.in"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:p,onChange:A=>g(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none transition-all",placeholder:""})]}),r==="student"&&a==="register"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:v,onChange:A=>w(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none transition-all",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Branch"}),m.jsxs("select",{required:!0,value:b,onChange:A=>R(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none transition-all",children:[m.jsx("option",{value:"CSE",children:"Computer Science Engineering"}),m.jsx("option",{value:"ECE",children:"Electronics & Communication"}),m.jsx("option",{value:"EEE",children:"Electrical & Electronics"}),m.jsx("option",{value:"MECH",children:"Mechanical Engineering"}),m.jsx("option",{value:"CIVIL",children:"Civil Engineering"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Semester"}),m.jsxs("select",{required:!0,value:I,onChange:A=>C(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none transition-all",children:[m.jsx("option",{value:"1",children:"1st Semester"}),m.jsx("option",{value:"2",children:"2nd Semester"}),m.jsx("option",{value:"3",children:"3rd Semester"}),m.jsx("option",{value:"4",children:"4th Semester"}),m.jsx("option",{value:"5",children:"5th Semester"}),m.jsx("option",{value:"6",children:"6th Semester"}),m.jsx("option",{value:"7",children:"7th Semester"}),m.jsx("option",{value:"8",children:"8th Semester"})]})]})]}),m.jsxs("button",{type:"submit",className:"w-full bg-blue-950 text-white font-bold py-3 rounded-lg hover:bg-blue-900 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center justify-center gap-2 mt-2",children:[a==="login"?"Sign In":"Register",m.jsx(_u,{size:18})]})]}),!O&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mt-4 flex items-center",children:[m.jsx("div",{className:"flex-1 border-t border-slate-200"}),m.jsx("span",{className:"px-4 text-xs text-slate-500 bg-white",children:"OR"}),m.jsx("div",{className:"flex-1 border-t border-slate-200"})]}),m.jsxs("button",{type:"button",onClick:X,disabled:D,className:"w-full mt-4 bg-white border border-slate-300 text-slate-700 font-semibold py-3 rounded-lg hover:bg-slate-50 transition-all shadow-sm hover:shadow-md flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),D?"Signing in...":"Continue with Google"]})]}),O&&m.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Complete Your Registration"}),m.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Signing in as: ",O.tempUser.email]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-blue-800 mb-1",children:"Branch"}),m.jsxs("select",{value:O.branch,onChange:A=>B(j=>j?{...j,branch:A.target.value}:null),className:"w-full bg-white border border-blue-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[m.jsx("option",{value:"CSE",children:"Computer Science Engineering"}),m.jsx("option",{value:"ECE",children:"Electronics & Communication"}),m.jsx("option",{value:"EEE",children:"Electrical & Electronics"}),m.jsx("option",{value:"MECH",children:"Mechanical Engineering"}),m.jsx("option",{value:"CIVIL",children:"Civil Engineering"}),m.jsx("option",{value:"IT",children:"Information Technology"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-blue-800 mb-1",children:"Semester"}),m.jsxs("select",{value:O.semester,onChange:A=>B(j=>j?{...j,semester:A.target.value}:null),className:"w-full bg-white border border-blue-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[m.jsx("option",{value:"1",children:"1st Semester"}),m.jsx("option",{value:"2",children:"2nd Semester"}),m.jsx("option",{value:"3",children:"3rd Semester"}),m.jsx("option",{value:"4",children:"4th Semester"}),m.jsx("option",{value:"5",children:"5th Semester"}),m.jsx("option",{value:"6",children:"6th Semester"}),m.jsx("option",{value:"7",children:"7th Semester"}),m.jsx("option",{value:"8",children:"8th Semester"})]})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsx("button",{onClick:handleCompleteGoogleSignUp,disabled:D,className:"flex-1 bg-blue-900 text-white font-semibold py-2 rounded-lg hover:bg-blue-800 transition-all disabled:opacity-50",children:D?"Completing...":"Complete Registration"}),m.jsx("button",{onClick:()=>B(null),disabled:D,className:"px-4 bg-slate-200 text-slate-600 font-medium py-2 rounded-lg hover:bg-slate-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]}),r==="student"&&m.jsx("div",{className:"mt-6 text-center text-sm",children:a==="login"?m.jsxs("p",{className:"text-slate-500",children:["New student?"," ",m.jsx("button",{onClick:()=>l("register"),className:"text-blue-900 font-bold hover:underline",children:"Register here"})]}):m.jsxs("p",{className:"text-slate-500",children:["Already have an account?"," ",m.jsx("button",{onClick:()=>l("login"),className:"text-blue-900 font-bold hover:underline",children:"Login here"})]})}),r==="admin"&&m.jsxs("div",{className:"mt-6 text-center text-sm",children:[m.jsx("p",{className:"text-slate-500",children:"Only authorized personnel can access admin portal."}),m.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Admin accounts are managed by system administrator."})]})]})]})})]})]})},KU=({setCurrentView:t})=>{const{user:e}=Ar(),{events:n,notes:r}=ro(),s=n.slice(0,2),a=r.slice(0,3);return m.jsxs("div",{className:"space-y-8",children:[m.jsxs(Os.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-900 to-blue-800 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:m.jsx(Pi,{size:120})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("h1",{className:"text-3xl font-bold font-serif mb-2",children:["Welcome back, ",e==null?void 0:e.name,"!"]}),m.jsx("p",{className:"text-blue-100 max-w-xl",children:"You have upcoming exams next week. Don't forget to check the latest study notes uploaded by your peers."}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsx("button",{onClick:()=>t("academics"),className:"bg-amber-500 text-blue-950 px-6 py-2.5 rounded-lg font-bold text-sm hover:bg-amber-400 transition-colors shadow-lg",children:"Go to Academics"}),m.jsx("button",{onClick:()=>t("events"),className:"bg-white/10 backdrop-blur-sm text-white px-6 py-2.5 rounded-lg font-bold text-sm hover:bg-white/20 transition-colors border border-white/20",children:"View Events"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[m.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-blue-600",children:m.jsx(Pi,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Study Notes"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:r.length})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[m.jsx("div",{className:"bg-amber-50 p-3 rounded-lg text-amber-600",children:m.jsx(Ms,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Upcoming Events"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:n.length})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[m.jsx("div",{className:"bg-green-50 p-3 rounded-lg text-green-600",children:m.jsx(i4,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Your Points"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:(e==null?void 0:e.points)||0})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-900 flex items-center gap-2",children:[m.jsx(Ms,{size:20,className:"text-amber-500"}),"Latest Events"]}),m.jsxs("button",{onClick:()=>t("events"),className:"text-sm font-bold text-blue-900 hover:underline flex items-center gap-1",children:["View All ",m.jsx(_u,{size:14})]})]}),m.jsx("div",{className:"space-y-4",children:s.length>0?s.map(l=>m.jsxs("div",{className:"flex gap-4 p-4 rounded-lg bg-slate-50 border border-slate-100 hover:bg-slate-100 transition-colors",children:[m.jsxs("div",{className:"flex-shrink-0 w-16 text-center bg-white rounded-lg border border-slate-200 p-2 flex flex-col justify-center shadow-sm",children:[m.jsx("span",{className:"text-xs font-bold text-amber-500 uppercase",children:new Date(l.date).toLocaleString("default",{month:"short"})}),m.jsx("span",{className:"text-xl font-bold text-slate-900",children:new Date(l.date).getDate()})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-900 line-clamp-1",children:l.title}),m.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:[l.venue,"  ",l.time]}),m.jsx("span",{className:"inline-block px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-bold rounded",children:l.type})]})]},l.id)):m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Ms,{size:32,className:"text-slate-400 mx-auto mb-3"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"No events announced yet"}),m.jsx("p",{className:"text-slate-400 text-xs",children:"Check back later for updates"})]})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-900 flex items-center gap-2",children:[m.jsx(Pi,{size:20,className:"text-blue-500"}),"New Study Material"]}),m.jsxs("button",{onClick:()=>t("academics"),className:"text-sm font-bold text-blue-900 hover:underline flex items-center gap-1",children:["View All ",m.jsx(_u,{size:14})]})]}),m.jsx("div",{className:"space-y-4",children:a.length>0?a.map(l=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-100 hover:bg-slate-50 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-red-50 text-red-500 rounded-lg",children:m.jsx(Pi,{size:20})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-sm text-slate-900 line-clamp-1",children:l.title}),m.jsxs("p",{className:"text-xs text-slate-500",children:[l.subject,"  ",l.uploadedByName]})]})]}),m.jsx("span",{className:"text-xs font-bold text-slate-400",children:l.type})]},l.id)):m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Pi,{size:32,className:"text-slate-400 mx-auto mb-3"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"No study material available"}),m.jsx("p",{className:"text-slate-400 text-xs",children:"Be the first to upload notes!"})]})})]})]})]})};function Hb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YA(...t){return e=>{let n=!1;const r=t.map(s=>{const a=Hb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Hb(t[s],null)}}}}function nn(...t){return P.useCallback(YA(...t),t)}var ra=P.forwardRef((t,e)=>{const{children:n,...r}=t,s=P.Children.toArray(n),a=s.find(YU);if(a){const l=a.props.children,u=s.map(h=>h===a?P.Children.count(l)>1?P.Children.only(null):P.isValidElement(l)?l.props.children:null:h);return m.jsx(_y,{...r,ref:e,children:P.isValidElement(l)?P.cloneElement(l,void 0,u):null})}return m.jsx(_y,{...r,ref:e,children:n})});ra.displayName="Slot";var _y=P.forwardRef((t,e)=>{const{children:n,...r}=t;if(P.isValidElement(n)){const s=JU(n),a=XU(r,n.props);return n.type!==P.Fragment&&(a.ref=e?YA(e,s):s),P.cloneElement(n,a)}return P.Children.count(n)>1?P.Children.only(null):null});_y.displayName="SlotClone";var QU=({children:t})=>m.jsx(m.Fragment,{children:t});function YU(t){return P.isValidElement(t)&&t.type===QU}function XU(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...u)=>{a(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function JU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function XA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=XA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=XA(t))&&(r&&(r+=" "),r+=e);return r}const Wb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qb=JA,p0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=n==null?void 0:n[p],v=a==null?void 0:a[p];if(g===null)return null;const w=Wb(g)||Wb(v);return s[p][w]}),u=n&&Object.entries(n).reduce((p,g)=>{let[v,w]=g;return w===void 0||(p[v]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:w,...b}=g;return Object.entries(b).every(R=>{let[I,C]=R;return Array.isArray(C)?C.includes({...a,...u}[I]):{...a,...u}[I]===C})?[...p,v,w]:p},[]);return qb(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},m0="-",ZU=t=>{const e=t6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(m0);return u[0]===""&&u.length!==1&&u.shift(),ZA(u,e)||e6(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},ZA=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ZA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(m0);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},Gb=/^\[(.+)\]$/,e6=t=>{if(Gb.test(t)){const e=Gb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},t6=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Ey(n[s],r,s,e);return r},Ey=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:Kb(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(n6(s)){Ey(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{Ey(l,Kb(e,a),n,r)})})},Kb=(t,e)=>{let n=t;return e.split(m0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},n6=t=>t.isThemeGetter,r6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},by="!",Ty=":",s6=Ty.length,i6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,u=0,h=0,p;for(let R=0;R<s.length;R++){let I=s[R];if(l===0&&u===0){if(I===Ty){a.push(s.slice(h,R)),h=R+s6;continue}if(I==="/"){p=R;continue}}I==="["?l++:I==="]"?l--:I==="("?u++:I===")"&&u--}const g=a.length===0?s:s.substring(h),v=o6(g),w=v!==g,b=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:b}};if(e){const s=e+Ty,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},o6=t=>t.endsWith(by)?t.substring(0,t.length-1):t.startsWith(by)?t.substring(1):t,a6=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},l6=t=>({cache:r6(t.cacheSize),parseClassName:i6(t),sortModifiers:a6(t),...ZU(t)}),c6=/\s+/,u6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],u=t.trim().split(c6);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:v,modifiers:w,hasImportantModifier:b,baseClassName:R,maybePostfixModifierPosition:I}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let C=!!I,D=r(C?R.substring(0,I):R);if(!D){if(!C){h=g+(h.length>0?" "+h:h);continue}if(D=r(R),!D){h=g+(h.length>0?" "+h:h);continue}C=!1}const L=a(w).join(":"),O=b?L+by:L,B=O+D;if(l.includes(B))continue;l.push(B);const q=s(D,C);for(let X=0;X<q.length;++X){const N=q[X];l.push(O+N)}h=g+(h.length>0?" "+h:h)}return h};function d6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eC(e))&&(r&&(r+=" "),r+=n);return r}const eC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eC(t[r]))&&(n&&(n+=" "),n+=e);return n};function h6(t,...e){let n,r,s,a=l;function l(h){const p=e.reduce((g,v)=>v(g),t());return n=l6(p),r=n.cache.get,s=n.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=u6(h,n);return s(h,g),g}return function(){return a(d6.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,f6=/^\d+\/\d+$/,p6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,y6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ka=t=>f6.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),bi=t=>!!t&&Number.isInteger(Number(t)),pg=t=>t.endsWith("%")&&ze(t.slice(0,-1)),As=t=>p6.test(t),w6=()=>!0,x6=t=>m6.test(t)&&!g6.test(t),rC=()=>!1,_6=t=>y6.test(t),E6=t=>v6.test(t),b6=t=>!we(t)&&!xe(t),T6=t=>Ol(t,oC,rC),we=t=>tC.test(t),jo=t=>Ol(t,aC,x6),mg=t=>Ol(t,R6,ze),Qb=t=>Ol(t,sC,rC),S6=t=>Ol(t,iC,E6),Eh=t=>Ol(t,lC,_6),xe=t=>nC.test(t),Fc=t=>Ll(t,aC),I6=t=>Ll(t,P6),Yb=t=>Ll(t,sC),A6=t=>Ll(t,oC),C6=t=>Ll(t,iC),bh=t=>Ll(t,lC,!0),Ol=(t,e,n)=>{const r=tC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ll=(t,e,n=!1)=>{const r=nC.exec(t);return r?r[1]?e(r[1]):n:!1},sC=t=>t==="position"||t==="percentage",iC=t=>t==="image"||t==="url",oC=t=>t==="length"||t==="size"||t==="bg-size",aC=t=>t==="length",R6=t=>t==="number",P6=t=>t==="family-name",lC=t=>t==="shadow",k6=()=>{const t=Ot("color"),e=Ot("font"),n=Ot("text"),r=Ot("font-weight"),s=Ot("tracking"),a=Ot("leading"),l=Ot("breakpoint"),u=Ot("container"),h=Ot("spacing"),p=Ot("radius"),g=Ot("shadow"),v=Ot("inset-shadow"),w=Ot("text-shadow"),b=Ot("drop-shadow"),R=Ot("blur"),I=Ot("perspective"),C=Ot("aspect"),D=Ot("ease"),L=Ot("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...B(),xe,we],X=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],T=()=>[xe,we,h],A=()=>[Ka,"full","auto",...T()],j=()=>[bi,"none","subgrid",xe,we],U=()=>["auto",{span:["full",bi,xe,we]},bi,xe,we],M=()=>[bi,"auto",xe,we],V=()=>["auto","min","max","fr",xe,we],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],Ee=()=>["auto",...T()],ue=()=>[Ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[t,xe,we],ae=()=>[...B(),Yb,Qb,{position:[xe,we]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",A6,T6,{size:[xe,we]}],ee=()=>[pg,Fc,jo],ye=()=>["","none","full",p,xe,we],ge=()=>["",ze,Fc,jo],Ve=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[ze,pg,Yb,Qb],be=()=>["","none",R,xe,we],ke=()=>["none",ze,xe,we],je=()=>["none",ze,xe,we],Ue=()=>[ze,xe,we],Be=()=>[Ka,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[As],breakpoint:[As],color:[w6],container:[As],"drop-shadow":[As],ease:["in","out","in-out"],font:[b6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[As],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[As],shadow:[As],spacing:["px",ze],text:[As],"text-shadow":[As],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ka,we,xe,C]}],container:["container"],columns:[{columns:[ze,we,xe,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[bi,"auto",xe,we]}],basis:[{basis:[Ka,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Ka,"auto","initial","none",we]}],grow:[{grow:["",ze,xe,we]}],shrink:[{shrink:["",ze,xe,we]}],order:[{order:[bi,"first","last","none",xe,we]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Ee()}],mx:[{mx:Ee()}],my:[{my:Ee()}],ms:[{ms:Ee()}],me:[{me:Ee()}],mt:[{mt:Ee()}],mr:[{mr:Ee()}],mb:[{mb:Ee()}],ml:[{ml:Ee()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[u,"screen",...ue()]}],"min-w":[{"min-w":[u,"screen","none",...ue()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...ue()]}],h:[{h:["screen",...ue()]}],"min-h":[{"min-h":["screen","none",...ue()]}],"max-h":[{"max-h":["screen",...ue()]}],"font-size":[{text:["base",n,Fc,jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,mg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pg,we]}],"font-family":[{font:[I6,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,we]}],"line-clamp":[{"line-clamp":[ze,"none",xe,mg]}],leading:[{leading:[a,...T()]}],"list-image":[{"list-image":["none",xe,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",xe,jo]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[ze,"auto",xe,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bi,xe,we],radial:["",xe,we],conic:[bi,xe,we]},C6,S6]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,xe,we]}],"outline-w":[{outline:["",ze,Fc,jo]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,bh,Eh]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",v,bh,Eh]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[ze,jo]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",w,bh,Eh]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[ze,xe,we]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[xe,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,we]}],filter:[{filter:["","none",xe,we]}],blur:[{blur:be()}],brightness:[{brightness:[ze,xe,we]}],contrast:[{contrast:[ze,xe,we]}],"drop-shadow":[{"drop-shadow":["","none",b,bh,Eh]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",ze,xe,we]}],"hue-rotate":[{"hue-rotate":[ze,xe,we]}],invert:[{invert:["",ze,xe,we]}],saturate:[{saturate:[ze,xe,we]}],sepia:[{sepia:["",ze,xe,we]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,we]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[ze,xe,we]}],"backdrop-contrast":[{"backdrop-contrast":[ze,xe,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,xe,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,xe,we]}],"backdrop-invert":[{"backdrop-invert":["",ze,xe,we]}],"backdrop-opacity":[{"backdrop-opacity":[ze,xe,we]}],"backdrop-saturate":[{"backdrop-saturate":[ze,xe,we]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,xe,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",xe,we]}],ease:[{ease:["linear","initial",D,xe,we]}],delay:[{delay:[ze,xe,we]}],animate:[{animate:["none",L,xe,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,xe,we]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[xe,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,we]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[ze,Fc,jo,mg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},N6=h6(k6);function pn(...t){return N6(JA(t))}const D6=p0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ns({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?ra:"button";return m.jsx(a,{"data-slot":"button",className:pn(D6({variant:e,size:n,className:t})),...s})}function Hh({className:t,type:e,...n}){return m.jsx("input",{type:e,"data-slot":"input",className:pn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Ku=IT();const V6=ST(Ku);var M6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],At=M6.reduce((t,e)=>{const n=P.forwardRef((r,s)=>{const{asChild:a,...l}=r,u=a?ra:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function j6(t,e){t&&Ku.flushSync(()=>t.dispatchEvent(e))}var O6="Label",cC=P.forwardRef((t,e)=>m.jsx(At.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cC.displayName=O6;var L6=cC;function Rs({className:t,...e}){return m.jsx(L6,{"data-slot":"label",className:pn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function ml({className:t,...e}){return m.jsx("div",{"data-slot":"card",className:pn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function g0({className:t,...e}){return m.jsx("div",{"data-slot":"card-header",className:pn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function y0({className:t,...e}){return m.jsx("h4",{"data-slot":"card-title",className:pn("leading-none",t),...e})}function gl({className:t,...e}){return m.jsx("div",{"data-slot":"card-content",className:pn("px-6 [&:last-child]:pb-6",t),...e})}function Xb(t,[e,n]){return Math.min(n,Math.max(e,t))}function Nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function v0(t,e=[]){let n=[];function r(a,l){const u=P.createContext(l),h=n.length;n=[...n,l];const p=v=>{var D;const{scope:w,children:b,...R}=v,I=((D=w==null?void 0:w[t])==null?void 0:D[h])||u,C=P.useMemo(()=>R,Object.values(R));return m.jsx(I.Provider,{value:C,children:b})};p.displayName=a+"Provider";function g(v,w){var I;const b=((I=w==null?void 0:w[t])==null?void 0:I[h])||u,R=P.useContext(b);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,g]}const s=()=>{const a=n.map(l=>P.createContext(l));return function(u){const h=(u==null?void 0:u[t])||a;return P.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,F6(s,...e)]}function F6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...u,...v}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function U6(t){const e=t+"CollectionProvider",[n,r]=v0(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:R,children:I}=b,C=Ti.useRef(null),D=Ti.useRef(new Map).current;return m.jsx(s,{scope:R,itemMap:D,collectionRef:C,children:I})};l.displayName=e;const u=t+"CollectionSlot",h=Ti.forwardRef((b,R)=>{const{scope:I,children:C}=b,D=a(u,I),L=nn(R,D.collectionRef);return m.jsx(ra,{ref:L,children:C})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=Ti.forwardRef((b,R)=>{const{scope:I,children:C,...D}=b,L=Ti.useRef(null),O=nn(R,L),B=a(p,I);return Ti.useEffect(()=>(B.itemMap.set(L,{ref:L,...D}),()=>void B.itemMap.delete(L))),m.jsx(ra,{[g]:"",ref:O,children:C})});v.displayName=p;function w(b){const R=a(t+"CollectionConsumer",b);return Ti.useCallback(()=>{const C=R.collectionRef.current;if(!C)return[];const D=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((B,q)=>D.indexOf(B.ref.current)-D.indexOf(q.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},w,r]}var B6=P.createContext(void 0);function z6(t){const e=P.useContext(B6);return t||e||"ltr"}function $s(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $6(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var H6="DismissableLayer",Sy="dismissableLayer.update",W6="dismissableLayer.pointerDownOutside",q6="dismissableLayer.focusOutside",Jb,uC=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dC=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,p=P.useContext(uC),[g,v]=P.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=P.useState({}),R=nn(e,N=>v(N)),I=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=I.indexOf(C),L=g?I.indexOf(g):-1,O=p.layersWithOutsidePointerEventsDisabled.size>0,B=L>=D,q=Q6(N=>{const T=N.target,A=[...p.branches].some(j=>j.contains(T));!B||A||(s==null||s(N),l==null||l(N),N.defaultPrevented||u==null||u())},w),X=Y6(N=>{const T=N.target;[...p.branches].some(j=>j.contains(T))||(a==null||a(N),l==null||l(N),N.defaultPrevented||u==null||u())},w);return $6(N=>{L===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},w),P.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Jb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Zb(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Jb)}},[g,w,n,p]),P.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Zb())},[g,p]),P.useEffect(()=>{const N=()=>b({});return document.addEventListener(Sy,N),()=>document.removeEventListener(Sy,N)},[]),m.jsx(At.div,{...h,ref:R,style:{pointerEvents:O?B?"auto":"none":void 0,...t.style},onFocusCapture:Nt(t.onFocusCapture,X.onFocusCapture),onBlurCapture:Nt(t.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Nt(t.onPointerDownCapture,q.onPointerDownCapture)})});dC.displayName=H6;var G6="DismissableLayerBranch",K6=P.forwardRef((t,e)=>{const n=P.useContext(uC),r=P.useRef(null),s=nn(e,r);return P.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),m.jsx(At.div,{...t,ref:s})});K6.displayName=G6;function Q6(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){hC(W6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y6(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=P.useRef(!1);return P.useEffect(()=>{const s=a=>{a.target&&!r.current&&hC(q6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zb(){const t=new CustomEvent(Sy);document.dispatchEvent(t)}function hC(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j6(s,a):s.dispatchEvent(a)}var gg=0;function X6(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eT()),document.body.insertAdjacentElement("beforeend",t[1]??eT()),gg++,()=>{gg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gg--}},[])}function eT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yg="focusScope.autoFocusOnMount",vg="focusScope.autoFocusOnUnmount",tT={bubbles:!1,cancelable:!0},J6="FocusScope",fC=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=t,[u,h]=P.useState(null),p=$s(s),g=$s(a),v=P.useRef(null),w=nn(e,I=>h(I)),b=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let I=function(O){if(b.paused||!u)return;const B=O.target;u.contains(B)?v.current=B:Ii(v.current,{select:!0})},C=function(O){if(b.paused||!u)return;const B=O.relatedTarget;B!==null&&(u.contains(B)||Ii(v.current,{select:!0}))},D=function(O){if(document.activeElement===document.body)for(const q of O)q.removedNodes.length>0&&Ii(u)};document.addEventListener("focusin",I),document.addEventListener("focusout",C);const L=new MutationObserver(D);return u&&L.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",C),L.disconnect()}}},[r,u,b.paused]),P.useEffect(()=>{if(u){rT.add(b);const I=document.activeElement;if(!u.contains(I)){const D=new CustomEvent(yg,tT);u.addEventListener(yg,p),u.dispatchEvent(D),D.defaultPrevented||(Z6(s9(pC(u)),{select:!0}),document.activeElement===I&&Ii(u))}return()=>{u.removeEventListener(yg,p),setTimeout(()=>{const D=new CustomEvent(vg,tT);u.addEventListener(vg,g),u.dispatchEvent(D),D.defaultPrevented||Ii(I??document.body,{select:!0}),u.removeEventListener(vg,g),rT.remove(b)},0)}}},[u,p,g,b]);const R=P.useCallback(I=>{if(!n&&!r||b.paused)return;const C=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,D=document.activeElement;if(C&&D){const L=I.currentTarget,[O,B]=e9(L);O&&B?!I.shiftKey&&D===B?(I.preventDefault(),n&&Ii(O,{select:!0})):I.shiftKey&&D===O&&(I.preventDefault(),n&&Ii(B,{select:!0})):D===L&&I.preventDefault()}},[n,r,b.paused]);return m.jsx(At.div,{tabIndex:-1,...l,ref:w,onKeyDown:R})});fC.displayName=J6;function Z6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ii(r,{select:e}),document.activeElement!==n)return}function e9(t){const e=pC(t),n=nT(e,t),r=nT(e.reverse(),t);return[n,r]}function pC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nT(t,e){for(const n of t)if(!t9(n,{upTo:e}))return n}function t9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function n9(t){return t instanceof HTMLInputElement&&"select"in t}function Ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&n9(t)&&e&&t.select()}}var rT=r9();function r9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sT(t,e),t.unshift(e)},remove(e){var n;t=sT(t,e),(n=t[0])==null||n.resume()}}}function sT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function s9(t){return t.filter(e=>e.tagName!=="A")}var Hn=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},i9=OP.useId||(()=>{}),o9=0;function w0(t){const[e,n]=P.useState(i9());return Hn(()=>{n(r=>r??String(o9++))},[t]),t||(e?`radix-${e}`:"")}const a9=["top","right","bottom","left"],Ki=Math.min,Ln=Math.max,Sf=Math.round,Th=Math.floor,rs=t=>({x:t,y:t}),l9={left:"right",right:"left",bottom:"top",top:"bottom"},c9={start:"end",end:"start"};function Iy(t,e,n){return Ln(t,Ki(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function Fl(t){return t.split("-")[1]}function x0(t){return t==="x"?"y":"x"}function _0(t){return t==="y"?"height":"width"}const u9=new Set(["top","bottom"]);function Yr(t){return u9.has(Ws(t))?"y":"x"}function E0(t){return x0(Yr(t))}function d9(t,e,n){n===void 0&&(n=!1);const r=Fl(t),s=E0(t),a=_0(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=If(l)),[l,If(l)]}function h9(t){const e=If(t);return[Ay(t),e,Ay(e)]}function Ay(t){return t.replace(/start|end/g,e=>c9[e])}const iT=["left","right"],oT=["right","left"],f9=["top","bottom"],p9=["bottom","top"];function m9(t,e,n){switch(t){case"top":case"bottom":return n?e?oT:iT:e?iT:oT;case"left":case"right":return e?f9:p9;default:return[]}}function g9(t,e,n,r){const s=Fl(t);let a=m9(Ws(t),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Ay)))),a}function If(t){return t.replace(/left|right|bottom|top/g,e=>l9[e])}function y9(t){return{top:0,right:0,bottom:0,left:0,...t}}function mC(t){return typeof t!="number"?y9(t):{top:t,right:t,bottom:t,left:t}}function Af(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function aT(t,e,n){let{reference:r,floating:s}=t;const a=Yr(e),l=E0(e),u=_0(l),h=Ws(e),p=a==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,w=r[u]/2-s[u]/2;let b;switch(h){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-s.width,y:v};break;default:b={x:r.x,y:r.y}}switch(Fl(e)){case"start":b[l]-=w*(n&&p?-1:1);break;case"end":b[l]+=w*(n&&p?-1:1);break}return b}async function v9(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:w=!1,padding:b=0}=Hs(e,t),R=mC(b),C=u[w?v==="floating"?"reference":"floating":v],D=Af(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),L=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),B=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},q=Af(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:L,offsetParent:O,strategy:h}):L);return{top:(D.top-q.top+R.top)/B.y,bottom:(q.bottom-D.bottom+R.bottom)/B.y,left:(D.left-q.left+R.left)/B.x,right:(q.right-D.right+R.right)/B.x}}const w9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=aT(p,r,h),w=r,b={},R=0;for(let C=0;C<u.length;C++){var I;const{name:D,fn:L}=u[C],{x:O,y:B,data:q,reset:X}=await L({x:g,y:v,initialPlacement:r,placement:w,strategy:s,middlewareData:b,rects:p,platform:{...l,detectOverflow:(I=l.detectOverflow)!=null?I:v9},elements:{reference:t,floating:e}});g=O??g,v=B??v,b={...b,[D]:{...b[D],...q}},X&&R<=50&&(R++,typeof X=="object"&&(X.placement&&(w=X.placement),X.rects&&(p=X.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):X.rects),{x:g,y:v}=aT(p,w,h)),C=-1)}return{x:g,y:v,placement:w,strategy:s,middlewareData:b}},x9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=Hs(t,e)||{};if(p==null)return{};const v=mC(g),w={x:n,y:r},b=E0(s),R=_0(b),I=await l.getDimensions(p),C=b==="y",D=C?"top":"left",L=C?"bottom":"right",O=C?"clientHeight":"clientWidth",B=a.reference[R]+a.reference[b]-w[b]-a.floating[R],q=w[b]-a.reference[b],X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let N=X?X[O]:0;(!N||!await(l.isElement==null?void 0:l.isElement(X)))&&(N=u.floating[O]||a.floating[R]);const T=B/2-q/2,A=N/2-I[R]/2-1,j=Ki(v[D],A),U=Ki(v[L],A),M=j,V=N-I[R]-U,he=N/2-I[R]/2+T,Ie=Iy(M,he,V),Ee=!h.arrow&&Fl(s)!=null&&he!==Ie&&a.reference[R]/2-(he<M?j:U)-I[R]/2<0,ue=Ee?he<M?he-M:he-V:0;return{[b]:w[b]+ue,data:{[b]:Ie,centerOffset:he-Ie-ue,...Ee&&{alignmentOffset:ue}},reset:Ee}}}),_9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:I=!0,...C}=Hs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const D=Ws(s),L=Yr(u),O=Ws(u)===u,B=await(h.isRTL==null?void 0:h.isRTL(p.floating)),q=w||(O||!I?[If(u)]:h9(u)),X=R!=="none";!w&&X&&q.push(...g9(u,I,R,B));const N=[u,...q],T=await h.detectOverflow(e,C),A=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&A.push(T[D]),v){const he=d9(s,l,B);A.push(T[he[0]],T[he[1]])}if(j=[...j,{placement:s,overflows:A}],!A.every(he=>he<=0)){var U,M;const he=(((U=a.flip)==null?void 0:U.index)||0)+1,Ie=N[he];if(Ie&&(!(v==="alignment"?L!==Yr(Ie):!1)||j.every(W=>Yr(W.placement)===L?W.overflows[0]>0:!0)))return{data:{index:he,overflows:j},reset:{placement:Ie}};let Ee=(M=j.filter(ue=>ue.overflows[0]<=0).sort((ue,W)=>ue.overflows[1]-W.overflows[1])[0])==null?void 0:M.placement;if(!Ee)switch(b){case"bestFit":{var V;const ue=(V=j.filter(W=>{if(X){const ae=Yr(W.placement);return ae===L||ae==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ae=>ae>0).reduce((ae,oe)=>ae+oe,0)]).sort((W,ae)=>W[1]-ae[1])[0])==null?void 0:V[0];ue&&(Ee=ue);break}case"initialPlacement":Ee=u;break}if(s!==Ee)return{reset:{placement:Ee}}}return{}}}};function lT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cT(t){return a9.some(e=>t[e]>=0)}const E9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:s="referenceHidden",...a}=Hs(t,e);switch(s){case"referenceHidden":{const l=await r.detectOverflow(e,{...a,elementContext:"reference"}),u=lT(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cT(u)}}}case"escaped":{const l=await r.detectOverflow(e,{...a,altBoundary:!0}),u=lT(l,n.floating);return{data:{escapedOffsets:u,escaped:cT(u)}}}default:return{}}}}},gC=new Set(["left","top"]);async function b9(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ws(n),u=Fl(n),h=Yr(n)==="y",p=gC.has(l)?-1:1,g=a&&h?-1:1,v=Hs(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:R}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof R=="number"&&(b=u==="end"?R*-1:R),h?{x:b*g,y:w*p}:{x:w*p,y:b*g}}const T9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:l,middlewareData:u}=e,h=await b9(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},S9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s,platform:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:D=>{let{x:L,y:O}=D;return{x:L,y:O}}},...p}=Hs(t,e),g={x:n,y:r},v=await a.detectOverflow(e,p),w=Yr(Ws(s)),b=x0(w);let R=g[b],I=g[w];if(l){const D=b==="y"?"top":"left",L=b==="y"?"bottom":"right",O=R+v[D],B=R-v[L];R=Iy(O,R,B)}if(u){const D=w==="y"?"top":"left",L=w==="y"?"bottom":"right",O=I+v[D],B=I-v[L];I=Iy(O,I,B)}const C=h.fn({...e,[b]:R,[w]:I});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[b]:l,[w]:u}}}}}},I9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=Hs(t,e),g={x:n,y:r},v=Yr(s),w=x0(v);let b=g[w],R=g[v];const I=Hs(u,e),C=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(h){const O=w==="y"?"height":"width",B=a.reference[w]-a.floating[O]+C.mainAxis,q=a.reference[w]+a.reference[O]-C.mainAxis;b<B?b=B:b>q&&(b=q)}if(p){var D,L;const O=w==="y"?"width":"height",B=gC.has(Ws(s)),q=a.reference[v]-a.floating[O]+(B&&((D=l.offset)==null?void 0:D[v])||0)+(B?0:C.crossAxis),X=a.reference[v]+a.reference[O]+(B?0:((L=l.offset)==null?void 0:L[v])||0)-(B?C.crossAxis:0);R<q?R=q:R>X&&(R=X)}return{[w]:b,[v]:R}}}},A9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=Hs(t,e),g=await l.detectOverflow(e,p),v=Ws(s),w=Fl(s),b=Yr(s)==="y",{width:R,height:I}=a.floating;let C,D;v==="top"||v==="bottom"?(C=v,D=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=v,C=w==="end"?"top":"bottom");const L=I-g.top-g.bottom,O=R-g.left-g.right,B=Ki(I-g[C],L),q=Ki(R-g[D],O),X=!e.middlewareData.shift;let N=B,T=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=L),X&&!w){const j=Ln(g.left,0),U=Ln(g.right,0),M=Ln(g.top,0),V=Ln(g.bottom,0);b?T=R-2*(j!==0||U!==0?j+U:Ln(g.left,g.right)):N=I-2*(M!==0||V!==0?M+V:Ln(g.top,g.bottom))}await h({...e,availableWidth:T,availableHeight:N});const A=await l.getDimensions(u.floating);return R!==A.width||I!==A.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function Ul(t){return yC(t)?(t.nodeName||"").toLowerCase():"#document"}function $n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ls(t){var e;return(e=(yC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yC(t){return rp()?t instanceof Node||t instanceof $n(t).Node:!1}function Sr(t){return rp()?t instanceof Element||t instanceof $n(t).Element:!1}function os(t){return rp()?t instanceof HTMLElement||t instanceof $n(t).HTMLElement:!1}function uT(t){return!rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $n(t).ShadowRoot}const C9=new Set(["inline","contents"]);function Qu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!C9.has(s)}const R9=new Set(["table","td","th"]);function P9(t){return R9.has(Ul(t))}const k9=[":popover-open",":modal"];function sp(t){return k9.some(e=>{try{return t.matches(e)}catch{return!1}})}const N9=["transform","translate","scale","rotate","perspective"],D9=["transform","translate","scale","rotate","perspective","filter"],V9=["paint","layout","strict","content"];function b0(t){const e=T0(),n=Sr(t)?Ir(t):t;return N9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||D9.some(r=>(n.willChange||"").includes(r))||V9.some(r=>(n.contain||"").includes(r))}function M9(t){let e=Qi(t);for(;os(e)&&!Al(e);){if(b0(e))return e;if(sp(e))return null;e=Qi(e)}return null}function T0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const j9=new Set(["html","body","#document"]);function Al(t){return j9.has(Ul(t))}function Ir(t){return $n(t).getComputedStyle(t)}function ip(t){return Sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qi(t){if(Ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uT(t)&&t.host||ls(t);return uT(e)?e.host:e}function vC(t){const e=Qi(t);return Al(e)?t.ownerDocument?t.ownerDocument.body:t.body:os(e)&&Qu(e)?e:vC(e)}function Au(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=vC(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),l=$n(s);if(a){const u=Cy(l);return e.concat(l,l.visualViewport||[],Qu(s)?s:[],u&&n?Au(u):[])}return e.concat(s,Au(s,[],n))}function Cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wC(t){const e=Ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=os(t),a=s?t.offsetWidth:n,l=s?t.offsetHeight:r,u=Sf(n)!==a||Sf(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function S0(t){return Sr(t)?t:t.contextElement}function yl(t){const e=S0(t);if(!os(e))return rs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=wC(e);let l=(a?Sf(n.width):n.width)/r,u=(a?Sf(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const O9=rs(0);function xC(t){const e=$n(t);return!T0()||!e.visualViewport?O9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$n(t)?!1:e}function sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=S0(t);let l=rs(1);e&&(r?Sr(r)&&(l=yl(r)):l=yl(t));const u=L9(a,n,r)?xC(a):rs(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,v=s.height/l.y;if(a){const w=$n(a),b=r&&Sr(r)?$n(r):r;let R=w,I=Cy(R);for(;I&&r&&b!==R;){const C=yl(I),D=I.getBoundingClientRect(),L=Ir(I),O=D.left+(I.clientLeft+parseFloat(L.paddingLeft))*C.x,B=D.top+(I.clientTop+parseFloat(L.paddingTop))*C.y;h*=C.x,p*=C.y,g*=C.x,v*=C.y,h+=O,p+=B,R=$n(I),I=Cy(R)}}return Af({width:g,height:v,x:h,y:p})}function op(t,e){const n=ip(t).scrollLeft;return e?e.left+n:sa(ls(t)).left+n}function _C(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-op(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function F9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",l=ls(r),u=e?sp(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=rs(1);const g=rs(0),v=os(r);if((v||!v&&!a)&&((Ul(r)!=="body"||Qu(l))&&(h=ip(r)),os(r))){const b=sa(r);p=yl(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const w=l&&!v&&!a?_C(l,h):rs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:n.y*p.y-h.scrollTop*p.y+g.y+w.y}}function U9(t){return Array.from(t.getClientRects())}function B9(t){const e=ls(t),n=ip(t),r=t.ownerDocument.body,s=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+op(t);const u=-n.scrollTop;return Ir(r).direction==="rtl"&&(l+=Ln(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:u}}const dT=25;function z9(t,e){const n=$n(t),r=ls(t),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){a=s.width,l=s.height;const g=T0();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=op(r);if(p<=0){const g=r.ownerDocument,v=g.body,w=getComputedStyle(v),b=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,R=Math.abs(r.clientWidth-v.clientWidth-b);R<=dT&&(a-=R)}else p<=dT&&(a+=p);return{width:a,height:l,x:u,y:h}}const $9=new Set(["absolute","fixed"]);function H9(t,e){const n=sa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=os(t)?yl(t):rs(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=s*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function hT(t,e,n){let r;if(e==="viewport")r=z9(t,n);else if(e==="document")r=B9(ls(t));else if(Sr(e))r=H9(e,n);else{const s=xC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Af(r)}function EC(t,e){const n=Qi(t);return n===e||!Sr(n)||Al(n)?!1:Ir(n).position==="fixed"||EC(n,e)}function W9(t,e){const n=e.get(t);if(n)return n;let r=Au(t,[],!1).filter(u=>Sr(u)&&Ul(u)!=="body"),s=null;const a=Ir(t).position==="fixed";let l=a?Qi(t):t;for(;Sr(l)&&!Al(l);){const u=Ir(l),h=b0(l);!h&&u.position==="fixed"&&(s=null),(a?!h&&!s:!h&&u.position==="static"&&!!s&&$9.has(s.position)||Qu(l)&&!h&&EC(t,l))?r=r.filter(g=>g!==l):s=u,l=Qi(l)}return e.set(t,r),r}function q9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?sp(e)?[]:W9(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,g)=>{const v=hT(e,g,s);return p.top=Ln(v.top,p.top),p.right=Ki(v.right,p.right),p.bottom=Ki(v.bottom,p.bottom),p.left=Ln(v.left,p.left),p},hT(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function G9(t){const{width:e,height:n}=wC(t);return{width:e,height:n}}function K9(t,e,n){const r=os(e),s=ls(e),a=n==="fixed",l=sa(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=rs(0);function p(){h.x=op(s)}if(r||!r&&!a)if((Ul(e)!=="body"||Qu(s))&&(u=ip(e)),r){const b=sa(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else s&&p();a&&!r&&s&&p();const g=s&&!r&&!a?_C(s,u):rs(0),v=l.left+u.scrollLeft-h.x-g.x,w=l.top+u.scrollTop-h.y-g.y;return{x:v,y:w,width:l.width,height:l.height}}function wg(t){return Ir(t).position==="static"}function fT(t,e){if(!os(t)||Ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ls(t)===n&&(n=n.ownerDocument.body),n}function bC(t,e){const n=$n(t);if(sp(t))return n;if(!os(t)){let s=Qi(t);for(;s&&!Al(s);){if(Sr(s)&&!wg(s))return s;s=Qi(s)}return n}let r=fT(t,e);for(;r&&P9(r)&&wg(r);)r=fT(r,e);return r&&Al(r)&&wg(r)&&!b0(r)?n:r||M9(t)||n}const Q9=async function(t){const e=this.getOffsetParent||bC,n=this.getDimensions,r=await n(t.floating);return{reference:K9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y9(t){return Ir(t).direction==="rtl"}const X9={convertOffsetParentRelativeRectToViewportRelativeRect:F9,getDocumentElement:ls,getClippingRect:q9,getOffsetParent:bC,getElementRects:Q9,getClientRects:U9,getDimensions:G9,getScale:yl,isElement:Sr,isRTL:Y9};function TC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J9(t,e){let n=null,r;const s=ls(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:v,width:w,height:b}=p;if(u||e(),!w||!b)return;const R=Th(v),I=Th(s.clientWidth-(g+w)),C=Th(s.clientHeight-(v+b)),D=Th(g),O={rootMargin:-R+"px "+-I+"px "+-C+"px "+-D+"px",threshold:Ln(0,Ki(1,h))||1};let B=!0;function q(X){const N=X[0].intersectionRatio;if(N!==h){if(!B)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!TC(p,t.getBoundingClientRect())&&l(),B=!1}try{n=new IntersectionObserver(q,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,O)}n.observe(t)}return l(!0),a}function Z9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=S0(t),g=s||a?[...p?Au(p):[],...Au(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",n,{passive:!0}),a&&D.addEventListener("resize",n)});const v=p&&u?J9(p,n):null;let w=-1,b=null;l&&(b=new ResizeObserver(D=>{let[L]=D;L&&L.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),n()}),p&&!h&&b.observe(p),b.observe(e));let R,I=h?sa(t):null;h&&C();function C(){const D=sa(t);I&&!TC(I,D)&&n(),I=D,R=requestAnimationFrame(C)}return n(),()=>{var D;g.forEach(L=>{s&&L.removeEventListener("scroll",n),a&&L.removeEventListener("resize",n)}),v==null||v(),(D=b)==null||D.disconnect(),b=null,h&&cancelAnimationFrame(R)}}const eB=T9,tB=S9,nB=_9,rB=A9,sB=E9,pT=x9,iB=I9,oB=(t,e,n)=>{const r=new Map,s={platform:X9,...n},a={...s.platform,_c:r};return w9(t,e,{...s,platform:a})};var aB=typeof document<"u",lB=function(){},Wh=aB?P.useLayoutEffect:lB;function Cf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Cf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Cf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function SC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mT(t,e){const n=SC(t);return Math.round(e*n)/n}function xg(t){const e=P.useRef(t);return Wh(()=>{e.current=t}),e}function cB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[g,v]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=P.useState(r);Cf(w,r)||b(r);const[R,I]=P.useState(null),[C,D]=P.useState(null),L=P.useCallback(W=>{W!==X.current&&(X.current=W,I(W))},[]),O=P.useCallback(W=>{W!==N.current&&(N.current=W,D(W))},[]),B=a||R,q=l||C,X=P.useRef(null),N=P.useRef(null),T=P.useRef(g),A=h!=null,j=xg(h),U=xg(s),M=xg(p),V=P.useCallback(()=>{if(!X.current||!N.current)return;const W={placement:e,strategy:n,middleware:w};U.current&&(W.platform=U.current),oB(X.current,N.current,W).then(ae=>{const oe={...ae,isPositioned:M.current!==!1};he.current&&!Cf(T.current,oe)&&(T.current=oe,Ku.flushSync(()=>{v(oe)}))})},[w,e,n,U,M]);Wh(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,v(W=>({...W,isPositioned:!1})))},[p]);const he=P.useRef(!1);Wh(()=>(he.current=!0,()=>{he.current=!1}),[]),Wh(()=>{if(B&&(X.current=B),q&&(N.current=q),B&&q){if(j.current)return j.current(B,q,V);V()}},[B,q,V,j,A]);const Ie=P.useMemo(()=>({reference:X,floating:N,setReference:L,setFloating:O}),[L,O]),Ee=P.useMemo(()=>({reference:B,floating:q}),[B,q]),ue=P.useMemo(()=>{const W={position:n,left:0,top:0};if(!Ee.floating)return W;const ae=mT(Ee.floating,g.x),oe=mT(Ee.floating,g.y);return u?{...W,transform:"translate("+ae+"px, "+oe+"px)",...SC(Ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:oe}},[n,u,Ee.floating,g.x,g.y]);return P.useMemo(()=>({...g,update:V,refs:Ie,elements:Ee,floatingStyles:ue}),[g,V,Ie,Ee,ue])}const uB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pT({element:r.current,padding:s}).fn(n):{}:r?pT({element:r,padding:s}).fn(n):{}}}},dB=(t,e)=>({...eB(t),options:[t,e]}),hB=(t,e)=>({...tB(t),options:[t,e]}),fB=(t,e)=>({...iB(t),options:[t,e]}),pB=(t,e)=>({...nB(t),options:[t,e]}),mB=(t,e)=>({...rB(t),options:[t,e]}),gB=(t,e)=>({...sB(t),options:[t,e]}),yB=(t,e)=>({...uB(t),options:[t,e]});var vB="Arrow",IC=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return m.jsx(At.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});IC.displayName=vB;var wB=IC;function xB(t){const[e,n]=P.useState(void 0);return Hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var I0="Popper",[AC,CC]=v0(I0),[_B,RC]=AC(I0),PC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=P.useState(null);return m.jsx(_B,{scope:e,anchor:r,onAnchorChange:s,children:n})};PC.displayName=I0;var kC="PopperAnchor",NC=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=RC(kC,n),l=P.useRef(null),u=nn(e,l);return P.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.jsx(At.div,{...s,ref:u})});NC.displayName=kC;var A0="PopperContent",[EB,bB]=AC(A0),DC=P.forwardRef((t,e)=>{var ie,be,ke,je,Ue,Be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:R,...I}=t,C=RC(A0,n),[D,L]=P.useState(null),O=nn(e,vt=>L(vt)),[B,q]=P.useState(null),X=xB(B),N=(X==null?void 0:X.width)??0,T=(X==null?void 0:X.height)??0,A=r+(a!=="center"?"-"+a:""),j=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],M=U.length>0,V={padding:j,boundary:U.filter(SB),altBoundary:M},{refs:he,floatingStyles:Ie,placement:Ee,isPositioned:ue,middlewareData:W}=cB({strategy:"fixed",placement:A,whileElementsMounted:(...vt)=>Z9(...vt,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[dB({mainAxis:s+T,alignmentAxis:l}),h&&hB({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?fB():void 0,...V}),h&&pB({...V}),mB({...V,apply:({elements:vt,rects:Wt,availableWidth:Cr,availableHeight:Wn})=>{const{width:Cn,height:ao}=Wt.reference,it=vt.floating.style;it.setProperty("--radix-popper-available-width",`${Cr}px`),it.setProperty("--radix-popper-available-height",`${Wn}px`),it.setProperty("--radix-popper-anchor-width",`${Cn}px`),it.setProperty("--radix-popper-anchor-height",`${ao}px`)}}),B&&yB({element:B,padding:u}),IB({arrowWidth:N,arrowHeight:T}),w&&gB({strategy:"referenceHidden",...V})]}),[ae,oe]=jC(Ee),H=$s(R);Hn(()=>{ue&&(H==null||H())},[ue,H]);const ee=(ie=W.arrow)==null?void 0:ie.x,ye=(be=W.arrow)==null?void 0:be.y,ge=((ke=W.arrow)==null?void 0:ke.centerOffset)!==0,[Ve,Me]=P.useState();return Hn(()=>{D&&Me(window.getComputedStyle(D).zIndex)},[D]),m.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:ue?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(je=W.transformOrigin)==null?void 0:je.x,(Ue=W.transformOrigin)==null?void 0:Ue.y].join(" "),...((Be=W.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(EB,{scope:n,placedSide:ae,onArrowChange:q,arrowX:ee,arrowY:ye,shouldHideArrow:ge,children:m.jsx(At.div,{"data-side":ae,"data-align":oe,...I,ref:O,style:{...I.style,animation:ue?void 0:"none"}})})})});DC.displayName=A0;var VC="PopperArrow",TB={top:"bottom",right:"left",bottom:"top",left:"right"},MC=P.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=bB(VC,r),l=TB[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(wB,{...s,ref:n,style:{...s.style,display:"block"}})})});MC.displayName=VC;function SB(t){return t!==null}var IB=t=>({name:"transformOrigin",options:t,fn(e){var C,D,L;const{placement:n,rects:r,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,g]=jC(n),v={start:"0%",center:"50%",end:"100%"}[g],w=(((D=s.arrow)==null?void 0:D.x)??0)+u/2,b=(((L=s.arrow)==null?void 0:L.y)??0)+h/2;let R="",I="";return p==="bottom"?(R=l?v:`${w}px`,I=`${-h}px`):p==="top"?(R=l?v:`${w}px`,I=`${r.floating.height+h}px`):p==="right"?(R=`${-h}px`,I=l?v:`${b}px`):p==="left"&&(R=`${r.floating.width+h}px`,I=l?v:`${b}px`),{data:{x:R,y:I}}}});function jC(t){const[e,n="center"]=t.split("-");return[e,n]}var AB=PC,CB=NC,RB=DC,PB=MC,kB="Portal",OC=P.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,a]=P.useState(!1);Hn(()=>a(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?V6.createPortal(m.jsx(At.div,{...r,ref:e}),l):null});OC.displayName=kB;function gT({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=NB({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,u=$s(n),h=P.useCallback(p=>{if(a){const v=typeof p=="function"?p(t):p;v!==t&&u(v)}else s(p)},[a,t,s,u]);return[l,h]}function NB({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,s=P.useRef(r),a=$s(e);return P.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function DB(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var VB="VisuallyHidden",LC=P.forwardRef((t,e)=>m.jsx(At.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));LC.displayName=VB;var MB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qa=new WeakMap,Sh=new WeakMap,Ih={},_g=0,FC=function(t){return t&&(t.host||FC(t.parentNode))},jB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OB=function(t,e,n,r){var s=jB(e,Array.isArray(t)?t:[t]);Ih[n]||(Ih[n]=new WeakMap);var a=Ih[n],l=[],u=new Set,h=new Set(s),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};s.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(u.has(w))g(w);else try{var b=w.getAttribute(r),R=b!==null&&b!=="false",I=(Qa.get(w)||0)+1,C=(a.get(w)||0)+1;Qa.set(w,I),a.set(w,C),l.push(w),I===1&&R&&Sh.set(w,!0),C===1&&w.setAttribute(n,"true"),R||w.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",w,D)}})};return g(e),u.clear(),_g++,function(){l.forEach(function(v){var w=Qa.get(v)-1,b=a.get(v)-1;Qa.set(v,w),a.set(v,b),w||(Sh.has(v)||v.removeAttribute(r),Sh.delete(v)),b||v.removeAttribute(n)}),_g--,_g||(Qa=new WeakMap,Qa=new WeakMap,Sh=new WeakMap,Ih={})}},LB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=MB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),OB(r,s,n,"aria-hidden")):function(){return null}},Qr=function(){return Qr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qr.apply(this,arguments)};function UC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var qh="right-scroll-bar-position",Gh="width-before-scroll-bar",UB="with-scroll-bars-hidden",BB="--removed-body-scroll-bar-size";function Eg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function zB(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var $B=typeof window<"u"?P.useLayoutEffect:P.useEffect,yT=new WeakMap;function HB(t,e){var n=zB(null,function(r){return t.forEach(function(s){return Eg(s,r)})});return $B(function(){var r=yT.get(n);if(r){var s=new Set(r),a=new Set(t),l=n.current;s.forEach(function(u){a.has(u)||Eg(u,null)}),a.forEach(function(u){s.has(u)||Eg(u,l)})}yT.set(n,t)},[t]),n}function WB(t){return t}function qB(t,e){e===void 0&&(e=WB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var g=l;l=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return s}function GB(t){t===void 0&&(t={});var e=qB(null);return e.options=Qr({async:!0,ssr:!1},t),e}var BC=function(t){var e=t.sideCar,n=UC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Qr({},n))};BC.isSideCarExport=!0;function KB(t,e){return t.useMedium(e),BC}var zC=GB(),bg=function(){},ap=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:bg,onWheelCapture:bg,onTouchMoveCapture:bg}),s=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,w=t.sideCar,b=t.noRelative,R=t.noIsolation,I=t.inert,C=t.allowPinchZoom,D=t.as,L=D===void 0?"div":D,O=t.gapMode,B=UC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=w,X=HB([n,e]),N=Qr(Qr({},B),s);return P.createElement(P.Fragment,null,g&&P.createElement(q,{sideCar:zC,removeScrollBar:p,shards:v,noRelative:b,noIsolation:R,inert:I,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:O}),l?P.cloneElement(P.Children.only(u),Qr(Qr({},N),{ref:X})):P.createElement(L,Qr({},N,{className:h,ref:X}),u))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Gh,zeroRight:qh};var QB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QB();return e&&t.setAttribute("nonce",e),t}function XB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function JB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ZB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=YB())&&(XB(e,n),JB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ez=function(){var t=ZB();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$C=function(){var t=ez(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},tz={left:0,top:0,right:0,gap:0},Tg=function(t){return parseInt(t||"",10)||0},nz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tg(n),Tg(r),Tg(s)]},rz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tz;var e=nz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},sz=$C(),vl="data-scroll-locked",iz=function(t,e,n,r){var s=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(UB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(vl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(qh," .").concat(qh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gh," .").concat(Gh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vl,`] {
    `).concat(BB,": ").concat(u,`px;
  }
`)},vT=function(){var t=parseInt(document.body.getAttribute(vl)||"0",10);return isFinite(t)?t:0},oz=function(){P.useEffect(function(){return document.body.setAttribute(vl,(vT()+1).toString()),function(){var t=vT()-1;t<=0?document.body.removeAttribute(vl):document.body.setAttribute(vl,t.toString())}},[])},az=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;oz();var a=P.useMemo(function(){return rz(s)},[s]);return P.createElement(sz,{styles:iz(a,!e,s,n?"":"!important")})},Ry=!1;if(typeof window<"u")try{var Ah=Object.defineProperty({},"passive",{get:function(){return Ry=!0,!0}});window.addEventListener("test",Ah,Ah),window.removeEventListener("test",Ah,Ah)}catch{Ry=!1}var Ya=Ry?{passive:!1}:!1,lz=function(t){return t.tagName==="TEXTAREA"},HC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lz(t)&&n[e]==="visible")},cz=function(t){return HC(t,"overflowY")},uz=function(t){return HC(t,"overflowX")},wT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=WC(t,r);if(s){var a=qC(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},hz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},WC=function(t,e){return t==="v"?cz(e):uz(e)},qC=function(t,e){return t==="v"?dz(e):hz(e)},fz=function(t,e){return t==="h"&&e==="rtl"?-1:1},pz=function(t,e,n,r,s){var a=fz(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),p=!1,g=l>0,v=0,w=0;do{if(!u)break;var b=qC(t,u),R=b[0],I=b[1],C=b[2],D=I-C-a*R;(R||D)&&WC(t,u)&&(v+=D,w+=R);var L=u.parentNode;u=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Ch=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xT=function(t){return[t.deltaX,t.deltaY]},_T=function(t){return t&&"current"in t?t.current:t},mz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yz=0,Xa=[];function vz(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),s=P.useState(yz++)[0],a=P.useState($C)[0],l=P.useRef(t);P.useEffect(function(){l.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var I=FB([t.lockRef.current],(t.shards||[]).map(_T),!0).filter(Boolean);return I.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),I.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=P.useCallback(function(I,C){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var D=Ch(I),L=n.current,O="deltaX"in I?I.deltaX:L[0]-D[0],B="deltaY"in I?I.deltaY:L[1]-D[1],q,X=I.target,N=Math.abs(O)>Math.abs(B)?"h":"v";if("touches"in I&&N==="h"&&X.type==="range")return!1;var T=window.getSelection(),A=T&&T.anchorNode,j=A?A===X||A.contains(X):!1;if(j)return!1;var U=wT(N,X);if(!U)return!0;if(U?q=N:(q=N==="v"?"h":"v",U=wT(N,X)),!U)return!1;if(!r.current&&"changedTouches"in I&&(O||B)&&(r.current=q),!q)return!0;var M=r.current||q;return pz(M,C,I,M==="h"?O:B)},[]),h=P.useCallback(function(I){var C=I;if(!(!Xa.length||Xa[Xa.length-1]!==a)){var D="deltaY"in C?xT(C):Ch(C),L=e.current.filter(function(q){return q.name===C.type&&(q.target===C.target||C.target===q.shadowParent)&&mz(q.delta,D)})[0];if(L&&L.should){C.cancelable&&C.preventDefault();return}if(!L){var O=(l.current.shards||[]).map(_T).filter(Boolean).filter(function(q){return q.contains(C.target)}),B=O.length>0?u(C,O[0]):!l.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),p=P.useCallback(function(I,C,D,L){var O={name:I,delta:C,target:D,should:L,shadowParent:wz(D)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(B){return B!==O})},1)},[]),g=P.useCallback(function(I){n.current=Ch(I),r.current=void 0},[]),v=P.useCallback(function(I){p(I.type,xT(I),I.target,u(I,t.lockRef.current))},[]),w=P.useCallback(function(I){p(I.type,Ch(I),I.target,u(I,t.lockRef.current))},[]);P.useEffect(function(){return Xa.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Ya),document.addEventListener("touchmove",h,Ya),document.addEventListener("touchstart",g,Ya),function(){Xa=Xa.filter(function(I){return I!==a}),document.removeEventListener("wheel",h,Ya),document.removeEventListener("touchmove",h,Ya),document.removeEventListener("touchstart",g,Ya)}},[]);var b=t.removeScrollBar,R=t.inert;return P.createElement(P.Fragment,null,R?P.createElement(a,{styles:gz(s)}):null,b?P.createElement(az,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xz=KB(zC,vz);var GC=P.forwardRef(function(t,e){return P.createElement(ap,Qr({},t,{ref:e,sideCar:xz}))});GC.classNames=ap.classNames;var _z=[" ","Enter","ArrowUp","ArrowDown"],Ez=[" ","Enter"],Yu="Select",[lp,cp,bz]=U6(Yu),[Bl]=v0(Yu,[bz,CC]),up=CC(),[Tz,io]=Bl(Yu),[Sz,Iz]=Bl(Yu),KC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:g,autoComplete:v,disabled:w,required:b,form:R}=t,I=up(e),[C,D]=P.useState(null),[L,O]=P.useState(null),[B,q]=P.useState(!1),X=z6(p),[N=!1,T]=gT({prop:r,defaultProp:s,onChange:a}),[A,j]=gT({prop:l,defaultProp:u,onChange:h}),U=P.useRef(null),M=C?R||!!C.closest("form"):!0,[V,he]=P.useState(new Set),Ie=Array.from(V).map(Ee=>Ee.props.value).join(";");return m.jsx(AB,{...I,children:m.jsxs(Tz,{required:b,scope:e,trigger:C,onTriggerChange:D,valueNode:L,onValueNodeChange:O,valueNodeHasChildren:B,onValueNodeHasChildrenChange:q,contentId:w0(),value:A,onValueChange:j,open:N,onOpenChange:T,dir:X,triggerPointerDownPosRef:U,disabled:w,children:[m.jsx(lp.Provider,{scope:e,children:m.jsx(Sz,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(Ee=>{he(ue=>new Set(ue).add(Ee))},[]),onNativeOptionRemove:P.useCallback(Ee=>{he(ue=>{const W=new Set(ue);return W.delete(Ee),W})},[]),children:n})}),M?m.jsxs(yR,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:A,onChange:Ee=>j(Ee.target.value),disabled:w,form:R,children:[A===void 0?m.jsx("option",{value:""}):null,Array.from(V)]},Ie):null]})})};KC.displayName=Yu;var QC="SelectTrigger",YC=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=up(n),l=io(QC,n),u=l.disabled||r,h=nn(e,l.onTriggerChange),p=cp(n),g=P.useRef("touch"),[v,w,b]=vR(I=>{const C=p().filter(O=>!O.disabled),D=C.find(O=>O.value===l.value),L=wR(C,I,D);L!==void 0&&l.onValueChange(L.value)}),R=I=>{u||(l.onOpenChange(!0),b()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return m.jsx(CB,{asChild:!0,...a,children:m.jsx(At.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":gR(l.value)?"":void 0,...s,ref:h,onClick:Nt(s.onClick,I=>{I.currentTarget.focus(),g.current!=="mouse"&&R(I)}),onPointerDown:Nt(s.onPointerDown,I=>{g.current=I.pointerType;const C=I.target;C.hasPointerCapture(I.pointerId)&&C.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(R(I),I.preventDefault())}),onKeyDown:Nt(s.onKeyDown,I=>{const C=v.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&w(I.key),!(C&&I.key===" ")&&_z.includes(I.key)&&(R(),I.preventDefault())})})})});YC.displayName=QC;var XC="SelectValue",JC=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...u}=t,h=io(XC,n),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,v=nn(e,h.onValueNodeChange);return Hn(()=>{p(g)},[p,g]),m.jsx(At.span,{...u,ref:v,style:{pointerEvents:"none"},children:gR(h.value)?m.jsx(m.Fragment,{children:l}):a})});JC.displayName=XC;var Az="SelectIcon",ZC=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.jsx(At.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ZC.displayName=Az;var Cz="SelectPortal",eR=t=>m.jsx(OC,{asChild:!0,...t});eR.displayName=Cz;var ia="SelectContent",tR=P.forwardRef((t,e)=>{const n=io(ia,t.__scopeSelect),[r,s]=P.useState();if(Hn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Ku.createPortal(m.jsx(nR,{scope:t.__scopeSelect,children:m.jsx(lp.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),a):null}return m.jsx(rR,{...t,ref:e})});tR.displayName=ia;var wr=10,[nR,oo]=Bl(ia),Rz="SelectContentImpl",rR=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:R,hideWhenDetached:I,avoidCollisions:C,...D}=t,L=io(ia,n),[O,B]=P.useState(null),[q,X]=P.useState(null),N=nn(e,ie=>B(ie)),[T,A]=P.useState(null),[j,U]=P.useState(null),M=cp(n),[V,he]=P.useState(!1),Ie=P.useRef(!1);P.useEffect(()=>{if(O)return LB(O)},[O]),X6();const Ee=P.useCallback(ie=>{const[be,...ke]=M().map(Be=>Be.ref.current),[je]=ke.slice(-1),Ue=document.activeElement;for(const Be of ie)if(Be===Ue||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===be&&q&&(q.scrollTop=0),Be===je&&q&&(q.scrollTop=q.scrollHeight),Be==null||Be.focus(),document.activeElement!==Ue))return},[M,q]),ue=P.useCallback(()=>Ee([T,O]),[Ee,T,O]);P.useEffect(()=>{V&&ue()},[V,ue]);const{onOpenChange:W,triggerPointerDownPosRef:ae}=L;P.useEffect(()=>{if(O){let ie={x:0,y:0};const be=je=>{var Ue,Be;ie={x:Math.abs(Math.round(je.pageX)-(((Ue=ae.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Be=ae.current)==null?void 0:Be.y)??0))}},ke=je=>{ie.x<=10&&ie.y<=10?je.preventDefault():O.contains(je.target)||W(!1),document.removeEventListener("pointermove",be),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ke,{capture:!0})}}},[O,W,ae]),P.useEffect(()=>{const ie=()=>W(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[W]);const[oe,H]=vR(ie=>{const be=M().filter(Ue=>!Ue.disabled),ke=be.find(Ue=>Ue.ref.current===document.activeElement),je=wR(be,ie,ke);je&&setTimeout(()=>je.ref.current.focus())}),ee=P.useCallback((ie,be,ke)=>{const je=!Ie.current&&!ke;(L.value!==void 0&&L.value===be||je)&&(A(ie),je&&(Ie.current=!0))},[L.value]),ye=P.useCallback(()=>O==null?void 0:O.focus(),[O]),ge=P.useCallback((ie,be,ke)=>{const je=!Ie.current&&!ke;(L.value!==void 0&&L.value===be||je)&&U(ie)},[L.value]),Ve=r==="popper"?Py:sR,Me=Ve===Py?{side:u,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:R,hideWhenDetached:I,avoidCollisions:C}:{};return m.jsx(nR,{scope:n,content:O,viewport:q,onViewportChange:X,itemRefCallback:ee,selectedItem:T,onItemLeave:ye,itemTextRefCallback:ge,focusSelectedItem:ue,selectedItemText:j,position:r,isPositioned:V,searchRef:oe,children:m.jsx(GC,{as:ra,allowPinchZoom:!0,children:m.jsx(fC,{asChild:!0,trapped:L.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Nt(s,ie=>{var be;(be=L.trigger)==null||be.focus({preventScroll:!0}),ie.preventDefault()}),children:m.jsx(dC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:m.jsx(Ve,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ie=>ie.preventDefault(),...D,...Me,onPlaced:()=>he(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Nt(D.onKeyDown,ie=>{const be=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!be&&ie.key.length===1&&H(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let je=M().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ue=ie.target,Be=je.indexOf(Ue);je=je.slice(Be+1)}setTimeout(()=>Ee(je)),ie.preventDefault()}})})})})})})});rR.displayName=Rz;var Pz="SelectItemAlignedPosition",sR=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=io(ia,n),l=oo(ia,n),[u,h]=P.useState(null),[p,g]=P.useState(null),v=nn(e,N=>g(N)),w=cp(n),b=P.useRef(!1),R=P.useRef(!0),{viewport:I,selectedItem:C,selectedItemText:D,focusSelectedItem:L}=l,O=P.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&I&&C&&D){const N=a.trigger.getBoundingClientRect(),T=p.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),j=D.getBoundingClientRect();if(a.dir!=="rtl"){const Ue=j.left-T.left,Be=A.left-Ue,vt=N.left-Be,Wt=N.width+vt,Cr=Math.max(Wt,T.width),Wn=window.innerWidth-wr,Cn=Xb(Be,[wr,Math.max(wr,Wn-Cr)]);u.style.minWidth=Wt+"px",u.style.left=Cn+"px"}else{const Ue=T.right-j.right,Be=window.innerWidth-A.right-Ue,vt=window.innerWidth-N.right-Be,Wt=N.width+vt,Cr=Math.max(Wt,T.width),Wn=window.innerWidth-wr,Cn=Xb(Be,[wr,Math.max(wr,Wn-Cr)]);u.style.minWidth=Wt+"px",u.style.right=Cn+"px"}const U=w(),M=window.innerHeight-wr*2,V=I.scrollHeight,he=window.getComputedStyle(p),Ie=parseInt(he.borderTopWidth,10),Ee=parseInt(he.paddingTop,10),ue=parseInt(he.borderBottomWidth,10),W=parseInt(he.paddingBottom,10),ae=Ie+Ee+V+W+ue,oe=Math.min(C.offsetHeight*5,ae),H=window.getComputedStyle(I),ee=parseInt(H.paddingTop,10),ye=parseInt(H.paddingBottom,10),ge=N.top+N.height/2-wr,Ve=M-ge,Me=C.offsetHeight/2,ie=C.offsetTop+Me,be=Ie+Ee+ie,ke=ae-be;if(be<=ge){const Ue=U.length>0&&C===U[U.length-1].ref.current;u.style.bottom="0px";const Be=p.clientHeight-I.offsetTop-I.offsetHeight,vt=Math.max(Ve,Me+(Ue?ye:0)+Be+ue),Wt=be+vt;u.style.height=Wt+"px"}else{const Ue=U.length>0&&C===U[0].ref.current;u.style.top="0px";const vt=Math.max(ge,Ie+I.offsetTop+(Ue?ee:0)+Me)+ke;u.style.height=vt+"px",I.scrollTop=be-ge+I.offsetTop}u.style.margin=`${wr}px 0`,u.style.minHeight=oe+"px",u.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[w,a.trigger,a.valueNode,u,p,I,C,D,a.dir,r]);Hn(()=>O(),[O]);const[B,q]=P.useState();Hn(()=>{p&&q(window.getComputedStyle(p).zIndex)},[p]);const X=P.useCallback(N=>{N&&R.current===!0&&(O(),L==null||L(),R.current=!1)},[O,L]);return m.jsx(Nz,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:X,children:m.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:m.jsx(At.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});sR.displayName=Pz;var kz="SelectPopperPosition",Py=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=wr,...a}=t,l=up(n);return m.jsx(RB,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Py.displayName=kz;var[Nz,C0]=Bl(ia,{}),ky="SelectViewport",iR=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=oo(ky,n),l=C0(ky,n),u=nn(e,a.onViewportChange),h=P.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(lp.Slot,{scope:n,children:m.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Nt(s.onScroll,p=>{const g=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&v){const b=Math.abs(h.current-g.scrollTop);if(b>0){const R=window.innerHeight-wr*2,I=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),D=Math.max(I,C);if(D<R){const L=D+b,O=Math.min(R,L),B=L-O;v.style.height=O+"px",v.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,v.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});iR.displayName=ky;var oR="SelectGroup",[Dz,Vz]=Bl(oR),Mz=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=w0();return m.jsx(Dz,{scope:n,id:s,children:m.jsx(At.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Mz.displayName=oR;var aR="SelectLabel",jz=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vz(aR,n);return m.jsx(At.div,{id:s.id,...r,ref:e})});jz.displayName=aR;var Rf="SelectItem",[Oz,lR]=Bl(Rf),cR=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=t,u=io(Rf,n),h=oo(Rf,n),p=u.value===r,[g,v]=P.useState(a??""),[w,b]=P.useState(!1),R=nn(e,L=>{var O;return(O=h.itemRefCallback)==null?void 0:O.call(h,L,r,s)}),I=w0(),C=P.useRef("touch"),D=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Oz,{scope:n,value:r,disabled:s,textId:I,isSelected:p,onItemTextChange:P.useCallback(L=>{v(O=>O||((L==null?void 0:L.textContent)??"").trim())},[]),children:m.jsx(lp.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:m.jsx(At.div,{role:"option","aria-labelledby":I,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:R,onFocus:Nt(l.onFocus,()=>b(!0)),onBlur:Nt(l.onBlur,()=>b(!1)),onClick:Nt(l.onClick,()=>{C.current!=="mouse"&&D()}),onPointerUp:Nt(l.onPointerUp,()=>{C.current==="mouse"&&D()}),onPointerDown:Nt(l.onPointerDown,L=>{C.current=L.pointerType}),onPointerMove:Nt(l.onPointerMove,L=>{var O;C.current=L.pointerType,s?(O=h.onItemLeave)==null||O.call(h):C.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(l.onPointerLeave,L=>{var O;L.currentTarget===document.activeElement&&((O=h.onItemLeave)==null||O.call(h))}),onKeyDown:Nt(l.onKeyDown,L=>{var B;((B=h.searchRef)==null?void 0:B.current)!==""&&L.key===" "||(Ez.includes(L.key)&&D(),L.key===" "&&L.preventDefault())})})})})});cR.displayName=Rf;var Kc="SelectItemText",uR=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,l=io(Kc,n),u=oo(Kc,n),h=lR(Kc,n),p=Iz(Kc,n),[g,v]=P.useState(null),w=nn(e,D=>v(D),h.onItemTextChange,D=>{var L;return(L=u.itemTextRefCallback)==null?void 0:L.call(u,D,h.value,h.disabled)}),b=g==null?void 0:g.textContent,R=P.useMemo(()=>m.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:I,onNativeOptionRemove:C}=p;return Hn(()=>(I(R),()=>C(R)),[I,C,R]),m.jsxs(m.Fragment,{children:[m.jsx(At.span,{id:h.textId,...a,ref:w}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ku.createPortal(a.children,l.valueNode):null]})});uR.displayName=Kc;var dR="SelectItemIndicator",hR=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return lR(dR,n).isSelected?m.jsx(At.span,{"aria-hidden":!0,...r,ref:e}):null});hR.displayName=dR;var Ny="SelectScrollUpButton",fR=P.forwardRef((t,e)=>{const n=oo(Ny,t.__scopeSelect),r=C0(Ny,t.__scopeSelect),[s,a]=P.useState(!1),l=nn(e,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?m.jsx(mR,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});fR.displayName=Ny;var Dy="SelectScrollDownButton",pR=P.forwardRef((t,e)=>{const n=oo(Dy,t.__scopeSelect),r=C0(Dy,t.__scopeSelect),[s,a]=P.useState(!1),l=nn(e,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?m.jsx(mR,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});pR.displayName=Dy;var mR=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=oo("SelectScrollButton",n),l=P.useRef(null),u=cp(n),h=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>h(),[h]),Hn(()=>{var g;const p=u().find(v=>v.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),m.jsx(At.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Nt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Nt(s.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Nt(s.onPointerLeave,()=>{h()})})}),Lz="SelectSeparator",Fz=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(At.div,{"aria-hidden":!0,...r,ref:e})});Fz.displayName=Lz;var Vy="SelectArrow",Uz=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=up(n),a=io(Vy,n),l=oo(Vy,n);return a.open&&l.position==="popper"?m.jsx(PB,{...s,...r,ref:e}):null});Uz.displayName=Vy;function gR(t){return t===""||t===void 0}var yR=P.forwardRef((t,e)=>{const{value:n,...r}=t,s=P.useRef(null),a=nn(e,s),l=DB(n);return P.useEffect(()=>{const u=s.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==n&&g){const v=new Event("change",{bubbles:!0});g.call(u,n),u.dispatchEvent(v)}},[l,n]),m.jsx(LC,{asChild:!0,children:m.jsx("select",{...r,ref:a,defaultValue:n})})});yR.displayName="BubbleSelect";function vR(t){const e=$s(t),n=P.useRef(""),r=P.useRef(0),s=P.useCallback(l=>{const u=n.current+l;e(u),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),a=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function wR(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=Bz(t,Math.max(a,0));s.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function Bz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zz=KC,$z=YC,Hz=JC,Wz=ZC,qz=eR,Gz=tR,Kz=iR,Qz=cR,Yz=uR,Xz=hR,Jz=fR,Zz=pR;function au({...t}){return m.jsx(zz,{"data-slot":"select",...t})}function lu({...t}){return m.jsx(Hz,{"data-slot":"select-value",...t})}function cu({className:t,size:e="default",children:n,...r}){return m.jsxs($z,{"data-slot":"select-trigger","data-size":e,className:pn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,m.jsx(Wz,{asChild:!0,children:m.jsx(uI,{className:"size-4 opacity-50"})})]})}function uu({className:t,children:e,position:n="popper",...r}){return m.jsx(qz,{children:m.jsxs(Gz,{"data-slot":"select-content",className:pn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(e8,{}),m.jsx(Kz,{className:pn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(t8,{})]})})}function Wo({className:t,children:e,...n}){return m.jsxs(Qz,{"data-slot":"select-item",className:pn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(Xz,{children:m.jsx(cI,{className:"size-4"})})}),m.jsx(Yz,{children:e})]})}function e8({className:t,...e}){return m.jsx(Jz,{"data-slot":"select-scroll-up-button",className:pn("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(xL,{className:"size-4"})})}function t8({className:t,...e}){return m.jsx(Zz,{"data-slot":"select-scroll-down-button",className:pn("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(uI,{className:"size-4"})})}const n8=p0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Cu({className:t,variant:e,...n}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:pn(n8({variant:e}),t),...n})}function Ru({className:t,...e}){return m.jsx("div",{"data-slot":"alert-description",className:pn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const r8=["CSE","ECE","MECH","CIVIL","EEE","IT","CHEMICAL","BIOTECH","AERONAUTICAL","AUTOMOBILE","MINING","METALLURGY","TEXTILE","FOOD TECHNOLOGY","ENVIRONMENTAL","MARINE","PETROLEUM","INSTRUMENTATION","PRODUCTION","INDUSTRIAL","AGRICULTURAL","FORESTRY"],s8=["1st","2nd","3rd","4th","5th","6th","7th","8th","1","2","3","4","5","6","7","8","I","II","III","IV","V","VI","VII","VIII"],i8=["Mathematics","Physics","Chemistry","English","Programming","Data Structures","Algorithms","Database Systems","Computer Networks","Operating Systems","Software Engineering","Machine Learning","Web Development","Mobile Development","Digital Electronics","Microprocessors","Communication Systems","Signal Processing","Control Systems","Power Systems","Thermodynamics","Fluid Mechanics","Structural Analysis","Concrete Technology","Surveying","Geotechnical Engineering","Environmental Engineering"],xR=({onUploadSuccess:t,allowedBranches:e=r8,allowedSemesters:n=s8})=>{const{user:r,userData:s}=Ar(),[a,l]=P.useState({title:"",subject:"",branch:"",semester:"",customSubject:""}),[u,h]=P.useState(null),[p,g]=P.useState(!1),[v,w]=P.useState(0),[b,R]=P.useState(null),I=(B,q)=>{l(X=>({...X,[B]:q}))},C=B=>{var X;const q=(X=B.target.files)==null?void 0:X[0];if(q){if(!q.type.includes("pdf")){R({type:"error",message:"Please select only PDF files"});return}const N=10*1024*1024;if(q.size>N){R({type:"error",message:"File size should not exceed 10MB"});return}h(q),R(null)}},D=()=>a.title.trim()?!a.subject&&!a.customSubject.trim()?(R({type:"error",message:"Please select or enter a subject"}),!1):a.branch?a.semester?u?!r||!s?(R({type:"error",message:"You must be logged in to upload notes"}),!1):!0:(R({type:"error",message:"Please select a PDF file"}),!1):(R({type:"error",message:"Please select a semester"}),!1):(R({type:"error",message:"Please select a branch"}),!1):(R({type:"error",message:"Please enter a title"}),!1),L=async()=>{if(D()){if(!s||!s.uid){R({type:"error",message:"User authentication error. Please refresh and try again."});return}g(!0),w(0);try{const B=setInterval(()=>{w(T=>T>=90?(clearInterval(B),90):T+10)},200),q={file:u,title:a.title.trim(),subject:a.customSubject.trim()||a.subject,branch:a.branch,semester:a.semester,uploaderId:s.uid,uploaderName:s.name,uploaderRole:s.role},X=await Uo.uploadNote(q);w(100),R({type:"success",message:"PDF uploaded successfully! Students can now download your notes."}),l({title:"",subject:"",branch:"",semester:"",customSubject:""}),h(null);const N=document.querySelector('input[type="file"]');N&&(N.value=""),t&&t()}catch(B){console.error("Upload error:",B),R({type:"error",message:B.message||"Failed to upload PDF. Please try again."})}finally{g(!1),w(0)}}},O=B=>{if(B===0)return"0 Bytes";const q=1024,X=["Bytes","KB","MB"],N=Math.floor(Math.log(B)/Math.log(q));return parseFloat((B/Math.pow(q,N)).toFixed(2))+" "+X[N]};return!r||!s?m.jsx(ml,{children:m.jsx(gl,{className:"p-6",children:m.jsx(Cu,{children:m.jsx(Ru,{children:"Please log in to upload PDF notes."})})})}):m.jsxs(ml,{className:"w-full max-w-2xl mx-auto",children:[m.jsx(g0,{children:m.jsx(y0,{className:"text-xl font-bold text-center",children:" Upload PDF Notes"})}),m.jsxs(gl,{className:"space-y-6",children:[b&&m.jsx(Cu,{className:`${b.type==="success"?"border-green-500 bg-green-50":b.type==="error"?"border-red-500 bg-red-50":"border-blue-500 bg-blue-50"}`,children:m.jsx(Ru,{className:`${b.type==="success"?"text-green-700":b.type==="error"?"text-red-700":"text-blue-700"}`,children:b.message})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(Rs,{htmlFor:"title",children:"Title *"}),m.jsx(Hh,{id:"title",placeholder:"e.g., Data Structures and Algorithms Notes",value:a.title,onChange:B=>I("title",B.target.value),disabled:p})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"branch",children:"Branch *"}),m.jsxs(au,{value:a.branch||void 0,onValueChange:B=>I("branch",B),disabled:p,children:[m.jsx(cu,{children:m.jsx(lu,{placeholder:"Select branch"})}),m.jsx(uu,{children:e.map(B=>m.jsx(Wo,{value:B,children:B},B))})]})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"semester",children:"Semester *"}),m.jsxs(au,{value:a.semester||void 0,onValueChange:B=>I("semester",B),disabled:p,children:[m.jsx(cu,{children:m.jsx(lu,{placeholder:"Select semester"})}),m.jsx(uu,{children:n.map(B=>m.jsxs(Wo,{value:B,children:["Semester ",B]},B))})]})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"subject",children:"Subject *"}),m.jsxs(au,{value:a.subject||void 0,onValueChange:B=>I("subject",B),disabled:p,children:[m.jsx(cu,{children:m.jsx(lu,{placeholder:"Select subject"})}),m.jsx(uu,{children:i8.map(B=>m.jsx(Wo,{value:B,children:B},B))})]})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"customSubject",children:"Or Enter Custom Subject"}),m.jsx(Hh,{id:"customSubject",placeholder:"e.g., Advanced Microprocessors",value:a.customSubject,onChange:B=>I("customSubject",B.target.value),disabled:p})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(Rs,{htmlFor:"file",children:"PDF File * (Max 10MB)"}),m.jsx(Hh,{id:"file",type:"file",accept:".pdf",onChange:C,disabled:p,className:"cursor-pointer"}),u&&m.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[" ",m.jsx("strong",{children:u.name})]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",O(u.size)]})]})]})]}),p&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:"Uploading..."}),m.jsxs("span",{children:[v,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]}),m.jsx(Ns,{onClick:L,disabled:p,className:"w-full",size:"lg",children:p?" Uploading...":" Upload PDF Notes"}),m.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[m.jsx("p",{children:" Only PDF files are allowed"}),m.jsx("p",{children:" Maximum file size: 10MB"}),m.jsx("p",{children:" Students earn 10 points for each note upload"})]})]})]})},o8=p0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Rh({className:t,variant:e,asChild:n=!1,...r}){const s=n?ra:"span";return m.jsx(s,{"data-slot":"badge",className:pn(o8({variant:e}),t),...r})}const a8=["CSE","ECE","MECH","CIVIL","EEE","IT","CHEMICAL","BIOTECH","AERONAUTICAL","AUTOMOBILE","MINING","METALLURGY","TEXTILE","FOOD TECHNOLOGY","ENVIRONMENTAL","MARINE","PETROLEUM","INSTRUMENTATION","PRODUCTION","INDUSTRIAL","AGRICULTURAL","FORESTRY"],l8=["1st","2nd","3rd","4th","5th","6th","7th","8th","1","2","3","4","5","6","7","8","I","II","III","IV","V","VI","VII","VIII"],_R=({showUploadedByUser:t=!1,allowedBranches:e=a8,allowedSemesters:n=l8,maxResults:r=50,useDataContext:s=!1})=>{const{user:a,userData:l}=Ar(),{notes:u,refreshNotes:h}=ro(),[p,g]=P.useState([]),[v,w]=P.useState([]),[b,R]=P.useState(!1),[I,C]=P.useState(null),[D,L]=P.useState({branch:"",semester:"",search:""});P.useEffect(()=>{s?g(u.slice(0,r)):O()},[t,a,s,u]),P.useEffect(()=>{B()},[p,D]);const O=async()=>{if(a){R(!0),C(null);try{let M=[];t?M=await Uo.getNotesByUser(a.uid):M=await Uo.getAllNotes(),g(M.slice(0,r))}catch(M){console.error("Error loading notes:",M),C(M.message||"Failed to load notes")}finally{R(!1)}}},B=()=>{let M=[...p];if(D.branch&&D.branch!=="all-branches"&&(M=M.filter(V=>V.branch===D.branch)),D.semester&&D.semester!=="all-semesters"&&(M=M.filter(V=>V.semester===D.semester)),D.search.trim()){const V=D.search.toLowerCase().trim();M=M.filter(he=>he.title.toLowerCase().includes(V)||he.subject.toLowerCase().includes(V)||he.uploadedByName.toLowerCase().includes(V))}w(M)},q=(M,V)=>{L(he=>({...he,[M]:V}))},X=M=>{try{Uo.downloadNote(M)}catch(V){C(V.message||"Failed to download note")}},N=M=>{try{Uo.viewNote(M)}catch(V){C(V.message||"Failed to view note")}},T=async M=>{if(console.log(" Delete button clicked for note:",M),console.log(" Note ID:",M.id),console.log(" User:",a),console.log(" User ID (user.id):",a==null?void 0:a.id),console.log(" UserData:",l),console.log(" UserData UID:",l==null?void 0:l.uid),!a||!l){C("Unable to delete note: User not authenticated");return}if(!M.id){C("Unable to delete note: Note ID is missing");return}const V=l.uid||a.id;if(!l.uid){C("Unable to delete note: User ID is missing");return}if(l.role==="student"&&M.uploaderId!==V){C("Access Denied: Students can only delete their own notes"),console.error(" Unauthorized deletion attempt:",{userRole:l.role,userId:V,noteUploaderId:M.uploaderId,noteTitle:M.title});return}if(window.confirm(`Are you sure you want to delete "${M.title}"? This action cannot be undone.`))try{console.log(" Starting delete operation..."),await Uo.deleteNote(M.id,V),console.log(" Delete successful, refreshing notes..."),s&&h?await h():await O(),C(null),console.log(" Notes refreshed successfully")}catch(Ie){console.error(" Delete error:",Ie),C(Ie.message||"Failed to delete note")}},A=M=>{if(M===0)return"0 Bytes";const V=1024,he=["Bytes","KB","MB"],Ie=Math.floor(Math.log(M)/Math.log(V));return parseFloat((M/Math.pow(V,Ie)).toFixed(2))+" "+he[Ie]},j=M=>M?(M.toDate?M.toDate():new Date(M)).toLocaleDateString():"Unknown",U=M=>{if(!l||!M)return!1;const V=l.uid||(a==null?void 0:a.id);if(l.role==="admin")return console.log(" Admin can delete note:",M.title),!0;if(l.role==="student"){const he=M.uploaderId===V;return console.log(" Student delete check:",{noteTitle:M.title,noteUploaderId:M.uploaderId,currentUserId:V,canDelete:he}),he}return!1};return a?m.jsxs(ml,{className:"w-full",children:[m.jsx(g0,{children:m.jsxs(y0,{className:"text-xl font-bold",children:[" ",t?"My Uploaded Notes":"Available Notes"]})}),m.jsxs(gl,{className:"space-y-6",children:[I&&m.jsx(Cu,{className:"border-red-500 bg-red-50",children:m.jsx(Ru,{className:"text-red-700",children:I})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"branch-filter",children:"Filter by Branch"}),m.jsxs(au,{value:D.branch||void 0,onValueChange:M=>q("branch",M||""),children:[m.jsx(cu,{children:m.jsx(lu,{placeholder:"All branches"})}),m.jsxs(uu,{children:[m.jsx(Wo,{value:"all-branches",children:"All branches"}),e.map(M=>m.jsx(Wo,{value:M,children:M},M))]})]})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"semester-filter",children:"Filter by Semester"}),m.jsxs(au,{value:D.semester||void 0,onValueChange:M=>q("semester",M||""),children:[m.jsx(cu,{children:m.jsx(lu,{placeholder:"All semesters"})}),m.jsxs(uu,{children:[m.jsx(Wo,{value:"all-semesters",children:"All semesters"}),n.map(M=>m.jsxs(Wo,{value:M,children:["Semester ",M]},M))]})]})]}),m.jsxs("div",{children:[m.jsx(Rs,{htmlFor:"search",children:"Search Notes"}),m.jsx(Hh,{id:"search",placeholder:"Search by title, subject, or uploader",value:D.search,onChange:M=>q("search",M.target.value)})]})]}),b&&m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Loading notes..."})]})}),!b&&m.jsx("div",{className:"space-y-4",children:v.length===0?m.jsxs("div",{className:"text-center p-8",children:[m.jsx("p",{className:"text-gray-500",children:p.length===0?t?"You haven't uploaded any notes yet.":"No notes available.":"No notes match your filters."}),p.length===0&&!t&&m.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Be the first to upload and share your notes!"})]}):v.map(M=>m.jsx(ml,{className:"border-l-4 border-blue-500",children:m.jsxs(gl,{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:M.title}),m.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[m.jsx(Rh,{variant:"secondary",children:M.subject}),m.jsx(Rh,{variant:"outline",children:M.branch}),m.jsxs(Rh,{variant:"outline",children:["Sem ",M.semester]}),m.jsx(Rh,{variant:"outline",className:"text-xs",children:A(M.fileSize)})]})]}),m.jsxs("div",{className:"flex gap-2 ml-4",children:[m.jsx(Ns,{variant:"outline",size:"sm",onClick:()=>N(M),className:"text-blue-600 hover:text-blue-700",children:" View"}),m.jsx(Ns,{variant:"default",size:"sm",onClick:()=>X(M),className:"bg-green-600 hover:bg-green-700",children:" Download"}),U(M)&&M.id&&m.jsx(Ns,{variant:"destructive",size:"sm",onClick:()=>T(M),children:""})]})]}),m.jsxs("div",{className:"text-sm text-gray-600",children:[m.jsxs("p",{children:[" Uploaded by ",m.jsx("strong",{children:M.uploadedByName})," (",M.uploadedByRole,")"]}),m.jsxs("p",{children:[" ",j(M.uploadedAt)]}),m.jsxs("p",{children:[" ",M.fileName]})]})]})},M.id))}),!b&&p.length>0&&m.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Showing ",v.length," of ",p.length," notes"]}),m.jsx("div",{className:"text-center",children:m.jsx(Ns,{variant:"outline",onClick:s?h:O,disabled:b,children:" Refresh Notes"})})]})]}):m.jsx(ml,{children:m.jsx(gl,{className:"p-6",children:m.jsx(Cu,{children:m.jsx(Ru,{children:"Please log in to view notes."})})})})},c8=()=>{const{notes:t,addNote:e}=ro(),{user:n,userData:r}=Ar(),[s,a]=P.useState("notes");return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-1.5 inline-flex mb-4",children:[m.jsxs("button",{onClick:()=>a("timetable"),className:`flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold transition-all ${s==="timetable"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(yf,{size:18}),"Timetable"]}),m.jsxs("button",{onClick:()=>a("notes"),className:`flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold transition-all ${s==="notes"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(mL,{size:18}),"Browse Notes"]}),m.jsxs("button",{onClick:()=>a("upload"),className:`flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold transition-all ${s==="upload"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(l4,{size:18}),"Upload Notes"]}),m.jsxs("button",{onClick:()=>a("calendar"),className:`flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold transition-all ${s==="calendar"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(Ms,{size:18}),"Faculty"]})]}),m.jsxs(Os.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[s==="notes"&&m.jsx("div",{className:"space-y-6",children:m.jsx(_R,{allowedBranches:void 0,allowedSemesters:void 0})}),s==="upload"&&m.jsx("div",{className:"space-y-6",children:m.jsx(xR,{onUploadSuccess:()=>{a("notes")},allowedBranches:void 0,allowedSemesters:void 0})}),s==="timetable"&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[m.jsx("div",{className:"bg-blue-50 p-6 rounded-full",children:m.jsx(yf,{className:"text-blue-900",size:48})}),m.jsxs("div",{className:"max-w-md space-y-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Official Timetable"}),m.jsx("p",{className:"text-slate-500",children:"Go to timetable portal to access your class schedules, exam dates, and academic calendar."})]}),m.jsxs("button",{onClick:()=>window.open("https://vrsec.campx.in/sahe/student-workspace/timetable","_blank","noopener,noreferrer"),className:"flex items-center gap-2 bg-blue-950 text-white hover:bg-blue-900 px-8 py-4 rounded-lg text-base font-bold transition-all shadow-lg hover:shadow-xl hover:-translate-y-1",children:["Visit Timetable Portal",m.jsx(_u,{size:20})]}),m.jsx("p",{className:"text-xs text-slate-400",children:"Opens in a new tab  Redirects to official website"})]}),s==="calendar"&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[m.jsx("div",{className:"bg-amber-50 p-6 rounded-full",children:m.jsx(Ms,{className:"text-amber-600",size:48})}),m.jsxs("div",{className:"max-w-md space-y-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Faculty Portal"}),m.jsx("p",{className:"text-slate-500",children:"Access faculty information, course materials, and learning management system."})]}),m.jsxs("button",{onClick:()=>window.open("https://vrsec.campx.in/sahe/student-workspace/learning-management","_blank","noopener,noreferrer"),className:"flex items-center gap-2 bg-blue-950 text-white hover:bg-blue-900 px-8 py-4 rounded-lg text-base font-bold transition-all shadow-lg hover:shadow-xl hover:-translate-y-1",children:["Visit Faculty Portal",m.jsx(_u,{size:20})]}),m.jsx("p",{className:"text-xs text-slate-400",children:"Opens in a new tab  Redirects to official website"})]})]},s)]})},ET=()=>{const{events:t}=ro(),[e,n]=P.useState("ALL"),r=["ALL","CSE","ECE","EEE","MECH","CIVIL","IT","CHEMICAL","BIOTECH","AERONAUTICAL","AUTOMOBILE","MINING","METALLURGY","TEXTILE","FOOD TECHNOLOGY","ENVIRONMENTAL","MARINE","PETROLEUM","INSTRUMENTATION","PRODUCTION","INDUSTRIAL","AGRICULTURAL","FORESTRY"],s=e==="ALL"?t:t.filter(a=>a.branch==="ALL"||a.branch===e);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4 overflow-x-auto",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm px-2",children:[m.jsx(CL,{size:16}),"Filter:"]}),r.map(a=>m.jsx("button",{onClick:()=>n(a),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${e===a?"bg-blue-950 text-white shadow-md":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:a},a))]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.length>0?s.map(a=>m.jsxs(Os.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"bg-blue-950 p-4 flex justify-between items-start",children:[m.jsx("span",{className:"inline-block px-2 py-1 bg-amber-500 text-blue-950 text-xs font-bold rounded",children:a.type}),m.jsx("span",{className:"text-white/80 text-xs font-bold border border-white/20 px-2 py-1 rounded",children:a.branch==="ALL"?"All Branches":a.branch})]}),m.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex gap-4 mb-4",children:[m.jsxs("div",{className:"flex-shrink-0 w-16 text-center bg-slate-50 rounded-lg border border-slate-200 p-2 flex flex-col justify-center h-16",children:[m.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:new Date(a.date).toLocaleString("default",{month:"short"})}),m.jsx("span",{className:"text-2xl font-bold text-blue-900",children:new Date(a.date).getDate()})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-slate-900 line-clamp-2",children:a.title}),m.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(yf,{size:14})," ",a.time]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(FL,{size:14})," ",a.venue]})]})]})]}),m.jsx("p",{className:"text-slate-600 text-sm mb-6 flex-1",children:a.description}),m.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100 mt-auto",children:[m.jsxs("a",{href:a.registerLink,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors shadow-sm",children:["Register Now",m.jsx(dI,{size:16})]}),m.jsx("button",{className:"px-4 py-2.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-blue-900 transition-colors",title:"Contact Organizer",children:m.jsx(hI,{size:18})})]})]})]},a.id)):m.jsxs("div",{className:"md:col-span-2 text-center py-20 bg-white rounded-xl border border-slate-200 border-dashed",children:[m.jsx(Ms,{size:48,className:"mx-auto text-slate-300 mb-4"}),m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No events announced yet"}),m.jsx("p",{className:"text-slate-500",children:"Check back later for campus updates and events."})]})})]})},bT=()=>{const{facilities:t}=ro(),[e,n]=P.useState("about"),[r,s]=P.useState("");return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-1 lg:p-1.5 inline-flex mb-4 w-full sm:w-auto overflow-hidden",children:[m.jsxs("button",{onClick:()=>n("about"),className:`flex-1 sm:flex-initial flex items-center justify-center gap-1 lg:gap-2 px-3 lg:px-6 py-2 lg:py-3 rounded-lg text-xs lg:text-sm font-bold transition-all ${e==="about"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(NL,{size:16,className:"lg:w-[18px] lg:h-[18px]"}),m.jsx("span",{className:"truncate",children:"About University"})]}),m.jsxs("button",{onClick:()=>n("university"),className:`flex-1 sm:flex-initial flex items-center justify-center gap-1 lg:gap-2 px-3 lg:px-6 py-2 lg:py-3 rounded-lg text-xs lg:text-sm font-bold transition-all ${e==="university"?"bg-blue-950 text-white shadow-md":"text-slate-500 hover:text-blue-950 hover:bg-slate-50"}`,children:[m.jsx(Yg,{size:16,className:"lg:w-[18px] lg:h-[18px]"}),m.jsx("span",{className:"truncate",children:"Find My University"})]})]}),m.jsxs(Os.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e==="about"&&m.jsxs("div",{className:"bg-white p-4 lg:p-8 rounded-xl shadow-sm border border-slate-200",children:[m.jsxs("div",{className:"bg-blue-950 text-white p-4 lg:p-6 rounded-xl mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-amber-400 mb-2 lg:mb-3 flex items-center gap-2",children:" About Siddhartha Academy of Higher Education (SAHE)"}),m.jsx("p",{className:"text-xs lg:text-sm text-slate-300 leading-relaxed mb-3 lg:mb-4",children:"SAHE is a premier educational institution located in Kanuru, Vijayawada, Andhra Pradesh, India. Formerly known as Velagapudi Ramakrishna Siddhartha Engineering College (VRSEC), our institution traces its roots back to 1977, making it one of the first private engineering colleges in united Andhra Pradesh."}),m.jsx("p",{className:"text-xs lg:text-sm text-slate-300 leading-relaxed mb-3 lg:mb-4",children:"As a deemed-to-be university recognised by UGC and accredited by NAAC with A+ grade, SAHE offers undergraduate and postgraduate programmes in engineering, business, and technology, integrating rigorous academics with practical skills and industry relevance."}),m.jsxs("div",{className:"mb-3 lg:mb-4",children:[m.jsx("h4",{className:"text-sm lg:text-base font-semibold text-amber-300 mb-2",children:" World-Class Infrastructure"}),m.jsxs("ul",{className:"text-sm text-slate-300 leading-relaxed space-y-1 ml-4",children:[m.jsx("li",{children:" State-of-the-art laboratories with latest equipment and technology"}),m.jsx("li",{children:" Modern classrooms with smart boards and audio-visual facilities"}),m.jsx("li",{children:" Comprehensive library with vast collection of books and digital resources"}),m.jsx("li",{children:" High-speed Wi-Fi campus connectivity and computer centers"}),m.jsx("li",{children:" Sports facilities including indoor and outdoor courts"}),m.jsx("li",{children:" Spacious hostels with modern amenities for students"}),m.jsx("li",{children:" Advanced research centers and innovation labs"}),m.jsx("li",{children:" Green campus with sustainable energy solutions"})]})]}),m.jsx("button",{onClick:()=>window.open("https://siddhartha.edu.in/","_blank","noopener,noreferrer"),className:"inline-flex items-center gap-2 bg-amber-500 text-blue-950 px-4 py-2 rounded-lg text-sm font-bold hover:bg-amber-400 transition-colors",children:" Know More"})]}),m.jsx("h2",{className:"text-3xl font-bold font-serif text-blue-950 mb-6",children:"Institutional Excellence"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-amber-600 mb-2 uppercase tracking-wide",children:"Our Vision"}),m.jsx("p",{className:"text-slate-600 leading-relaxed",children:"To be a center of excellence in technical education and research, producing global leaders who contribute to the sustainable development of society."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-amber-600 mb-2 uppercase tracking-wide",children:"Our Mission"}),m.jsx("p",{className:"text-slate-600 leading-relaxed",children:"To provide quality education through innovative teaching methodologies, foster a culture of research and innovation, and instill ethical values and leadership qualities in students."})]})]}),m.jsxs("div",{className:"bg-slate-100 rounded-xl p-6 border border-slate-200",children:[m.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Quick Facts  SAHE (VRSEC)"}),m.jsxs("ul",{className:"space-y-3",children:[m.jsxs("li",{className:"flex items-center gap-3 text-slate-700",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Established in 1977"]}),m.jsxs("li",{className:"flex items-center gap-3 text-slate-700",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"NAAC A+ Accredited Institution"]}),m.jsxs("li",{className:"flex items-center gap-3 text-slate-700",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Lush Green Campus in Vijayawada"]}),m.jsxs("li",{className:"flex items-center gap-3 text-slate-700",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"5000+ Students Across Programs"]})]})]})]})]}),e==="university"&&m.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-amber-50 p-8 rounded-xl shadow-sm border border-slate-200",children:m.jsxs("div",{className:"max-w-2xl mx-auto text-center space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-blue-950 w-20 h-20 rounded-full flex items-center justify-center mx-auto shadow-lg",children:m.jsx(WL,{className:"text-white",size:40})}),m.jsx("h2",{className:"text-3xl font-bold text-blue-950",children:"Find My University"}),m.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:"Discover our beautiful campus located in the heart of Vijayawada. Navigate to Siddhartha Academy of Higher Education with ease."})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),m.jsx("span",{className:"text-green-600 font-semibold",children:"University Location"})]}),m.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Siddhartha Academy of Higher Education"}),m.jsx("p",{className:"text-slate-600",children:" Kanuru, Vijayawada, Andhra Pradesh, India"}),m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[m.jsx("span",{children:" Easy Access"}),m.jsx("span",{children:""}),m.jsx("span",{children:" Green Campus"}),m.jsx("span",{children:""}),m.jsx("span",{children:" Historic Institution"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:()=>window.open("https://maps.app.goo.gl/eSTjbkSkH4Q4JSfj9?g_st=ic","_blank","noopener,noreferrer"),className:"group bg-gradient-to-r from-blue-950 to-blue-800 text-white px-8 py-4 rounded-xl text-lg font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-3 mx-auto",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-lg group-hover:bg-white/30 transition-colors",children:m.jsx(dI,{size:24})}),m.jsx("span",{children:"Navigate to Campus"}),m.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-ping"})]}),m.jsx("p",{className:"text-sm text-slate-500",children:"Opens in Google Maps for turn-by-turn directions"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6",children:[m.jsxs("div",{className:"bg-white/80 p-4 rounded-lg border border-slate-200",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-semibold text-slate-900",children:"Academic Excellence"}),m.jsx("p",{className:"text-sm text-slate-600",children:"Premier education since 1977"})]}),m.jsxs("div",{className:"bg-white/80 p-4 rounded-lg border border-slate-200",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-semibold text-slate-900",children:"Green Campus"}),m.jsx("p",{className:"text-sm text-slate-600",children:"Eco-friendly environment"})]}),m.jsxs("div",{className:"bg-white/80 p-4 rounded-lg border border-slate-200",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-semibold text-slate-900",children:"Easy Transport"}),m.jsx("p",{className:"text-sm text-slate-600",children:"Well-connected location"})]})]})]})})]},e)]})},u8=()=>{const{queries:t,addQuery:e}=ro(),{user:n}=Ar(),[r,s]=P.useState(""),[a,l]=P.useState(""),[u,h]=P.useState("all"),p=w=>{if(w.preventDefault(),!n)return;const b={id:Date.now().toString(),studentId:n.id,studentName:n.name,subject:r,message:a,status:"Pending",date:new Date().toLocaleDateString()};e(b),s(""),l(""),alert("Your request has been submitted successfully!")},g=t.filter(w=>w.studentId===(n==null?void 0:n.id)),v=u==="all"?g:g.filter(w=>w.status.toLowerCase()===u);return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-blue-950 text-white p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[m.jsx(Ov,{className:"text-amber-500"}),"Submit a Request"]}),m.jsx("p",{className:"text-blue-200 text-sm",children:"Need study materials or have a query? Let the admin know."})]}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Subject"}),m.jsxs("select",{value:r,onChange:w=>s(w.target.value),required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none",children:[m.jsx("option",{value:"",children:"Select Category"}),m.jsx("option",{value:"Notes Requirement",children:"Notes Requirement"}),m.jsx("option",{value:"Event Query",children:"Event Query"}),m.jsx("option",{value:"Study Material Request",children:"Study Material Request"}),m.jsx("option",{value:"Exam Query",children:"Exam Query"}),m.jsx("option",{value:"Event Inquiry",children:"Event Inquiry"}),m.jsx("option",{value:"Facility Issue",children:"Facility Issue"}),m.jsx("option",{value:"Other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Message"}),m.jsx("textarea",{value:a,onChange:w=>l(w.target.value),required:!0,placeholder:"Describe your request in detail...",rows:5,className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-900/20 focus:border-blue-900 outline-none resize-none"})]}),m.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-md flex items-center justify-center gap-2",children:["Submit Request",m.jsx(XL,{size:18})]})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Your History"}),m.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-slate-200 shadow-sm",children:[m.jsx("button",{onClick:()=>h("all"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${u==="all"?"bg-slate-100 text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"All"}),m.jsx("button",{onClick:()=>h("pending"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${u==="pending"?"bg-amber-50 text-amber-700":"text-slate-500 hover:text-slate-700"}`,children:"Pending"}),m.jsx("button",{onClick:()=>h("completed"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${u==="completed"?"bg-green-50 text-green-700":"text-slate-500 hover:text-slate-700"}`,children:"Completed"})]})]}),m.jsx("div",{className:"space-y-4",children:v.length>0?v.map(w=>m.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("span",{className:"font-bold text-slate-900",children:w.subject}),m.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${w.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:[w.status==="Completed"?m.jsx(EL,{size:12}):m.jsx(yf,{size:12}),w.status]})]}),m.jsx("p",{className:"text-slate-600 text-sm mb-3 bg-slate-50 p-3 rounded-lg",children:w.message}),m.jsxs("div",{className:"text-xs text-slate-400 text-right",children:["Submitted on ",w.date]})]},w.id)):m.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:m.jsx("p",{className:"text-slate-500 font-medium",children:"No requests found"})})})]})]})},TT=()=>{const{user:t}=Ar();return t?m.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[m.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-900 to-blue-800"}),m.jsxs("div",{className:"px-8 pb-8 relative",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-end -mt-12 mb-6 gap-6",children:[m.jsx("div",{className:"w-24 h-24 bg-amber-500 rounded-xl border-4 border-white shadow-lg flex items-center justify-center text-3xl font-bold text-blue-950",children:t.name.charAt(0)}),m.jsxs("div",{className:"flex-1 pb-1",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),m.jsx("p",{className:"text-slate-500 font-medium",children:t.role==="student"?`${t.branch}  ${t.semester}`:"Administrator"})]}),m.jsx("div",{className:"pb-1",children:m.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-blue-50 text-blue-700 border border-blue-100",children:t.role==="student"?"Student Account":"Admin Access"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-100 pb-2",children:"Personal Information"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:m.jsx(hI,{size:16})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Email Address"}),m.jsx("p",{className:"text-slate-700 font-medium",children:t.email})]})]}),t.role==="student"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:m.jsx(t4,{size:16})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Roll Number"}),m.jsx("p",{className:"text-slate-700 font-medium",children:t.rollNumber})]})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:m.jsx(Jg,{size:16})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Branch & Semester"}),m.jsxs("p",{className:"text-slate-700 font-medium",children:[t.branch," - ",t.semester]})]})]})]})]})]}),t.role==="student"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-100 pb-2",children:"Academic Performance"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-amber-700",children:[m.jsx(hL,{size:20}),m.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Points"})]}),m.jsx("p",{className:"text-3xl font-bold text-slate-900",children:t.points}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Top 10% of class"})]}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-700",children:[m.jsx(Pi,{size:20}),m.jsx("span",{className:"text-xs font-bold uppercase",children:"Notes Shared"})]}),m.jsx("p",{className:"text-3xl font-bold text-slate-900",children:t.notesUploaded}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Helping 50+ students"})]})]})]})]})]})]})}):null},d8=()=>{const{leaderboard:t,refreshLeaderboard:e}=ro(),[n,r]=P.useState(!1),s=async()=>{r(!0);try{await e()}catch(p){console.error("Error refreshing leaderboard:",p)}finally{r(!1)}},a=[...t].sort((p,g)=>g.points-p.points);if(!(a.length>0&&a[0].points>0))return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsxs("div",{className:"text-center space-y-2 mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold font-serif text-slate-900",children:"Student Leaderboard"}),m.jsx("p",{className:"text-slate-500",children:"Earn points by sharing notes and participating in events!"})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-16 text-center",children:[m.jsx(Xg,{size:64,className:"mx-auto text-slate-300 mb-6"}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Leaderboard Coming Soon!"}),m.jsx("p",{className:"text-slate-500 mb-4",children:"Be the first to earn points by uploading notes and participating in events."}),m.jsxs("p",{className:"text-sm text-slate-400",children:[" Upload notes: +10 points each",m.jsx("br",{})," Join events: +5 points each"]})]})]});const u=a.slice(0,3),h=a.slice(3);return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsxs("div",{className:"text-center space-y-2 mb-8 flex justify-between items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-3xl font-bold font-serif text-slate-900",children:"Student Leaderboard"}),m.jsx("p",{className:"text-slate-500",children:"Earn points by sharing notes and participating in events!"})]}),m.jsxs("button",{onClick:s,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[m.jsx(QL,{className:`w-4 h-4 ${n?"animate-spin":""}`}),n?"Refreshing...":"Refresh"]})]}),m.jsxs("div",{className:"flex items-end justify-center gap-4 mb-12",children:[u[1]&&m.jsxs(Os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-slate-300 bg-slate-100 flex items-center justify-center text-xl font-bold text-slate-500 mb-4 shadow-lg overflow-hidden relative",children:m.jsx("span",{className:"z-10",children:u[1].name.charAt(0)})}),m.jsxs("div",{className:"bg-white w-32 h-32 rounded-t-xl shadow-lg border-t-4 border-slate-300 flex flex-col items-center justify-start pt-4",children:[m.jsx("span",{className:"text-3xl font-bold text-slate-300",children:"2"}),m.jsx("p",{className:"font-bold text-slate-900 text-sm mt-1",children:u[1].name}),m.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[u[1].points," pts"]})]})]}),u[0]&&m.jsxs(Os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center z-10",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Xg,{className:"absolute -top-8 left-1/2 -translate-x-1/2 text-amber-500",size:32}),m.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-amber-500 bg-amber-50 flex items-center justify-center text-2xl font-bold text-amber-600 mb-4 shadow-xl overflow-hidden relative",children:m.jsx("span",{className:"z-10",children:u[0].name.charAt(0)})})]}),m.jsxs("div",{className:"bg-white w-40 h-40 rounded-t-xl shadow-lg border-t-4 border-amber-500 flex flex-col items-center justify-start pt-6",children:[m.jsx("span",{className:"text-4xl font-bold text-amber-600",children:"1"}),m.jsx("p",{className:"font-bold text-slate-900 text-sm mt-2",children:u[0].name}),m.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[u[0].points," pts"]})]})]}),u[2]&&m.jsxs(Os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-18 h-18 rounded-full border-4 border-amber-300 bg-amber-50 flex items-center justify-center text-lg font-bold text-amber-500 mb-4 shadow-lg overflow-hidden relative",children:m.jsx("span",{className:"z-10",children:u[2].name.charAt(0)})}),m.jsxs("div",{className:"bg-white w-28 h-28 rounded-t-xl shadow-lg border-t-4 border-amber-300 flex flex-col items-center justify-start pt-3",children:[m.jsx("span",{className:"text-3xl font-bold text-amber-700",children:"3"}),m.jsx("p",{className:"font-bold text-slate-900 text-sm mt-1",children:u[2].name}),m.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[u[2].points," pts"]})]})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 font-bold text-sm text-slate-500 uppercase",children:"Rank"}),m.jsx("th",{className:"px-6 py-4 font-bold text-sm text-slate-500 uppercase",children:"Student"}),m.jsx("th",{className:"px-6 py-4 font-bold text-sm text-slate-500 uppercase text-right",children:"Points"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map((p,g)=>m.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[m.jsxs("td",{className:"px-6 py-4 text-slate-500 font-bold",children:["#",g+4]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500",children:p.name.charAt(0)}),m.jsx("span",{className:"font-bold text-slate-900",children:p.name})]})}),m.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-900",children:p.points})]},p.name))})]})})]})},h8=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!1),[s,a]=P.useState(""),l=async()=>{r(!0);try{const v=(await _r(Bn(He,"users"))).docs.map(w=>({id:w.id,...w.data()}));e(v),a(`Found ${v.length} users`)}catch(g){a(`Error fetching users: ${g.message}`)}r(!1)},u=async(g,v)=>{if(confirm(`Delete user "${v}"? This action cannot be undone.`))try{await nu(mt(He,"users",g)),a(`User "${v}" deleted successfully`),await l()}catch(w){a(`Error deleting user: ${w.message}`)}},h=async()=>{if(confirm("This will keep only ONE SHAIK ABUBAKAR SIDDIQ as the student user and remove all duplicates. Continue?"))try{const v=t.filter(b=>b.name==="SHAIK ABUBAKAR SIDDIQ").reduce((b,R)=>R.points>b.points?R:(R.points===b.points&&R.id<b.id,b)),w=t.filter(b=>b.role==="student"&&b.id!==(v==null?void 0:v.id));for(const b of w)await nu(mt(He,"users",b.id));a(`Cleanup completed! Removed ${w.length} users. Kept: ${v==null?void 0:v.name} (${v==null?void 0:v.email}) with ${v==null?void 0:v.points} points.`),await l()}catch(g){a(`Error during cleanup: ${g.message}`)}},p=async()=>{if(confirm("This will REMOVE ALL USERS except the admin (siddiqshaik613@gmail.com). This cannot be undone! Continue?"))try{const g=t.filter(v=>v.email!=="siddiqshaik613@gmail.com"&&v.role!=="admin");a(`Deleting ${g.length} users...`);for(const v of g)console.log(`Deleting user: ${v.name} (${v.email})`),await nu(mt(He,"users",v.id));a(`Cleanup completed! Removed ${g.length} users. Only admin remains.`),await l()}catch(g){a(`Error during cleanup: ${g.message}`)}};return P.useEffect(()=>{l()},[]),m.jsxs(ml,{className:"w-full max-w-4xl mx-auto",children:[m.jsx(g0,{children:m.jsx(y0,{children:"User Management (Admin Only)"})}),m.jsx(gl,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ns,{onClick:l,disabled:n,children:n?"Loading...":"Refresh Users"}),m.jsx(Ns,{onClick:h,variant:"destructive",disabled:n,children:"Cleanup Duplicates"}),m.jsx(Ns,{onClick:p,variant:"destructive",disabled:n,className:"bg-red-600 hover:bg-red-700",children:"Remove All (Keep Admin Only)"})]}),s&&m.jsx(Cu,{children:m.jsx(Ru,{children:s})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("h3",{className:"text-lg font-semibold",children:["All Users (",t.length,")"]}),t.map((g,v)=>m.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:g.name}),m.jsxs("div",{className:"text-sm text-gray-600",children:[g.email,"  ",g.role,"  ",g.points," points"]}),g.branch&&m.jsxs("div",{className:"text-xs text-gray-500",children:[g.branch," - ",g.semester]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-mono",children:["ID: ",g.id.slice(-8)]}),g.role!=="admin"&&g.email!=="siddiqshaik613@gmail.com"&&m.jsx(Ns,{variant:"destructive",size:"sm",onClick:()=>u(g.id,g.name),children:"Delete"})]})]},g.id))]})]})})]})},f8=()=>{const{notes:t,events:e,queries:n,addEvent:r,deleteEvent:s,addNote:a,updateQueryStatus:l,refreshNotes:u}=ro(),{user:h}=Ar(),[p,g]=P.useState("overview"),[v,w]=P.useState(!1),[b,R]=P.useState(""),[I,C]=P.useState(""),[D,L]=P.useState("Technical"),[O,B]=P.useState("ALL"),[q,X]=P.useState(""),N=async A=>{A.preventDefault();try{const j={id:Date.now().toString(),title:b,date:I,type:D,time:"10:00 AM",venue:"Main Auditorium",description:"New event added by admin.",branch:O,registerLink:q||"#"};await r(j),w(!1),R(""),C(""),B("ALL"),X(""),alert("Event published successfully!")}catch(j){console.error("Failed to add event:",j),alert("Failed to publish event. Please try again.")}},T=async A=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone."))try{await s(A),alert("Event deleted successfully!")}catch(j){console.error("Failed to delete event:",j),alert("Failed to delete event. Please try again.")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-slate-200 inline-flex gap-2",children:[m.jsx("button",{onClick:()=>g("overview"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${p==="overview"?"bg-blue-950 text-white":"text-slate-600 hover:bg-slate-50"}`,children:"Overview"}),m.jsx("button",{onClick:()=>g("notes"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${p==="notes"?"bg-blue-950 text-white":"text-slate-600 hover:bg-slate-50"}`,children:"Manage Notes"}),m.jsx("button",{onClick:()=>g("events"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${p==="events"?"bg-blue-950 text-white":"text-slate-600 hover:bg-slate-50"}`,children:"Manage Events"}),m.jsx("button",{onClick:()=>g("queries"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${p==="queries"?"bg-blue-950 text-white":"text-slate-600 hover:bg-slate-50"}`,children:"Student Queries"}),m.jsx("button",{onClick:()=>g("users"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${p==="users"?"bg-blue-950 text-white":"text-slate-600 hover:bg-slate-50"}`,children:"Manage Users"})]}),p==="overview"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:m.jsx(Pi,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Total Notes"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.length})]})]})}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-lg",children:m.jsx(Ms,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Total Events"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:e.length})]})]})}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:m.jsx(Ov,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Pending Queries"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:n.filter(A=>A.status==="Pending").length})]})]})})]}),p==="notes"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" Upload New Notes"}),m.jsx(xR,{onUploadSuccess:u})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" Notes Statistics"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-600",children:"Total Notes"}),m.jsx("span",{className:"font-bold text-blue-600",children:t.length})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-600",children:"Admin Uploads"}),m.jsx("span",{className:"font-bold text-green-600",children:t.filter(A=>A.uploadedByRole==="admin").length})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-600",children:"Student Uploads"}),m.jsx("span",{className:"font-bold text-purple-600",children:t.filter(A=>A.uploadedByRole==="student").length})]})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" All Notes"}),m.jsx(_R,{useDataContext:!0})]})]}),p==="events"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-950 text-white px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-blue-900",children:[m.jsx(GL,{size:16}),"Add Event"]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(A=>m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-slate-900",children:A.title}),m.jsxs("p",{className:"text-sm text-slate-500",children:[A.date,"  ",A.venue]}),A.registerLink&&A.registerLink!=="#"&&m.jsx("a",{href:A.registerLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs underline mt-1 block",children:"View Event Link"})]}),m.jsx("button",{onClick:()=>T(A.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete Event",children:m.jsx(r4,{size:16})})]},A.id))})]}),p==="queries"&&m.jsxs("div",{className:"space-y-4",children:[n.map(A=>m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-slate-900 block",children:A.subject}),m.jsxs("span",{className:"text-xs text-slate-500",children:["From: ",A.studentName]})]}),m.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${A.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:A.status})]}),m.jsx("p",{className:"text-slate-600 text-sm mb-4 bg-slate-50 p-3 rounded-lg",children:A.message}),A.status==="Pending"&&m.jsx("div",{className:"flex justify-end gap-2",children:m.jsxs("button",{onClick:()=>l(A.id,"Completed"),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-green-700",children:[m.jsx(cI,{size:16}),"Mark Resolved"]})})]},A.id)),n.length===0&&m.jsx("p",{className:"text-slate-500 text-center py-8",children:"No queries found."})]}),v&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Add New Event"}),m.jsx("button",{onClick:()=>w(!1),children:m.jsx(fI,{size:20})})]}),m.jsxs("form",{onSubmit:N,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Event Title",required:!0,value:b,onChange:A=>R(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm"}),m.jsx("input",{type:"date",required:!0,value:I,onChange:A=>C(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm"}),m.jsxs("select",{value:O,onChange:A=>B(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm",children:[m.jsx("option",{value:"ALL",children:"All Branches"}),m.jsx("option",{value:"CSE",children:"Computer Science and Engineering"}),m.jsx("option",{value:"ECE",children:"Electronics and Communication Engineering"}),m.jsx("option",{value:"MECH",children:"Mechanical Engineering"}),m.jsx("option",{value:"CIVIL",children:"Civil Engineering"}),m.jsx("option",{value:"EEE",children:"Electrical and Electronics Engineering"}),m.jsx("option",{value:"IT",children:"Information Technology"}),m.jsx("option",{value:"CHEMICAL",children:"Chemical Engineering"}),m.jsx("option",{value:"BIOTECH",children:"Biotechnology Engineering"}),m.jsx("option",{value:"AERONAUTICAL",children:"Aeronautical Engineering"}),m.jsx("option",{value:"AUTOMOBILE",children:"Automobile Engineering"})]}),m.jsx("input",{type:"url",placeholder:"Event Link (optional)",value:q,onChange:A=>X(A.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm"}),m.jsx("button",{className:"w-full bg-blue-950 text-white font-bold py-3 rounded-lg",children:"Publish Event"})]})]})}),p==="users"&&m.jsx("div",{className:"space-y-6",children:m.jsx(h8,{})})]})},p8=()=>{const{isAuthenticated:t,user:e,userData:n,isAdmin:r,isStudent:s}=Ar(),[a,l]=P.useState("dashboard"),u=(e==null?void 0:e.role)==="admin"&&(e==null?void 0:e.email)==="siddiqshaik613@gmail.com";return P.useEffect(()=>{t&&e&&n&&l(u?"admin-dashboard":"dashboard")},[t,e,n,u]),t?a==="admin-dashboard"&&!u||!u&&["admin-dashboard"].includes(a)?(l("dashboard"),null):m.jsx(h4,{currentView:a,setCurrentView:l,children:u?m.jsxs(m.Fragment,{children:[a==="admin-dashboard"&&m.jsx(f8,{}),a==="events"&&m.jsx(ET,{}),a==="infrastructure"&&m.jsx(bT,{}),a==="profile"&&m.jsx(TT,{})]}):m.jsxs(m.Fragment,{children:[a==="dashboard"&&m.jsx(KU,{setCurrentView:l}),a==="academics"&&m.jsx(c8,{}),a==="events"&&m.jsx(ET,{}),a==="infrastructure"&&m.jsx(bT,{}),a==="query"&&m.jsx(u8,{}),a==="profile"&&m.jsx(TT,{}),a==="leaderboard"&&m.jsx(d8,{})]})}):m.jsx(GU,{})},m8=()=>m.jsx(rL,{children:m.jsx(iL,{children:m.jsx(p8,{})})});jP.createRoot(document.getElementById("root")).render(m.jsx(m8,{}));
